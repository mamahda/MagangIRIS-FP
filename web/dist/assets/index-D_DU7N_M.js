const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AboutView-BgNNIbv1.js","assets/AboutView-C6Dx7pxG.css"])))=>i.map(i=>d[i]);
var Fd=Object.defineProperty;var Ld=(e,t,r)=>t in e?Fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var He=(e,t,r)=>Ld(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ko(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const Rt={},Vr=[],Ee=()=>{},Nd=()=>!1,En=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Oo=e=>e.startsWith("onUpdate:"),$t=Object.assign,Fo=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Gd=Object.prototype.hasOwnProperty,St=(e,t)=>Gd.call(e,t),ft=Array.isArray,jr=e=>Pn(e)==="[object Map]",hu=e=>Pn(e)==="[object Set]",dt=e=>typeof e=="function",It=e=>typeof e=="string",rr=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",cu=e=>(Mt(e)||dt(e))&&dt(e.then)&&dt(e.catch),uu=Object.prototype.toString,Pn=e=>uu.call(e),Id=e=>Pn(e).slice(8,-1),fu=e=>Pn(e)==="[object Object]",Lo=e=>It(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vi=ko(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Dd=/-(\w)/g,ve=Rn(e=>e.replace(Dd,(t,r)=>r?r.toUpperCase():"")),Ud=/\B([A-Z])/g,br=Rn(e=>e.replace(Ud,"-$1").toLowerCase()),An=Rn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Is=Rn(e=>e?`on${An(e)}`:""),tr=(e,t)=>!Object.is(e,t),Ds=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},du=(e,t,r,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:r})},Bd=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Rl;const gu=()=>Rl||(Rl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function No(e){if(ft(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],n=It(i)?$d(i):No(i);if(n)for(const s in n)t[s]=n[s]}return t}else if(It(e)||Mt(e))return e}const Vd=/;(?![^(]*\))/g,jd=/:([^]+)/,Hd=/\/\*[^]*?\*\//g;function $d(e){const t={};return e.replace(Hd,"").split(Vd).forEach(r=>{if(r){const i=r.split(jd);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Mn(e){let t="";if(It(e))t=e;else if(ft(e))for(let r=0;r<e.length;r++){const i=Mn(e[r]);i&&(t+=i+" ")}else if(Mt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const zd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wd=ko(zd);function pu(e){return!!e||e===""}const vu=e=>!!(e&&e.__v_isRef===!0),ee=e=>It(e)?e:e==null?"":ft(e)||Mt(e)&&(e.toString===uu||!dt(e.toString))?vu(e)?ee(e.value):JSON.stringify(e,mu,2):String(e),mu=(e,t)=>vu(t)?mu(e,t.value):jr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,n],s)=>(r[Us(i,s)+" =>"]=n,r),{})}:hu(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Us(r))}:rr(t)?Us(t):Mt(t)&&!ft(t)&&!fu(t)?String(t):t,Us=(e,t="")=>{var r;return rr(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xt;class _u{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xt,!t&&Xt&&(this.index=(Xt.scopes||(Xt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Xt;try{return Xt=this,t()}finally{Xt=r}}}on(){Xt=this}off(){Xt=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function yu(e){return new _u(e)}function bu(){return Xt}function qd(e,t=!1){Xt&&Xt.cleanups.push(e)}let Tt;const Bs=new WeakSet;class Su{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xt&&Xt.active&&Xt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bs.has(this)&&(Bs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Al(this),Cu(this);const t=Tt,r=ge;Tt=this,ge=!0;try{return this.fn()}finally{Tu(this),Tt=t,ge=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Do(t);this.deps=this.depsTail=void 0,Al(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){eo(this)&&this.run()}get dirty(){return eo(this)}}let wu=0,mi;function xu(e){e.flags|=8,e.next=mi,mi=e}function Go(){wu++}function Io(){if(--wu>0)return;let e;for(;mi;){let t=mi;for(mi=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=r}}if(e)throw e}function Cu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Tu(e){let t,r=e.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),Do(i),Kd(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=r}function eo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Eu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Eu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ci))return;e.globalVersion=Ci;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!eo(e)){e.flags&=-3;return}const r=Tt,i=ge;Tt=e,ge=!0;try{Cu(e);const n=e.fn(e._value);(t.version===0||tr(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Tt=r,ge=i,Tu(e),e.flags&=-3}}function Do(e){const{dep:t,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),t.subs===e&&(t.subs=r),!t.subs&&t.computed){t.computed.flags&=-5;for(let n=t.computed.deps;n;n=n.nextDep)Do(n)}}function Kd(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let ge=!0;const Pu=[];function ir(){Pu.push(ge),ge=!1}function nr(){const e=Pu.pop();ge=e===void 0?!0:e}function Al(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Tt;Tt=void 0;try{t()}finally{Tt=r}}}let Ci=0;class Yd{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Uo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0}track(t){if(!Tt||!ge||Tt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Tt)r=this.activeLink=new Yd(Tt,this),Tt.deps?(r.prevDep=Tt.depsTail,Tt.depsTail.nextDep=r,Tt.depsTail=r):Tt.deps=Tt.depsTail=r,Tt.flags&4&&Ru(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Tt.depsTail,r.nextDep=void 0,Tt.depsTail.nextDep=r,Tt.depsTail=r,Tt.deps===r&&(Tt.deps=i)}return r}trigger(t){this.version++,Ci++,this.notify(t)}notify(t){Go();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Io()}}}function Ru(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Ru(i)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}const cn=new WeakMap,gr=Symbol(""),ro=Symbol(""),Ti=Symbol("");function qt(e,t,r){if(ge&&Tt){let i=cn.get(e);i||cn.set(e,i=new Map);let n=i.get(r);n||i.set(r,n=new Uo),n.track()}}function Ge(e,t,r,i,n,s){const a=cn.get(e);if(!a){Ci++;return}const o=l=>{l&&l.trigger()};if(Go(),t==="clear")a.forEach(o);else{const l=ft(e),h=l&&Lo(r);if(l&&r==="length"){const c=Number(i);a.forEach((u,d)=>{(d==="length"||d===Ti||!rr(d)&&d>=c)&&o(u)})}else switch(r!==void 0&&o(a.get(r)),h&&o(a.get(Ti)),t){case"add":l?h&&o(a.get("length")):(o(a.get(gr)),jr(e)&&o(a.get(ro)));break;case"delete":l||(o(a.get(gr)),jr(e)&&o(a.get(ro)));break;case"set":jr(e)&&o(a.get(gr));break}}Io()}function Xd(e,t){var r;return(r=cn.get(e))==null?void 0:r.get(t)}function Fr(e){const t=yt(e);return t===e?t:(qt(t,"iterate",Ti),le(e)?t:t.map(Wt))}function kn(e){return qt(e=yt(e),"iterate",Ti),e}const Qd={__proto__:null,[Symbol.iterator](){return Vs(this,Symbol.iterator,Wt)},concat(...e){return Fr(this).concat(...e.map(t=>ft(t)?Fr(t):t))},entries(){return Vs(this,"entries",e=>(e[1]=Wt(e[1]),e))},every(e,t){return Me(this,"every",e,t,void 0,arguments)},filter(e,t){return Me(this,"filter",e,t,r=>r.map(Wt),arguments)},find(e,t){return Me(this,"find",e,t,Wt,arguments)},findIndex(e,t){return Me(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Me(this,"findLast",e,t,Wt,arguments)},findLastIndex(e,t){return Me(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Me(this,"forEach",e,t,void 0,arguments)},includes(...e){return js(this,"includes",e)},indexOf(...e){return js(this,"indexOf",e)},join(e){return Fr(this).join(e)},lastIndexOf(...e){return js(this,"lastIndexOf",e)},map(e,t){return Me(this,"map",e,t,void 0,arguments)},pop(){return ai(this,"pop")},push(...e){return ai(this,"push",e)},reduce(e,...t){return Ml(this,"reduce",e,t)},reduceRight(e,...t){return Ml(this,"reduceRight",e,t)},shift(){return ai(this,"shift")},some(e,t){return Me(this,"some",e,t,void 0,arguments)},splice(...e){return ai(this,"splice",e)},toReversed(){return Fr(this).toReversed()},toSorted(e){return Fr(this).toSorted(e)},toSpliced(...e){return Fr(this).toSpliced(...e)},unshift(...e){return ai(this,"unshift",e)},values(){return Vs(this,"values",Wt)}};function Vs(e,t,r){const i=kn(e),n=i[t]();return i!==e&&!le(e)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=r(s.value)),s}),n}const Jd=Array.prototype;function Me(e,t,r,i,n,s){const a=kn(e),o=a!==e&&!le(e),l=a[t];if(l!==Jd[t]){const u=l.apply(e,s);return o?Wt(u):u}let h=r;a!==e&&(o?h=function(u,d){return r.call(this,Wt(u),d,e)}:r.length>2&&(h=function(u,d){return r.call(this,u,d,e)}));const c=l.call(a,h,i);return o&&n?n(c):c}function Ml(e,t,r,i){const n=kn(e);let s=r;return n!==e&&(le(e)?r.length>3&&(s=function(a,o,l){return r.call(this,a,o,l,e)}):s=function(a,o,l){return r.call(this,a,Wt(o),l,e)}),n[t](s,...i)}function js(e,t,r){const i=yt(e);qt(i,"iterate",Ti);const n=i[t](...r);return(n===-1||n===!1)&&Ho(r[0])?(r[0]=yt(r[0]),i[t](...r)):n}function ai(e,t,r=[]){ir(),Go();const i=yt(e)[t].apply(e,r);return Io(),nr(),i}const Zd=ko("__proto__,__v_isRef,__isVue"),Au=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(rr));function t0(e){rr(e)||(e=String(e));const t=yt(this);return qt(t,"has",e),t.hasOwnProperty(e)}class Mu{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){const n=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw")return i===(n?s?d0:Lu:s?Fu:Ou).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=ft(t);if(!n){let l;if(a&&(l=Qd[r]))return l;if(r==="hasOwnProperty")return t0}const o=Reflect.get(t,r,Nt(t)?t:i);return(rr(r)?Au.has(r):Zd(r))||(n||qt(t,"get",r),s)?o:Nt(o)?a&&Lo(r)?o:o.value:Mt(o)?n?Gu(o):Sr(o):o}}class ku extends Mu{constructor(t=!1){super(!1,t)}set(t,r,i,n){let s=t[r];if(!this._isShallow){const l=mr(s);if(!le(i)&&!mr(i)&&(s=yt(s),i=yt(i)),!ft(t)&&Nt(s)&&!Nt(i))return l?!1:(s.value=i,!0)}const a=ft(t)&&Lo(r)?Number(r)<t.length:St(t,r),o=Reflect.set(t,r,i,Nt(t)?t:n);return t===yt(n)&&(a?tr(i,s)&&Ge(t,"set",r,i):Ge(t,"add",r,i)),o}deleteProperty(t,r){const i=St(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&i&&Ge(t,"delete",r,void 0),n}has(t,r){const i=Reflect.has(t,r);return(!rr(r)||!Au.has(r))&&qt(t,"has",r),i}ownKeys(t){return qt(t,"iterate",ft(t)?"length":gr),Reflect.ownKeys(t)}}class e0 extends Mu{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const r0=new ku,i0=new e0,n0=new ku(!0);const Bo=e=>e,On=e=>Reflect.getPrototypeOf(e);function zi(e,t,r=!1,i=!1){e=e.__v_raw;const n=yt(e),s=yt(t);r||(tr(t,s)&&qt(n,"get",t),qt(n,"get",s));const{has:a}=On(n),o=i?Bo:r?zo:Wt;if(a.call(n,t))return o(e.get(t));if(a.call(n,s))return o(e.get(s));e!==n&&e.get(t)}function Wi(e,t=!1){const r=this.__v_raw,i=yt(r),n=yt(e);return t||(tr(e,n)&&qt(i,"has",e),qt(i,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function qi(e,t=!1){return e=e.__v_raw,!t&&qt(yt(e),"iterate",gr),Reflect.get(e,"size",e)}function kl(e,t=!1){!t&&!le(e)&&!mr(e)&&(e=yt(e));const r=yt(this);return On(r).has.call(r,e)||(r.add(e),Ge(r,"add",e,e)),this}function Ol(e,t,r=!1){!r&&!le(t)&&!mr(t)&&(t=yt(t));const i=yt(this),{has:n,get:s}=On(i);let a=n.call(i,e);a||(e=yt(e),a=n.call(i,e));const o=s.call(i,e);return i.set(e,t),a?tr(t,o)&&Ge(i,"set",e,t):Ge(i,"add",e,t),this}function Fl(e){const t=yt(this),{has:r,get:i}=On(t);let n=r.call(t,e);n||(e=yt(e),n=r.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return n&&Ge(t,"delete",e,void 0),s}function Ll(){const e=yt(this),t=e.size!==0,r=e.clear();return t&&Ge(e,"clear",void 0,void 0),r}function Ki(e,t){return function(i,n){const s=this,a=s.__v_raw,o=yt(a),l=t?Bo:e?zo:Wt;return!e&&qt(o,"iterate",gr),a.forEach((h,c)=>i.call(n,l(h),l(c),s))}}function Yi(e,t,r){return function(...i){const n=this.__v_raw,s=yt(n),a=jr(s),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,h=n[e](...i),c=r?Bo:t?zo:Wt;return!t&&qt(s,"iterate",l?ro:gr),{next(){const{value:u,done:d}=h.next();return d?{value:u,done:d}:{value:o?[c(u[0]),c(u[1])]:c(u),done:d}},[Symbol.iterator](){return this}}}}function $e(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function s0(){const e={get(s){return zi(this,s)},get size(){return qi(this)},has:Wi,add:kl,set:Ol,delete:Fl,clear:Ll,forEach:Ki(!1,!1)},t={get(s){return zi(this,s,!1,!0)},get size(){return qi(this)},has:Wi,add(s){return kl.call(this,s,!0)},set(s,a){return Ol.call(this,s,a,!0)},delete:Fl,clear:Ll,forEach:Ki(!1,!0)},r={get(s){return zi(this,s,!0)},get size(){return qi(this,!0)},has(s){return Wi.call(this,s,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:Ki(!0,!1)},i={get(s){return zi(this,s,!0,!0)},get size(){return qi(this,!0)},has(s){return Wi.call(this,s,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:Ki(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Yi(s,!1,!1),r[s]=Yi(s,!0,!1),t[s]=Yi(s,!1,!0),i[s]=Yi(s,!0,!0)}),[e,r,t,i]}const[a0,o0,l0,h0]=s0();function Vo(e,t){const r=t?e?h0:l0:e?o0:a0;return(i,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(St(r,n)&&n in i?r:i,n,s)}const c0={get:Vo(!1,!1)},u0={get:Vo(!1,!0)},f0={get:Vo(!0,!1)};const Ou=new WeakMap,Fu=new WeakMap,Lu=new WeakMap,d0=new WeakMap;function g0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p0(e){return e.__v_skip||!Object.isExtensible(e)?0:g0(Id(e))}function Sr(e){return mr(e)?e:jo(e,!1,r0,c0,Ou)}function Nu(e){return jo(e,!1,n0,u0,Fu)}function Gu(e){return jo(e,!0,i0,f0,Lu)}function jo(e,t,r,i,n){if(!Mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=n.get(e);if(s)return s;const a=p0(e);if(a===0)return e;const o=new Proxy(e,a===2?i:r);return n.set(e,o),o}function Ze(e){return mr(e)?Ze(e.__v_raw):!!(e&&e.__v_isReactive)}function mr(e){return!!(e&&e.__v_isReadonly)}function le(e){return!!(e&&e.__v_isShallow)}function Ho(e){return e?!!e.__v_raw:!1}function yt(e){const t=e&&e.__v_raw;return t?yt(t):e}function $o(e){return!St(e,"__v_skip")&&Object.isExtensible(e)&&du(e,"__v_skip",!0),e}const Wt=e=>Mt(e)?Sr(e):e,zo=e=>Mt(e)?Gu(e):e;function Nt(e){return e?e.__v_isRef===!0:!1}function Fn(e){return Iu(e,!1)}function v0(e){return Iu(e,!0)}function Iu(e,t){return Nt(e)?e:new m0(e,t)}class m0{constructor(t,r){this.dep=new Uo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:yt(t),this._value=r?t:Wt(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||le(t)||mr(t);t=i?t:yt(t),tr(t,r)&&(this._rawValue=t,this._value=i?t:Wt(t),this.dep.trigger())}}function Hr(e){return Nt(e)?e.value:e}const _0={get:(e,t,r)=>t==="__v_raw"?e:Hr(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const n=e[t];return Nt(n)&&!Nt(r)?(n.value=r,!0):Reflect.set(e,t,r,i)}};function Du(e){return Ze(e)?e:new Proxy(e,_0)}function y0(e){const t=ft(e)?new Array(e.length):{};for(const r in e)t[r]=S0(e,r);return t}class b0{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Xd(yt(this._object),this._key)}}function S0(e,t,r){const i=e[t];return Nt(i)?i:new b0(e,t,r)}class w0{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Uo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ci-1,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Tt!==this)return xu(this),!0}get value(){const t=this.dep.track();return Eu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function x0(e,t,r=!1){let i,n;return dt(e)?i=e:(i=e.get,n=e.set),new w0(i,n,r)}const Xi={},un=new WeakMap;let dr;function C0(e,t=!1,r=dr){if(r){let i=un.get(r);i||un.set(r,i=[]),i.push(e)}}function T0(e,t,r=Rt){const{immediate:i,deep:n,once:s,scheduler:a,augmentJob:o,call:l}=r,h=m=>n?m:le(m)||n===!1||n===0?Je(m,1):Je(m);let c,u,d,f,p=!1,_=!1;if(Nt(e)?(u=()=>e.value,p=le(e)):Ze(e)?(u=()=>h(e),p=!0):ft(e)?(_=!0,p=e.some(m=>Ze(m)||le(m)),u=()=>e.map(m=>{if(Nt(m))return m.value;if(Ze(m))return h(m);if(dt(m))return l?l(m,2):m()})):dt(e)?t?u=l?()=>l(e,2):e:u=()=>{if(d){ir();try{d()}finally{nr()}}const m=dr;dr=c;try{return l?l(e,3,[f]):e(f)}finally{dr=m}}:u=Ee,t&&n){const m=u,x=n===!0?1/0:n;u=()=>Je(m(),x)}const b=bu(),S=()=>{c.stop(),b&&Fo(b.effects,c)};if(s&&t){const m=t;t=(...x)=>{m(...x),S()}}let C=_?new Array(e.length).fill(Xi):Xi;const g=m=>{if(!(!(c.flags&1)||!c.dirty&&!m))if(t){const x=c.run();if(n||p||(_?x.some((O,D)=>tr(O,C[D])):tr(x,C))){d&&d();const O=dr;dr=c;try{const D=[x,C===Xi?void 0:_&&C[0]===Xi?[]:C,f];l?l(t,3,D):t(...D),C=x}finally{dr=O}}}else c.run()};return o&&o(g),c=new Su(u),c.scheduler=a?()=>a(g,!1):g,f=m=>C0(m,!1,c),d=c.onStop=()=>{const m=un.get(c);if(m){if(l)l(m,4);else for(const x of m)x();un.delete(c)}},t?i?g(!0):C=c.run():a?a(g.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Je(e,t=1/0,r){if(t<=0||!Mt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Nt(e))Je(e.value,t,r);else if(ft(e))for(let i=0;i<e.length;i++)Je(e[i],t,r);else if(hu(e)||jr(e))e.forEach(i=>{Je(i,t,r)});else if(fu(e)){for(const i in e)Je(e[i],t,r);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Je(e[i],t,r)}return e}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fi(e,t,r,i){try{return i?e(...i):e()}catch(n){Ln(n,t,r)}}function Re(e,t,r,i){if(dt(e)){const n=Fi(e,t,r,i);return n&&cu(n)&&n.catch(s=>{Ln(s,t,r)}),n}if(ft(e)){const n=[];for(let s=0;s<e.length;s++)n.push(Re(e[s],t,r,i));return n}}function Ln(e,t,r,i=!0){const n=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Rt;if(t){let o=t.parent;const l=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,l,h)===!1)return}o=o.parent}if(s){ir(),Fi(s,null,10,[e,l,h]),nr();return}}E0(e,r,n,i,a)}function E0(e,t,r,i=!0,n=!1){if(n)throw e;console.error(e)}let Ei=!1,no=!1;const Qt=[];let Se=0;const $r=[];let Ye=null,Dr=0;const Uu=Promise.resolve();let Wo=null;function qo(e){const t=Wo||Uu;return e?t.then(this?e.bind(this):e):t}function P0(e){let t=Ei?Se+1:0,r=Qt.length;for(;t<r;){const i=t+r>>>1,n=Qt[i],s=Pi(n);s<e||s===e&&n.flags&2?t=i+1:r=i}return t}function Ko(e){if(!(e.flags&1)){const t=Pi(e),r=Qt[Qt.length-1];!r||!(e.flags&2)&&t>=Pi(r)?Qt.push(e):Qt.splice(P0(t),0,e),e.flags|=1,Bu()}}function Bu(){!Ei&&!no&&(no=!0,Wo=Uu.then(ju))}function R0(e){ft(e)?$r.push(...e):Ye&&e.id===-1?Ye.splice(Dr+1,0,e):e.flags&1||($r.push(e),e.flags|=1),Bu()}function Nl(e,t,r=Ei?Se+1:0){for(;r<Qt.length;r++){const i=Qt[r];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Qt.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&=-2}}}function Vu(e){if($r.length){const t=[...new Set($r)].sort((r,i)=>Pi(r)-Pi(i));if($r.length=0,Ye){Ye.push(...t);return}for(Ye=t,Dr=0;Dr<Ye.length;Dr++){const r=Ye[Dr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ye=null,Dr=0}}const Pi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ju(e){no=!1,Ei=!0;try{for(Se=0;Se<Qt.length;Se++){const t=Qt[Se];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Fi(t,t.i,t.i?15:14),t.flags&=-2)}}finally{for(;Se<Qt.length;Se++){const t=Qt[Se];t&&(t.flags&=-2)}Se=0,Qt.length=0,Vu(),Ei=!1,Wo=null,(Qt.length||$r.length)&&ju()}}let ne=null,Hu=null;function fn(e){const t=ne;return ne=e,Hu=e&&e.type.__scopeId||null,t}function so(e,t=ne,r){if(!t||e._n)return e;const i=(...n)=>{i._d&&$l(-1);const s=fn(t);let a;try{a=e(...n)}finally{fn(s),i._d&&$l(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function cr(e,t,r,i){const n=e.dirs,s=t&&t.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(ir(),Re(l,r,8,[e.el,o,e,t]),nr())}}const A0=Symbol("_vte"),M0=e=>e.__isTeleport;function Yo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Yo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Nn(e,t){return dt(e)?$t({name:e.name},t,{setup:e}):e}function $u(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ao(e,t,r,i,n=!1){if(ft(e)){e.forEach((p,_)=>ao(p,t&&(ft(t)?t[_]:t),r,i,n));return}if(_i(i)&&!n)return;const s=i.shapeFlag&4?rl(i.component):i.el,a=n?null:s,{i:o,r:l}=e,h=t&&t.r,c=o.refs===Rt?o.refs={}:o.refs,u=o.setupState,d=yt(u),f=u===Rt?()=>!1:p=>St(d,p);if(h!=null&&h!==l&&(It(h)?(c[h]=null,f(h)&&(u[h]=null)):Nt(h)&&(h.value=null)),dt(l))Fi(l,o,12,[a,c]);else{const p=It(l),_=Nt(l);if(p||_){const b=()=>{if(e.f){const S=p?f(l)?u[l]:c[l]:l.value;n?ft(S)&&Fo(S,s):ft(S)?S.includes(s)||S.push(s):p?(c[l]=[s],f(l)&&(u[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else p?(c[l]=a,f(l)&&(u[l]=a)):_&&(l.value=a,e.k&&(c[e.k]=a))};a?(b.id=-1,re(b,r)):b()}}}const _i=e=>!!e.type.__asyncLoader,zu=e=>e.type.__isKeepAlive;function k0(e,t){Wu(e,"a",t)}function O0(e,t){Wu(e,"da",t)}function Wu(e,t,r=Ht){const i=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Gn(t,i,r),r){let n=r.parent;for(;n&&n.parent;)zu(n.parent.vnode)&&F0(i,t,r,n),n=n.parent}}function F0(e,t,r,i){const n=Gn(t,e,i,!0);Jo(()=>{Fo(i[t],n)},r)}function Gn(e,t,r=Ht,i=!1){if(r){const n=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...a)=>{ir();const o=Li(r),l=Re(t,r,e,a);return o(),nr(),l});return i?n.unshift(s):n.push(s),s}}const De=e=>(t,r=Ht)=>{(!Un||e==="sp")&&Gn(e,(...i)=>t(...i),r)},L0=De("bm"),Xo=De("m"),N0=De("bu"),Qo=De("u"),qu=De("bum"),Jo=De("um"),G0=De("sp"),I0=De("rtg"),D0=De("rtc");function U0(e,t=Ht){Gn("ec",e,t)}const B0="components";function nn(e,t){return j0(B0,e,!0,t)||e}const V0=Symbol.for("v-ndc");function j0(e,t,r=!0,i=!1){const n=ne||Ht;if(n){const s=n.type;{const o=M1(s,!1);if(o&&(o===t||o===ve(t)||o===An(ve(t))))return s}const a=Gl(n[e]||s[e],t)||Gl(n.appContext[e],t);return!a&&i?s:a}}function Gl(e,t){return e&&(e[t]||e[ve(t)]||e[An(ve(t))])}function H0(e,t,r,i){let n;const s=r,a=ft(e);if(a||It(e)){const o=a&&Ze(e);let l=!1;o&&(l=!le(e),e=kn(e)),n=new Array(e.length);for(let h=0,c=e.length;h<c;h++)n[h]=t(l?Wt(e[h]):e[h],h,void 0,s)}else if(typeof e=="number"){n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o,void 0,s)}else if(Mt(e))if(e[Symbol.iterator])n=Array.from(e,(o,l)=>t(o,l,void 0,s));else{const o=Object.keys(e);n=new Array(o.length);for(let l=0,h=o.length;l<h;l++){const c=o[l];n[l]=t(e[c],c,l,s)}}else n=[];return n}const oo=e=>e?pf(e)?rl(e):oo(e.parent):null,yi=$t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oo(e.parent),$root:e=>oo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zo(e),$forceUpdate:e=>e.f||(e.f=()=>{Ko(e.update)}),$nextTick:e=>e.n||(e.n=qo.bind(e.proxy)),$watch:e=>u1.bind(e)}),Hs=(e,t)=>e!==Rt&&!e.__isScriptSetup&&St(e,t),$0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:s,accessCache:a,type:o,appContext:l}=e;let h;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return n[t];case 4:return r[t];case 3:return s[t]}else{if(Hs(i,t))return a[t]=1,i[t];if(n!==Rt&&St(n,t))return a[t]=2,n[t];if((h=e.propsOptions[0])&&St(h,t))return a[t]=3,s[t];if(r!==Rt&&St(r,t))return a[t]=4,r[t];lo&&(a[t]=0)}}const c=yi[t];let u,d;if(c)return t==="$attrs"&&qt(e.attrs,"get",""),c(e);if((u=o.__cssModules)&&(u=u[t]))return u;if(r!==Rt&&St(r,t))return a[t]=4,r[t];if(d=l.config.globalProperties,St(d,t))return d[t]},set({_:e},t,r){const{data:i,setupState:n,ctx:s}=e;return Hs(n,t)?(n[t]=r,!0):i!==Rt&&St(i,t)?(i[t]=r,!0):St(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:n,propsOptions:s}},a){let o;return!!r[a]||e!==Rt&&St(e,a)||Hs(t,a)||(o=s[0])&&St(o,a)||St(i,a)||St(yi,a)||St(n.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:St(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Il(e){return ft(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let lo=!0;function z0(e){const t=Zo(e),r=e.proxy,i=e.ctx;lo=!1,t.beforeCreate&&Dl(t.beforeCreate,e,"bc");const{data:n,computed:s,methods:a,watch:o,provide:l,inject:h,created:c,beforeMount:u,mounted:d,beforeUpdate:f,updated:p,activated:_,deactivated:b,beforeDestroy:S,beforeUnmount:C,destroyed:g,unmounted:m,render:x,renderTracked:O,renderTriggered:D,errorCaptured:T,serverPrefetch:N,expose:F,inheritAttrs:A,components:j,directives:B,filters:X}=t;if(h&&W0(h,i,null),a)for(const W in a){const y=a[W];dt(y)&&(i[W]=y.bind(r))}if(n){const W=n.call(r,r);Mt(W)&&(e.data=Sr(W))}if(lo=!0,s)for(const W in s){const y=s[W],P=dt(y)?y.bind(r,r):dt(y.get)?y.get.bind(r,r):Ee,R=!dt(y)&&dt(y.set)?y.set.bind(r):Ee,M=oe({get:P,set:R});Object.defineProperty(i,W,{enumerable:!0,configurable:!0,get:()=>M.value,set:L=>M.value=L})}if(o)for(const W in o)Ku(o[W],i,r,W);if(l){const W=dt(l)?l.call(r):l;Reflect.ownKeys(W).forEach(y=>{sn(y,W[y])})}c&&Dl(c,e,"c");function Q(W,y){ft(y)?y.forEach(P=>W(P.bind(r))):y&&W(y.bind(r))}if(Q(L0,u),Q(Xo,d),Q(N0,f),Q(Qo,p),Q(k0,_),Q(O0,b),Q(U0,T),Q(D0,O),Q(I0,D),Q(qu,C),Q(Jo,m),Q(G0,N),ft(F))if(F.length){const W=e.exposed||(e.exposed={});F.forEach(y=>{Object.defineProperty(W,y,{get:()=>r[y],set:P=>r[y]=P})})}else e.exposed||(e.exposed={});x&&e.render===Ee&&(e.render=x),A!=null&&(e.inheritAttrs=A),j&&(e.components=j),B&&(e.directives=B),N&&$u(e)}function W0(e,t,r=Ee){ft(e)&&(e=ho(e));for(const i in e){const n=e[i];let s;Mt(n)?"default"in n?s=Pe(n.from||i,n.default,!0):s=Pe(n.from||i):s=Pe(n),Nt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function Dl(e,t,r){Re(ft(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ku(e,t,r,i){let n=i.includes(".")?hf(r,i):()=>r[i];if(It(e)){const s=t[e];dt(s)&&vr(n,s)}else if(dt(e))vr(n,e.bind(r));else if(Mt(e))if(ft(e))e.forEach(s=>Ku(s,t,r,i));else{const s=dt(e.handler)?e.handler.bind(r):t[e.handler];dt(s)&&vr(n,s,e)}}function Zo(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let l;return o?l=o:!n.length&&!r&&!i?l=t:(l={},n.length&&n.forEach(h=>dn(l,h,a,!0)),dn(l,t,a)),Mt(t)&&s.set(t,l),l}function dn(e,t,r,i=!1){const{mixins:n,extends:s}=t;s&&dn(e,s,r,!0),n&&n.forEach(a=>dn(e,a,r,!0));for(const a in t)if(!(i&&a==="expose")){const o=q0[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const q0={data:Ul,props:Bl,emits:Bl,methods:pi,computed:pi,beforeCreate:Yt,created:Yt,beforeMount:Yt,mounted:Yt,beforeUpdate:Yt,updated:Yt,beforeDestroy:Yt,beforeUnmount:Yt,destroyed:Yt,unmounted:Yt,activated:Yt,deactivated:Yt,errorCaptured:Yt,serverPrefetch:Yt,components:pi,directives:pi,watch:Y0,provide:Ul,inject:K0};function Ul(e,t){return t?e?function(){return $t(dt(e)?e.call(this,this):e,dt(t)?t.call(this,this):t)}:t:e}function K0(e,t){return pi(ho(e),ho(t))}function ho(e){if(ft(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Yt(e,t){return e?[...new Set([].concat(e,t))]:t}function pi(e,t){return e?$t(Object.create(null),e,t):t}function Bl(e,t){return e?ft(e)&&ft(t)?[...new Set([...e,...t])]:$t(Object.create(null),Il(e),Il(t??{})):t}function Y0(e,t){if(!e)return t;if(!t)return e;const r=$t(Object.create(null),e);for(const i in t)r[i]=Yt(e[i],t[i]);return r}function Yu(){return{app:null,config:{isNativeTag:Nd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let X0=0;function Q0(e,t){return function(i,n=null){dt(i)||(i=$t({},i)),n!=null&&!Mt(n)&&(n=null);const s=Yu(),a=new WeakSet,o=[];let l=!1;const h=s.app={_uid:X0++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:O1,get config(){return s.config},set config(c){},use(c,...u){return a.has(c)||(c&&dt(c.install)?(a.add(c),c.install(h,...u)):dt(c)&&(a.add(c),c(h,...u))),h},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),h},component(c,u){return u?(s.components[c]=u,h):s.components[c]},directive(c,u){return u?(s.directives[c]=u,h):s.directives[c]},mount(c,u,d){if(!l){const f=h._ceVNode||Ut(i,n);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),u&&t?t(f,c):e(f,c,d),l=!0,h._container=c,c.__vue_app__=h,rl(f.component)}},onUnmount(c){o.push(c)},unmount(){l&&(Re(o,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(c,u){return s.provides[c]=u,h},runWithContext(c){const u=pr;pr=h;try{return c()}finally{pr=u}}};return h}}let pr=null;function sn(e,t){if(Ht){let r=Ht.provides;const i=Ht.parent&&Ht.parent.provides;i===r&&(r=Ht.provides=Object.create(i)),r[e]=t}}function Pe(e,t,r=!1){const i=Ht||ne;if(i||pr){const n=pr?pr._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&dt(t)?t.call(i&&i.proxy):t}}function J0(){return!!(Ht||ne||pr)}const Xu={},Qu=()=>Object.create(Xu),Ju=e=>Object.getPrototypeOf(e)===Xu;function Z0(e,t,r,i=!1){const n={},s=Qu();e.propsDefaults=Object.create(null),Zu(e,t,n,s);for(const a in e.propsOptions[0])a in n||(n[a]=void 0);r?e.props=i?n:Nu(n):e.type.props?e.props=n:e.props=s,e.attrs=s}function t1(e,t,r,i){const{props:n,attrs:s,vnode:{patchFlag:a}}=e,o=yt(n),[l]=e.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let u=0;u<c.length;u++){let d=c[u];if(In(e.emitsOptions,d))continue;const f=t[d];if(l)if(St(s,d))f!==s[d]&&(s[d]=f,h=!0);else{const p=ve(d);n[p]=co(l,o,p,f,e,!1)}else f!==s[d]&&(s[d]=f,h=!0)}}}else{Zu(e,t,n,s)&&(h=!0);let c;for(const u in o)(!t||!St(t,u)&&((c=br(u))===u||!St(t,c)))&&(l?r&&(r[u]!==void 0||r[c]!==void 0)&&(n[u]=co(l,o,u,void 0,e,!0)):delete n[u]);if(s!==o)for(const u in s)(!t||!St(t,u))&&(delete s[u],h=!0)}h&&Ge(e.attrs,"set","")}function Zu(e,t,r,i){const[n,s]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(vi(l))continue;const h=t[l];let c;n&&St(n,c=ve(l))?!s||!s.includes(c)?r[c]=h:(o||(o={}))[c]=h:In(e.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,a=!0)}if(s){const l=yt(r),h=o||Rt;for(let c=0;c<s.length;c++){const u=s[c];r[u]=co(n,l,u,h[u],e,!St(h,u))}}return a}function co(e,t,r,i,n,s){const a=e[r];if(a!=null){const o=St(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&dt(l)){const{propsDefaults:h}=n;if(r in h)i=h[r];else{const c=Li(n);i=h[r]=l.call(null,t),c()}}else i=l;n.ce&&n.ce._setProp(r,i)}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===br(r))&&(i=!0))}return i}const e1=new WeakMap;function tf(e,t,r=!1){const i=r?e1:t.propsCache,n=i.get(e);if(n)return n;const s=e.props,a={},o=[];let l=!1;if(!dt(e)){const c=u=>{l=!0;const[d,f]=tf(u,t,!0);$t(a,d),f&&o.push(...f)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Mt(e)&&i.set(e,Vr),Vr;if(ft(s))for(let c=0;c<s.length;c++){const u=ve(s[c]);Vl(u)&&(a[u]=Rt)}else if(s)for(const c in s){const u=ve(c);if(Vl(u)){const d=s[c],f=a[u]=ft(d)||dt(d)?{type:d}:$t({},d),p=f.type;let _=!1,b=!0;if(ft(p))for(let S=0;S<p.length;++S){const C=p[S],g=dt(C)&&C.name;if(g==="Boolean"){_=!0;break}else g==="String"&&(b=!1)}else _=dt(p)&&p.name==="Boolean";f[0]=_,f[1]=b,(_||St(f,"default"))&&o.push(u)}}const h=[a,o];return Mt(e)&&i.set(e,h),h}function Vl(e){return e[0]!=="$"&&!vi(e)}const ef=e=>e[0]==="_"||e==="$stable",tl=e=>ft(e)?e.map(xe):[xe(e)],r1=(e,t,r)=>{if(t._n)return t;const i=so((...n)=>tl(t(...n)),r);return i._c=!1,i},rf=(e,t,r)=>{const i=e._ctx;for(const n in e){if(ef(n))continue;const s=e[n];if(dt(s))t[n]=r1(n,s,i);else if(s!=null){const a=tl(s);t[n]=()=>a}}},nf=(e,t)=>{const r=tl(t);e.slots.default=()=>r},sf=(e,t,r)=>{for(const i in t)(r||i!=="_")&&(e[i]=t[i])},i1=(e,t,r)=>{const i=e.slots=Qu();if(e.vnode.shapeFlag&32){const n=t._;n?(sf(i,t,r),r&&du(i,"_",n,!0)):rf(t,i)}else t&&nf(e,t)},n1=(e,t,r)=>{const{vnode:i,slots:n}=e;let s=!0,a=Rt;if(i.shapeFlag&32){const o=t._;o?r&&o===1?s=!1:sf(n,t,r):(s=!t.$stable,rf(t,n)),a=t}else t&&(nf(e,t),a={default:1});if(s)for(const o in n)!ef(o)&&a[o]==null&&delete n[o]},re=_1;function s1(e){return a1(e)}function a1(e,t){const r=gu();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:a,createText:o,createComment:l,setText:h,setElementText:c,parentNode:u,nextSibling:d,setScopeId:f=Ee,insertStaticContent:p}=e,_=(w,E,G,K=null,$=null,Y=null,et=void 0,it=null,rt=!!E.dynamicChildren)=>{if(w===E)return;w&&!oi(w,E)&&(K=v(w),L(w,$,Y,!0),w=null),E.patchFlag===-2&&(rt=!1,E.dynamicChildren=null);const{type:Z,ref:lt,shapeFlag:nt}=E;switch(Z){case Dn:b(w,E,G,K);break;case _r:S(w,E,G,K);break;case Ws:w==null&&C(E,G,K,et);break;case we:j(w,E,G,K,$,Y,et,it,rt);break;default:nt&1?x(w,E,G,K,$,Y,et,it,rt):nt&6?B(w,E,G,K,$,Y,et,it,rt):(nt&64||nt&128)&&Z.process(w,E,G,K,$,Y,et,it,rt,q)}lt!=null&&$&&ao(lt,w&&w.ref,Y,E||w,!E)},b=(w,E,G,K)=>{if(w==null)i(E.el=o(E.children),G,K);else{const $=E.el=w.el;E.children!==w.children&&h($,E.children)}},S=(w,E,G,K)=>{w==null?i(E.el=l(E.children||""),G,K):E.el=w.el},C=(w,E,G,K)=>{[w.el,w.anchor]=p(w.children,E,G,K,w.el,w.anchor)},g=({el:w,anchor:E},G,K)=>{let $;for(;w&&w!==E;)$=d(w),i(w,G,K),w=$;i(E,G,K)},m=({el:w,anchor:E})=>{let G;for(;w&&w!==E;)G=d(w),n(w),w=G;n(E)},x=(w,E,G,K,$,Y,et,it,rt)=>{E.type==="svg"?et="svg":E.type==="math"&&(et="mathml"),w==null?O(E,G,K,$,Y,et,it,rt):N(w,E,$,Y,et,it,rt)},O=(w,E,G,K,$,Y,et,it)=>{let rt,Z;const{props:lt,shapeFlag:nt,transition:ot,dirs:ct}=w;if(rt=w.el=a(w.type,Y,lt&&lt.is,lt),nt&8?c(rt,w.children):nt&16&&T(w.children,rt,null,K,$,$s(w,Y),et,it),ct&&cr(w,null,K,"created"),D(rt,w,w.scopeId,et,K),lt){for(const Pt in lt)Pt!=="value"&&!vi(Pt)&&s(rt,Pt,null,lt[Pt],Y,K);"value"in lt&&s(rt,"value",null,lt.value,Y),(Z=lt.onVnodeBeforeMount)&&be(Z,K,w)}ct&&cr(w,null,K,"beforeMount");const _t=o1($,ot);_t&&ot.beforeEnter(rt),i(rt,E,G),((Z=lt&&lt.onVnodeMounted)||_t||ct)&&re(()=>{Z&&be(Z,K,w),_t&&ot.enter(rt),ct&&cr(w,null,K,"mounted")},$)},D=(w,E,G,K,$)=>{if(G&&f(w,G),K)for(let Y=0;Y<K.length;Y++)f(w,K[Y]);if($){let Y=$.subTree;if(E===Y||uf(Y.type)&&(Y.ssContent===E||Y.ssFallback===E)){const et=$.vnode;D(w,et,et.scopeId,et.slotScopeIds,$.parent)}}},T=(w,E,G,K,$,Y,et,it,rt=0)=>{for(let Z=rt;Z<w.length;Z++){const lt=w[Z]=it?Xe(w[Z]):xe(w[Z]);_(null,lt,E,G,K,$,Y,et,it)}},N=(w,E,G,K,$,Y,et)=>{const it=E.el=w.el;let{patchFlag:rt,dynamicChildren:Z,dirs:lt}=E;rt|=w.patchFlag&16;const nt=w.props||Rt,ot=E.props||Rt;let ct;if(G&&ur(G,!1),(ct=ot.onVnodeBeforeUpdate)&&be(ct,G,E,w),lt&&cr(E,w,G,"beforeUpdate"),G&&ur(G,!0),(nt.innerHTML&&ot.innerHTML==null||nt.textContent&&ot.textContent==null)&&c(it,""),Z?F(w.dynamicChildren,Z,it,G,K,$s(E,$),Y):et||y(w,E,it,null,G,K,$s(E,$),Y,!1),rt>0){if(rt&16)A(it,nt,ot,G,$);else if(rt&2&&nt.class!==ot.class&&s(it,"class",null,ot.class,$),rt&4&&s(it,"style",nt.style,ot.style,$),rt&8){const _t=E.dynamicProps;for(let Pt=0;Pt<_t.length;Pt++){const wt=_t[Pt],Jt=nt[wt],zt=ot[wt];(zt!==Jt||wt==="value")&&s(it,wt,Jt,zt,$,G)}}rt&1&&w.children!==E.children&&c(it,E.children)}else!et&&Z==null&&A(it,nt,ot,G,$);((ct=ot.onVnodeUpdated)||lt)&&re(()=>{ct&&be(ct,G,E,w),lt&&cr(E,w,G,"updated")},K)},F=(w,E,G,K,$,Y,et)=>{for(let it=0;it<E.length;it++){const rt=w[it],Z=E[it],lt=rt.el&&(rt.type===we||!oi(rt,Z)||rt.shapeFlag&70)?u(rt.el):G;_(rt,Z,lt,null,K,$,Y,et,!0)}},A=(w,E,G,K,$)=>{if(E!==G){if(E!==Rt)for(const Y in E)!vi(Y)&&!(Y in G)&&s(w,Y,E[Y],null,$,K);for(const Y in G){if(vi(Y))continue;const et=G[Y],it=E[Y];et!==it&&Y!=="value"&&s(w,Y,it,et,$,K)}"value"in G&&s(w,"value",E.value,G.value,$)}},j=(w,E,G,K,$,Y,et,it,rt)=>{const Z=E.el=w?w.el:o(""),lt=E.anchor=w?w.anchor:o("");let{patchFlag:nt,dynamicChildren:ot,slotScopeIds:ct}=E;ct&&(it=it?it.concat(ct):ct),w==null?(i(Z,G,K),i(lt,G,K),T(E.children||[],G,lt,$,Y,et,it,rt)):nt>0&&nt&64&&ot&&w.dynamicChildren?(F(w.dynamicChildren,ot,G,$,Y,et,it),(E.key!=null||$&&E===$.subTree)&&af(w,E,!0)):y(w,E,G,lt,$,Y,et,it,rt)},B=(w,E,G,K,$,Y,et,it,rt)=>{E.slotScopeIds=it,w==null?E.shapeFlag&512?$.ctx.activate(E,G,K,et,rt):X(E,G,K,$,Y,et,rt):V(w,E,rt)},X=(w,E,G,K,$,Y,et)=>{const it=w.component=T1(w,K,$);if(zu(w)&&(it.ctx.renderer=q),E1(it,!1,et),it.asyncDep){if($&&$.registerDep(it,Q,et),!w.el){const rt=it.subTree=Ut(_r);S(null,rt,E,G)}}else Q(it,w,E,G,$,Y,et)},V=(w,E,G)=>{const K=E.component=w.component;if(v1(w,E,G))if(K.asyncDep&&!K.asyncResolved){W(K,E,G);return}else K.next=E,K.update();else E.el=w.el,K.vnode=E},Q=(w,E,G,K,$,Y,et)=>{const it=()=>{if(w.isMounted){let{next:nt,bu:ot,u:ct,parent:_t,vnode:Pt}=w;{const Zt=of(w);if(Zt){nt&&(nt.el=Pt.el,W(w,nt,et)),Zt.asyncDep.then(()=>{w.isUnmounted||it()});return}}let wt=nt,Jt;ur(w,!1),nt?(nt.el=Pt.el,W(w,nt,et)):nt=Pt,ot&&Ds(ot),(Jt=nt.props&&nt.props.onVnodeBeforeUpdate)&&be(Jt,_t,nt,Pt),ur(w,!0);const zt=zs(w),ce=w.subTree;w.subTree=zt,_(ce,zt,u(ce.el),v(ce),w,$,Y),nt.el=zt.el,wt===null&&m1(w,zt.el),ct&&re(ct,$),(Jt=nt.props&&nt.props.onVnodeUpdated)&&re(()=>be(Jt,_t,nt,Pt),$)}else{let nt;const{el:ot,props:ct}=E,{bm:_t,m:Pt,parent:wt,root:Jt,type:zt}=w,ce=_i(E);if(ur(w,!1),_t&&Ds(_t),!ce&&(nt=ct&&ct.onVnodeBeforeMount)&&be(nt,wt,E),ur(w,!0),ot&&st){const Zt=()=>{w.subTree=zs(w),st(ot,w.subTree,w,$,null)};ce&&zt.__asyncHydrate?zt.__asyncHydrate(ot,w,Zt):Zt()}else{Jt.ce&&Jt.ce._injectChildStyle(zt);const Zt=w.subTree=zs(w);_(null,Zt,G,K,w,$,Y),E.el=Zt.el}if(Pt&&re(Pt,$),!ce&&(nt=ct&&ct.onVnodeMounted)){const Zt=E;re(()=>be(nt,wt,Zt),$)}(E.shapeFlag&256||wt&&_i(wt.vnode)&&wt.vnode.shapeFlag&256)&&w.a&&re(w.a,$),w.isMounted=!0,E=G=K=null}};w.scope.on();const rt=w.effect=new Su(it);w.scope.off();const Z=w.update=rt.run.bind(rt),lt=w.job=rt.runIfDirty.bind(rt);lt.i=w,lt.id=w.uid,rt.scheduler=()=>Ko(lt),ur(w,!0),Z()},W=(w,E,G)=>{E.component=w;const K=w.vnode.props;w.vnode=E,w.next=null,t1(w,E.props,K,G),n1(w,E.children,G),ir(),Nl(w),nr()},y=(w,E,G,K,$,Y,et,it,rt=!1)=>{const Z=w&&w.children,lt=w?w.shapeFlag:0,nt=E.children,{patchFlag:ot,shapeFlag:ct}=E;if(ot>0){if(ot&128){R(Z,nt,G,K,$,Y,et,it,rt);return}else if(ot&256){P(Z,nt,G,K,$,Y,et,it,rt);return}}ct&8?(lt&16&&z(Z,$,Y),nt!==Z&&c(G,nt)):lt&16?ct&16?R(Z,nt,G,K,$,Y,et,it,rt):z(Z,$,Y,!0):(lt&8&&c(G,""),ct&16&&T(nt,G,K,$,Y,et,it,rt))},P=(w,E,G,K,$,Y,et,it,rt)=>{w=w||Vr,E=E||Vr;const Z=w.length,lt=E.length,nt=Math.min(Z,lt);let ot;for(ot=0;ot<nt;ot++){const ct=E[ot]=rt?Xe(E[ot]):xe(E[ot]);_(w[ot],ct,G,null,$,Y,et,it,rt)}Z>lt?z(w,$,Y,!0,!1,nt):T(E,G,K,$,Y,et,it,rt,nt)},R=(w,E,G,K,$,Y,et,it,rt)=>{let Z=0;const lt=E.length;let nt=w.length-1,ot=lt-1;for(;Z<=nt&&Z<=ot;){const ct=w[Z],_t=E[Z]=rt?Xe(E[Z]):xe(E[Z]);if(oi(ct,_t))_(ct,_t,G,null,$,Y,et,it,rt);else break;Z++}for(;Z<=nt&&Z<=ot;){const ct=w[nt],_t=E[ot]=rt?Xe(E[ot]):xe(E[ot]);if(oi(ct,_t))_(ct,_t,G,null,$,Y,et,it,rt);else break;nt--,ot--}if(Z>nt){if(Z<=ot){const ct=ot+1,_t=ct<lt?E[ct].el:K;for(;Z<=ot;)_(null,E[Z]=rt?Xe(E[Z]):xe(E[Z]),G,_t,$,Y,et,it,rt),Z++}}else if(Z>ot)for(;Z<=nt;)L(w[Z],$,Y,!0),Z++;else{const ct=Z,_t=Z,Pt=new Map;for(Z=_t;Z<=ot;Z++){const te=E[Z]=rt?Xe(E[Z]):xe(E[Z]);te.key!=null&&Pt.set(te.key,Z)}let wt,Jt=0;const zt=ot-_t+1;let ce=!1,Zt=0;const si=new Array(zt);for(Z=0;Z<zt;Z++)si[Z]=0;for(Z=ct;Z<=nt;Z++){const te=w[Z];if(Jt>=zt){L(te,$,Y,!0);continue}let ye;if(te.key!=null)ye=Pt.get(te.key);else for(wt=_t;wt<=ot;wt++)if(si[wt-_t]===0&&oi(te,E[wt])){ye=wt;break}ye===void 0?L(te,$,Y,!0):(si[ye-_t]=Z+1,ye>=Zt?Zt=ye:ce=!0,_(te,E[ye],G,null,$,Y,et,it,rt),Jt++)}const El=ce?l1(si):Vr;for(wt=El.length-1,Z=zt-1;Z>=0;Z--){const te=_t+Z,ye=E[te],Pl=te+1<lt?E[te+1].el:K;si[Z]===0?_(null,ye,G,Pl,$,Y,et,it,rt):ce&&(wt<0||Z!==El[wt]?M(ye,G,Pl,2):wt--)}}},M=(w,E,G,K,$=null)=>{const{el:Y,type:et,transition:it,children:rt,shapeFlag:Z}=w;if(Z&6){M(w.component.subTree,E,G,K);return}if(Z&128){w.suspense.move(E,G,K);return}if(Z&64){et.move(w,E,G,q);return}if(et===we){i(Y,E,G);for(let nt=0;nt<rt.length;nt++)M(rt[nt],E,G,K);i(w.anchor,E,G);return}if(et===Ws){g(w,E,G);return}if(K!==2&&Z&1&&it)if(K===0)it.beforeEnter(Y),i(Y,E,G),re(()=>it.enter(Y),$);else{const{leave:nt,delayLeave:ot,afterLeave:ct}=it,_t=()=>i(Y,E,G),Pt=()=>{nt(Y,()=>{_t(),ct&&ct()})};ot?ot(Y,_t,Pt):Pt()}else i(Y,E,G)},L=(w,E,G,K=!1,$=!1)=>{const{type:Y,props:et,ref:it,children:rt,dynamicChildren:Z,shapeFlag:lt,patchFlag:nt,dirs:ot,cacheIndex:ct}=w;if(nt===-2&&($=!1),it!=null&&ao(it,null,G,w,!0),ct!=null&&(E.renderCache[ct]=void 0),lt&256){E.ctx.deactivate(w);return}const _t=lt&1&&ot,Pt=!_i(w);let wt;if(Pt&&(wt=et&&et.onVnodeBeforeUnmount)&&be(wt,E,w),lt&6)J(w.component,G,K);else{if(lt&128){w.suspense.unmount(G,K);return}_t&&cr(w,null,E,"beforeUnmount"),lt&64?w.type.remove(w,E,G,q,K):Z&&!Z.hasOnce&&(Y!==we||nt>0&&nt&64)?z(Z,E,G,!1,!0):(Y===we&&nt&384||!$&&lt&16)&&z(rt,E,G),K&&I(w)}(Pt&&(wt=et&&et.onVnodeUnmounted)||_t)&&re(()=>{wt&&be(wt,E,w),_t&&cr(w,null,E,"unmounted")},G)},I=w=>{const{type:E,el:G,anchor:K,transition:$}=w;if(E===we){H(G,K);return}if(E===Ws){m(w);return}const Y=()=>{n(G),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(w.shapeFlag&1&&$&&!$.persisted){const{leave:et,delayLeave:it}=$,rt=()=>et(G,Y);it?it(w.el,Y,rt):rt()}else Y()},H=(w,E)=>{let G;for(;w!==E;)G=d(w),n(w),w=G;n(E)},J=(w,E,G)=>{const{bum:K,scope:$,job:Y,subTree:et,um:it,m:rt,a:Z}=w;jl(rt),jl(Z),K&&Ds(K),$.stop(),Y&&(Y.flags|=8,L(et,w,E,G)),it&&re(it,E),re(()=>{w.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},z=(w,E,G,K=!1,$=!1,Y=0)=>{for(let et=Y;et<w.length;et++)L(w[et],E,G,K,$)},v=w=>{if(w.shapeFlag&6)return v(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const E=d(w.anchor||w.el),G=E&&E[A0];return G?d(G):E};let k=!1;const U=(w,E,G)=>{w==null?E._vnode&&L(E._vnode,null,null,!0):_(E._vnode||null,w,E,null,null,null,G),E._vnode=w,k||(k=!0,Nl(),Vu(),k=!1)},q={p:_,um:L,m:M,r:I,mt:X,mc:T,pc:y,pbc:F,n:v,o:e};let tt,st;return{render:U,hydrate:tt,createApp:Q0(U,tt)}}function $s({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ur({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function o1(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function af(e,t,r=!1){const i=e.children,n=t.children;if(ft(i)&&ft(n))for(let s=0;s<i.length;s++){const a=i[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=Xe(n[s]),o.el=a.el),!r&&o.patchFlag!==-2&&af(a,o)),o.type===Dn&&(o.el=a.el)}}function l1(e){const t=e.slice(),r=[0];let i,n,s,a,o;const l=e.length;for(i=0;i<l;i++){const h=e[i];if(h!==0){if(n=r[r.length-1],e[n]<h){t[i]=n,r.push(i);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,e[r[o]]<h?s=o+1:a=o;h<e[r[s]]&&(s>0&&(t[i]=r[s-1]),r[s]=i)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=t[a];return r}function of(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:of(t)}function jl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const h1=Symbol.for("v-scx"),c1=()=>Pe(h1);function vr(e,t,r){return lf(e,t,r)}function lf(e,t,r=Rt){const{immediate:i,deep:n,flush:s,once:a}=r,o=$t({},r);let l;if(Un)if(s==="sync"){const d=c1();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!t||i)o.once=!0;else{const d=()=>{};return d.stop=Ee,d.resume=Ee,d.pause=Ee,d}const h=Ht;o.call=(d,f,p)=>Re(d,h,f,p);let c=!1;s==="post"?o.scheduler=d=>{re(d,h&&h.suspense)}:s!=="sync"&&(c=!0,o.scheduler=(d,f)=>{f?d():Ko(d)}),o.augmentJob=d=>{t&&(d.flags|=4),c&&(d.flags|=2,h&&(d.id=h.uid,d.i=h))};const u=T0(e,t,o);return l&&l.push(u),u}function u1(e,t,r){const i=this.proxy,n=It(e)?e.includes(".")?hf(i,e):()=>i[e]:e.bind(i,i);let s;dt(t)?s=t:(s=t.handler,r=t);const a=Li(this),o=lf(n,s.bind(i),r);return a(),o}function hf(e,t){const r=t.split(".");return()=>{let i=e;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}const f1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ve(t)}Modifiers`]||e[`${br(t)}Modifiers`];function d1(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||Rt;let n=r;const s=t.startsWith("update:"),a=s&&f1(i,t.slice(7));a&&(a.trim&&(n=r.map(c=>It(c)?c.trim():c)),a.number&&(n=r.map(Bd)));let o,l=i[o=Is(t)]||i[o=Is(ve(t))];!l&&s&&(l=i[o=Is(br(t))]),l&&Re(l,e,6,n);const h=i[o+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Re(h,e,6,n)}}function cf(e,t,r=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const s=e.emits;let a={},o=!1;if(!dt(e)){const l=h=>{const c=cf(h,t,!0);c&&(o=!0,$t(a,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!o?(Mt(e)&&i.set(e,null),null):(ft(s)?s.forEach(l=>a[l]=null):$t(a,s),Mt(e)&&i.set(e,a),a)}function In(e,t){return!e||!En(t)?!1:(t=t.slice(2).replace(/Once$/,""),St(e,t[0].toLowerCase()+t.slice(1))||St(e,br(t))||St(e,t))}function zs(e){const{type:t,vnode:r,proxy:i,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:l,render:h,renderCache:c,props:u,data:d,setupState:f,ctx:p,inheritAttrs:_}=e,b=fn(e);let S,C;try{if(r.shapeFlag&4){const m=n||i,x=m;S=xe(h.call(x,m,c,u,f,d,p)),C=o}else{const m=t;S=xe(m.length>1?m(u,{attrs:o,slots:a,emit:l}):m(u,null)),C=t.props?o:g1(o)}}catch(m){bi.length=0,Ln(m,e,1),S=Ut(_r)}let g=S;if(C&&_!==!1){const m=Object.keys(C),{shapeFlag:x}=g;m.length&&x&7&&(s&&m.some(Oo)&&(C=p1(C,s)),g=zr(g,C,!1,!0))}return r.dirs&&(g=zr(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&Yo(g,r.transition),S=g,fn(b),S}const g1=e=>{let t;for(const r in e)(r==="class"||r==="style"||En(r))&&((t||(t={}))[r]=e[r]);return t},p1=(e,t)=>{const r={};for(const i in e)(!Oo(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function v1(e,t,r){const{props:i,children:n,component:s}=e,{props:a,children:o,patchFlag:l}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?Hl(i,a,h):!!a;if(l&8){const c=t.dynamicProps;for(let u=0;u<c.length;u++){const d=c[u];if(a[d]!==i[d]&&!In(h,d))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?Hl(i,a,h):!0:!!a;return!1}function Hl(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(t[s]!==e[s]&&!In(r,s))return!0}return!1}function m1({vnode:e,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=r,t=t.parent;else break}}const uf=e=>e.__isSuspense;function _1(e,t){t&&t.pendingBranch?ft(e)?t.effects.push(...e):t.effects.push(e):R0(e)}const we=Symbol.for("v-fgt"),Dn=Symbol.for("v-txt"),_r=Symbol.for("v-cmt"),Ws=Symbol.for("v-stc"),bi=[];let se=null;function Te(e=!1){bi.push(se=e?null:[])}function y1(){bi.pop(),se=bi[bi.length-1]||null}let Ri=1;function $l(e){Ri+=e,e<0&&se&&(se.hasOnce=!0)}function ff(e){return e.dynamicChildren=Ri>0?se||Vr:null,y1(),Ri>0&&se&&se.push(e),e}function Br(e,t,r,i,n,s){return ff(ut(e,t,r,i,n,s,!0))}function gn(e,t,r,i,n){return ff(Ut(e,t,r,i,n,!0))}function uo(e){return e?e.__v_isVNode===!0:!1}function oi(e,t){return e.type===t.type&&e.key===t.key}const df=({key:e})=>e??null,an=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?It(e)||Nt(e)||dt(e)?{i:ne,r:e,k:t,f:!!r}:e:null);function ut(e,t=null,r=null,i=0,n=null,s=e===we?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&df(t),ref:t&&an(t),scopeId:Hu,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ne};return o?(el(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=It(r)?8:16),Ri>0&&!a&&se&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&se.push(l),l}const Ut=b1;function b1(e,t=null,r=null,i=0,n=null,s=!1){if((!e||e===V0)&&(e=_r),uo(e)){const o=zr(e,t,!0);return r&&el(o,r),Ri>0&&!s&&se&&(o.shapeFlag&6?se[se.indexOf(e)]=o:se.push(o)),o.patchFlag=-2,o}if(k1(e)&&(e=e.__vccOpts),t){t=S1(t);let{class:o,style:l}=t;o&&!It(o)&&(t.class=Mn(o)),Mt(l)&&(Ho(l)&&!ft(l)&&(l=$t({},l)),t.style=No(l))}const a=It(e)?1:uf(e)?128:M0(e)?64:Mt(e)?4:dt(e)?2:0;return ut(e,t,r,i,n,a,s,!0)}function S1(e){return e?Ho(e)||Ju(e)?$t({},e):e:null}function zr(e,t,r=!1,i=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:l}=e,h=t?w1(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&df(h),ref:t&&t.ref?r&&s?ft(s)?s.concat(an(t)):[s,an(t)]:an(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zr(e.ssContent),ssFallback:e.ssFallback&&zr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&Yo(c,l.clone(c)),c}function fe(e=" ",t=0){return Ut(Dn,null,e,t)}function zl(e="",t=!1){return t?(Te(),gn(_r,null,e)):Ut(_r,null,e)}function xe(e){return e==null||typeof e=="boolean"?Ut(_r):ft(e)?Ut(we,null,e.slice()):typeof e=="object"?Xe(e):Ut(Dn,null,String(e))}function Xe(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zr(e)}function el(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ft(t))r=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),el(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!Ju(t)?t._ctx=ne:n===3&&ne&&(ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else dt(t)?(t={default:t,_ctx:ne},r=32):(t=String(t),i&64?(r=16,t=[fe(t)]):r=8);e.children=t,e.shapeFlag|=r}function w1(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Mn([t.class,i.class]));else if(n==="style")t.style=No([t.style,i.style]);else if(En(n)){const s=t[n],a=i[n];a&&s!==a&&!(ft(s)&&s.includes(a))&&(t[n]=s?[].concat(s,a):a)}else n!==""&&(t[n]=i[n])}return t}function be(e,t,r,i=null){Re(e,t,7,[r,i])}const x1=Yu();let C1=0;function T1(e,t,r){const i=e.type,n=(t?t.appContext:e.appContext)||x1,s={uid:C1++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _u(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tf(i,n),emitsOptions:cf(i,n),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:i.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=d1.bind(null,s),e.ce&&e.ce(s),s}let Ht=null;const gf=()=>Ht||ne;let pn,fo;{const e=gu(),t=(r,i)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(i),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};pn=t("__VUE_INSTANCE_SETTERS__",r=>Ht=r),fo=t("__VUE_SSR_SETTERS__",r=>Un=r)}const Li=e=>{const t=Ht;return pn(e),e.scope.on(),()=>{e.scope.off(),pn(t)}},Wl=()=>{Ht&&Ht.scope.off(),pn(null)};function pf(e){return e.vnode.shapeFlag&4}let Un=!1;function E1(e,t=!1,r=!1){t&&fo(t);const{props:i,children:n}=e.vnode,s=pf(e);Z0(e,i,s,t),i1(e,n,r);const a=s?P1(e,t):void 0;return t&&fo(!1),a}function P1(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$0);const{setup:i}=r;if(i){const n=e.setupContext=i.length>1?A1(e):null,s=Li(e);ir();const a=Fi(i,e,0,[e.props,n]);if(nr(),s(),cu(a)){if(_i(e)||$u(e),a.then(Wl,Wl),t)return a.then(o=>{ql(e,o,t)}).catch(o=>{Ln(o,e,0)});e.asyncDep=a}else ql(e,a,t)}else vf(e,t)}function ql(e,t,r){dt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Mt(t)&&(e.setupState=Du(t)),vf(e,r)}let Kl;function vf(e,t,r){const i=e.type;if(!e.render){if(!t&&Kl&&!i.render){const n=i.template||Zo(e).template;if(n){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=i,h=$t($t({isCustomElement:s,delimiters:o},a),l);i.render=Kl(n,h)}}e.render=i.render||Ee}{const n=Li(e);ir();try{z0(e)}finally{nr(),n()}}}const R1={get(e,t){return qt(e,"get",""),e[t]}};function A1(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,R1),slots:e.slots,emit:e.emit,expose:t}}function rl(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Du($o(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in yi)return yi[r](e)},has(t,r){return r in t||r in yi}})):e.proxy}function M1(e,t=!0){return dt(e)?e.displayName||e.name:e.name||t&&e.__name}function k1(e){return dt(e)&&"__vccOpts"in e}const oe=(e,t)=>x0(e,t,Un);function Bn(e,t,r){const i=arguments.length;return i===2?Mt(t)&&!ft(t)?uo(t)?Ut(e,null,[t]):Ut(e,t):Ut(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&uo(r)&&(r=[r]),Ut(e,t,r))}const O1="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let go;const Yl=typeof window<"u"&&window.trustedTypes;if(Yl)try{go=Yl.createPolicy("vue",{createHTML:e=>e})}catch{}const mf=go?e=>go.createHTML(e):e=>e,F1="http://www.w3.org/2000/svg",L1="http://www.w3.org/1998/Math/MathML",Le=typeof document<"u"?document:null,Xl=Le&&Le.createElement("template"),N1={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const n=t==="svg"?Le.createElementNS(F1,e):t==="mathml"?Le.createElementNS(L1,e):r?Le.createElement(e,{is:r}):Le.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Le.createTextNode(e),createComment:e=>Le.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Le.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,n,s){const a=r?r.previousSibling:t.lastChild;if(n&&(n===s||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{Xl.innerHTML=mf(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const o=Xl.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},G1=Symbol("_vtc");function I1(e,t,r){const i=e[G1];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Ql=Symbol("_vod"),D1=Symbol("_vsh"),U1=Symbol(""),B1=/(^|;)\s*display\s*:/;function V1(e,t,r){const i=e.style,n=It(r);let s=!1;if(r&&!n){if(t)if(It(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();r[o]==null&&on(i,o,"")}else for(const a in t)r[a]==null&&on(i,a,"");for(const a in r)a==="display"&&(s=!0),on(i,a,r[a])}else if(n){if(t!==r){const a=i[U1];a&&(r+=";"+a),i.cssText=r,s=B1.test(r)}}else t&&e.removeAttribute("style");Ql in e&&(e[Ql]=s?i.display:"",e[D1]&&(i.display="none"))}const Jl=/\s*!important$/;function on(e,t,r){if(ft(r))r.forEach(i=>on(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=j1(e,t);Jl.test(r)?e.setProperty(br(i),r.replace(Jl,""),"important"):e[i]=r}}const Zl=["Webkit","Moz","ms"],qs={};function j1(e,t){const r=qs[t];if(r)return r;let i=ve(t);if(i!=="filter"&&i in e)return qs[t]=i;i=An(i);for(let n=0;n<Zl.length;n++){const s=Zl[n]+i;if(s in e)return qs[t]=s}return t}const th="http://www.w3.org/1999/xlink";function eh(e,t,r,i,n,s=Wd(t)){i&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(th,t.slice(6,t.length)):e.setAttributeNS(th,t,r):r==null||s&&!pu(r)?e.removeAttribute(t):e.setAttribute(t,s?"":rr(r)?String(r):r)}function H1(e,t,r,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?mf(r):r);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,o=r==null?e.type==="checkbox"?"on":"":String(r);(a!==o||!("_value"in e))&&(e.value=o),r==null&&e.removeAttribute(t),e._value=r;return}let s=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=pu(r):r==null&&a==="string"?(r="",s=!0):a==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(t)}function $1(e,t,r,i){e.addEventListener(t,r,i)}function z1(e,t,r,i){e.removeEventListener(t,r,i)}const rh=Symbol("_vei");function W1(e,t,r,i,n=null){const s=e[rh]||(e[rh]={}),a=s[t];if(i&&a)a.value=i;else{const[o,l]=q1(t);if(i){const h=s[t]=X1(i,n);$1(e,o,h,l)}else a&&(z1(e,o,a,l),s[t]=void 0)}}const ih=/(?:Once|Passive|Capture)$/;function q1(e){let t;if(ih.test(e)){t={};let i;for(;i=e.match(ih);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):br(e.slice(2)),t]}let Ks=0;const K1=Promise.resolve(),Y1=()=>Ks||(K1.then(()=>Ks=0),Ks=Date.now());function X1(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Re(Q1(i,r.value),t,5,[i])};return r.value=e,r.attached=Y1(),r}function Q1(e,t){if(ft(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const nh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,J1=(e,t,r,i,n,s)=>{const a=n==="svg";t==="class"?I1(e,i,a):t==="style"?V1(e,r,i):En(t)?Oo(t)||W1(e,t,r,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Z1(e,t,i,a))?(H1(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&eh(e,t,i,a,s,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),eh(e,t,i,a))};function Z1(e,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&nh(t)&&dt(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return nh(t)&&It(r)?!1:!!(t in e||e._isVueCE&&(/[A-Z]/.test(t)||!It(r)))}const tg=$t({patchProp:J1},N1);let sh;function eg(){return sh||(sh=s1(tg))}const rg=(...e)=>{const t=eg().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=ng(i);if(!n)return;const s=t._component;!dt(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=r(n,!1,ig(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t};function ig(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ng(e){return It(e)?document.querySelector(e):e}var sg=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let _f;const Vn=e=>_f=e,yf=Symbol();function po(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Si;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Si||(Si={}));function ag(){const e=yu(!0),t=e.run(()=>Fn({}));let r=[],i=[];const n=$o({install(s){Vn(n),n._a=s,s.provide(yf,n),s.config.globalProperties.$pinia=n,i.forEach(a=>r.push(a)),i=[]},use(s){return!this._a&&!sg?i.push(s):r.push(s),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return n}const bf=()=>{};function ah(e,t,r,i=bf){e.push(t);const n=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!r&&bu()&&qd(n),n}function Lr(e,...t){e.slice().forEach(r=>{r(...t)})}const og=e=>e(),oh=Symbol(),Ys=Symbol();function vo(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,i)=>e.set(i,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],n=e[r];po(n)&&po(i)&&e.hasOwnProperty(r)&&!Nt(i)&&!Ze(i)?e[r]=vo(n,i):e[r]=i}return e}const lg=Symbol();function hg(e){return!po(e)||!e.hasOwnProperty(lg)}const{assign:qe}=Object;function cg(e){return!!(Nt(e)&&e.effect)}function ug(e,t,r,i){const{state:n,actions:s,getters:a}=t,o=r.state.value[e];let l;function h(){o||(r.state.value[e]=n?n():{});const c=y0(r.state.value[e]);return qe(c,s,Object.keys(a||{}).reduce((u,d)=>(u[d]=$o(oe(()=>{Vn(r);const f=r._s.get(e);return a[d].call(f,f)})),u),{}))}return l=Sf(e,h,t,r,i,!0),l}function Sf(e,t,r={},i,n,s){let a;const o=qe({actions:{}},r),l={deep:!0};let h,c,u=[],d=[],f;const p=i.state.value[e];!s&&!p&&(i.state.value[e]={}),Fn({});let _;function b(T){let N;h=c=!1,typeof T=="function"?(T(i.state.value[e]),N={type:Si.patchFunction,storeId:e,events:f}):(vo(i.state.value[e],T),N={type:Si.patchObject,payload:T,storeId:e,events:f});const F=_=Symbol();qo().then(()=>{_===F&&(h=!0)}),c=!0,Lr(u,N,i.state.value[e])}const S=s?function(){const{state:N}=r,F=N?N():{};this.$patch(A=>{qe(A,F)})}:bf;function C(){a.stop(),u=[],d=[],i._s.delete(e)}const g=(T,N="")=>{if(oh in T)return T[Ys]=N,T;const F=function(){Vn(i);const A=Array.from(arguments),j=[],B=[];function X(W){j.push(W)}function V(W){B.push(W)}Lr(d,{args:A,name:F[Ys],store:x,after:X,onError:V});let Q;try{Q=T.apply(this&&this.$id===e?this:x,A)}catch(W){throw Lr(B,W),W}return Q instanceof Promise?Q.then(W=>(Lr(j,W),W)).catch(W=>(Lr(B,W),Promise.reject(W))):(Lr(j,Q),Q)};return F[oh]=!0,F[Ys]=N,F},m={_p:i,$id:e,$onAction:ah.bind(null,d),$patch:b,$reset:S,$subscribe(T,N={}){const F=ah(u,T,N.detached,()=>A()),A=a.run(()=>vr(()=>i.state.value[e],j=>{(N.flush==="sync"?c:h)&&T({storeId:e,type:Si.direct,events:f},j)},qe({},l,N)));return F},$dispose:C},x=Sr(m);i._s.set(e,x);const D=(i._a&&i._a.runWithContext||og)(()=>i._e.run(()=>(a=yu()).run(()=>t({action:g}))));for(const T in D){const N=D[T];if(Nt(N)&&!cg(N)||Ze(N))s||(p&&hg(N)&&(Nt(N)?N.value=p[T]:vo(N,p[T])),i.state.value[e][T]=N);else if(typeof N=="function"){const F=g(N,T);D[T]=F,o.actions[T]=N}}return qe(x,D),qe(yt(x),D),Object.defineProperty(x,"$state",{get:()=>i.state.value[e],set:T=>{b(N=>{qe(N,T)})}}),i._p.forEach(T=>{qe(x,a.run(()=>T({store:x,app:i._a,pinia:i,options:o})))}),p&&s&&r.hydrate&&r.hydrate(x.$state,p),h=!0,c=!0,x}function fg(e,t,r){let i,n;const s=typeof t=="function";i=e,n=s?r:t;function a(o,l){const h=J0();return o=o||(h?Pe(yf,null):null),o&&Vn(o),o=_f,o._s.has(i)||(s?Sf(i,t,n,o):ug(i,n,o)),o._s.get(i)}return a.$id=i,a}var vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lh=Object.getOwnPropertySymbols,dg=Object.prototype.hasOwnProperty,gg=Object.prototype.propertyIsEnumerable;function pg(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function vg(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(i.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(s){n[s]=s}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var wr=vg()?Object.assign:function(e,t){for(var r,i=pg(e),n,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var a in r)dg.call(r,a)&&(i[a]=r[a]);if(lh){n=lh(r);for(var o=0;o<n.length;o++)gg.call(r,n[o])&&(i[n[o]]=r[n[o]])}}return i},Xs={exports:{}},Qs,hh;function il(){return hh||(hh=1,Qs=function(e,t,r){t.forEach(function(i){var n=r[i];e.prototype[i]=function(s){return s.ros=this,new n(s)}})}),Qs}var Js,ch;function xf(){return ch||(ch=1,Js=typeof window<"u"?window.WebSocket:WebSocket),Js}var Zs,uh;function mg(){if(uh)return Zs;uh=1;var e=arguments[3],t=arguments[4],r=arguments[5],i=JSON.stringify;return Zs=function(n,s){for(var a,o=Object.keys(r),l=0,h=o.length;l<h;l++){var c=o[l],u=r[c].exports;if(u===n||u&&u.default===n){a=c;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},l=0,h=o.length;l<h;l++){var c=o[l];d[c]=c}t[a]=["function(require,module,exports){"+n+"(self); }",d]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[a]=a,t[f]=["function(require,module,exports){var f = require("+i(a)+");(f.default ? f.default : f)(self);}",p];var _={};b(f);function b(O){_[O]=!0;for(var D in t[O][1]){var T=t[O][1][D];_[T]||b(T)}}var S="("+e+")({"+Object.keys(_).map(function(O){return i(O)+":["+t[O][0]+","+i(t[O][1])+"]"}).join(",")+"},{},["+i(f)+"])",C=window.URL||window.webkitURL||window.mozURL||window.msURL,g=new Blob([S],{type:"text/javascript"});if(s&&s.bare)return g;var m=C.createObjectURL(g),x=new Worker(m);return x.objectURL=m,x},Zs}var ta={exports:{}},fh;function _g(){return fh||(fh=1,function(e){function t(h){var c={};function u(f){if(c[f])return c[f].exports;var p=c[f]={i:f,l:!1,exports:{}};return h[f].call(p.exports,p,p.exports,u),p.l=!0,p.exports}u.m=h,u.c=c,u.i=function(f){return f},u.d=function(f,p,_){u.o(f,p)||Object.defineProperty(f,p,{configurable:!1,enumerable:!0,get:_})},u.r=function(f){Object.defineProperty(f,"__esModule",{value:!0})},u.n=function(f){var p=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(p,"a",p),p},u.o=function(f,p){return Object.prototype.hasOwnProperty.call(f,p)},u.p="/",u.oe=function(f){throw console.error(f),f};var d=u(u.s=ENTRY_MODULE);return d.default||d}var r="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+r+").*?\\)";function n(h){return(h+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(h){return!isNaN(1*h)}function a(h,c,u){var d={};d[u]=[];var f=c.toString(),p=f.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!p)return d;for(var _=p[1],b=new RegExp("(\\\\n|\\W)"+n(_)+i,"g"),S;S=b.exec(f);)S[3]!=="dll-reference"&&d[u].push(S[3]);for(b=new RegExp("\\("+n(_)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+i,"g");S=b.exec(f);)h[S[2]]||(d[u].push(S[1]),h[S[2]]=__webpack_require__(S[1]).m),d[S[2]]=d[S[2]]||[],d[S[2]].push(S[4]);for(var C=Object.keys(d),g=0;g<C.length;g++)for(var m=0;m<d[C[g]].length;m++)s(d[C[g]][m])&&(d[C[g]][m]=1*d[C[g]][m]);return d}function o(h){var c=Object.keys(h);return c.reduce(function(u,d){return u||h[d].length>0},!1)}function l(h,c){for(var u={main:[c]},d={main:[]},f={main:{}};o(u);)for(var p=Object.keys(u),_=0;_<p.length;_++){var b=p[_],S=u[b],C=S.pop();if(f[b]=f[b]||{},!(f[b][C]||!h[b][C])){f[b][C]=!0,d[b]=d[b]||[],d[b].push(C);for(var g=a(h,h[b][C],b),m=Object.keys(g),x=0;x<m.length;x++)u[m[x]]=u[m[x]]||[],u[m[x]]=u[m[x]].concat(g[m[x]])}}return d}e.exports=function(h,c){c=c||{};var u={main:__webpack_modules__},d=c.all?{main:Object.keys(u.main)}:l(u,h),f="";Object.keys(d).filter(function(C){return C!=="main"}).forEach(function(C){for(var g=0;d[C][g];)g++;d[C].push(g),u[C][g]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",f=f+"var "+C+" = ("+t.toString().replace("ENTRY_MODULE",JSON.stringify(g))+")({"+d[C].map(function(m){return""+JSON.stringify(m)+": "+u[C][m].toString()}).join(",")+`});
`}),f=f+"new (("+t.toString().replace("ENTRY_MODULE",JSON.stringify(h))+")({"+d.main.map(function(C){return""+JSON.stringify(C)+": "+u.main[C].toString()}).join(",")+"}))(self);";var p=new window.Blob([f],{type:"text/javascript"});if(c.bare)return p;var _=window.URL||window.webkitURL||window.mozURL||window.msURL,b=_.createObjectURL(p),S=new window.Worker(b);return S.objectURL=b,S}}(ta)),ta.exports}var ea,dh;function yg(){if(dh)return ea;dh=1;var e=e||xf();return ea=function(t){var r=null;function i(s){var a=s.data;a instanceof ArrayBuffer?t.postMessage(a,[a]):t.postMessage(a)}function n(s){t.postMessage({type:s.type})}t.addEventListener("message",function(s){var a=s.data;if(typeof a=="string")r.send(a);else if(a.hasOwnProperty("close"))r.close(),r=null;else if(a.hasOwnProperty("uri")){var o=a.uri;r=new e(o),r.binaryType="arraybuffer",r.onmessage=i,r.onclose=n,r.onopen=n,r.onerror=n}else throw"Unknown message to WorkerSocket"})},ea}var ra,gh;function bg(){if(gh)return ra;gh=1;try{var e=mg()}catch{var e=_g()}var t=yg();function r(i){this.socket_=e(t),this.socket_.addEventListener("message",this.handleWorkerMessage_.bind(this)),this.socket_.postMessage({uri:i})}return r.prototype.handleWorkerMessage_=function(i){var n=i.data;if(n instanceof ArrayBuffer||typeof n=="string")this.onmessage(i);else{var s=n.type;if(s==="close")this.onclose(null);else if(s==="open")this.onopen(null);else if(s==="error")this.onerror(null);else throw"Unknown message from workersocket"}},r.prototype.send=function(i){this.socket_.postMessage(i)},r.prototype.close=function(){this.socket_.postMessage({close:!0})},ra=r,ra}var ia,ph;function Sg(){return ph||(ph=1,ia=function(){return document.createElement("canvas")}),ia}var na,vh;function wg(){if(vh)return na;vh=1;var e=Sg(),t=e.Image||window.Image;function r(i,n){var s=new t;s.onload=function(){var a=new e,o=a.getContext("2d");a.width=s.width,a.height=s.height,o.imageSmoothingEnabled=!1,o.webkitImageSmoothingEnabled=!1,o.mozImageSmoothingEnabled=!1,o.drawImage(s,0,0);for(var l=o.getImageData(0,0,s.width,s.height).data,h="",c=0;c<l.length;c+=4)h+=String.fromCharCode(l[c],l[c+1],l[c+2]);n(JSON.parse(h))},s.src="data:image/png;base64,"+i}return na=r,na}var sa={exports:{}},mh;function xg(){return mh||(mh=1,function(e){(function(t,r){var i=Math.pow(2,-24),n=Math.pow(2,32),s=Math.pow(2,53);function a(h){var c=new ArrayBuffer(256),u=new DataView(c),d,f=0;function p(A){for(var j=c.byteLength,B=f+A;j<B;)j*=2;if(j!==c.byteLength){var X=u;c=new ArrayBuffer(j),u=new DataView(c);for(var V=f+3>>2,Q=0;Q<V;++Q)u.setUint32(Q*4,X.getUint32(Q*4))}return d=A,u}function _(){f+=d}function b(A){_(p(8).setFloat64(f,A))}function S(A){_(p(1).setUint8(f,A))}function C(A){for(var j=p(A.length),B=0;B<A.length;++B)j.setUint8(f+B,A[B]);_()}function g(A){_(p(2).setUint16(f,A))}function m(A){_(p(4).setUint32(f,A))}function x(A){var j=A%n,B=(A-j)/n,X=p(8);X.setUint32(f,B),X.setUint32(f+4,j),_()}function O(A,j){j<24?S(A<<5|j):j<256?(S(A<<5|24),S(j)):j<65536?(S(A<<5|25),g(j)):j<4294967296?(S(A<<5|26),m(j)):(S(A<<5|27),x(j))}function D(A){var j;if(A===!1)return S(244);if(A===!0)return S(245);if(A===null)return S(246);if(A===r)return S(247);switch(typeof A){case"number":if(Math.floor(A)===A){if(0<=A&&A<=s)return O(0,A);if(-s<=A&&A<0)return O(1,-(A+1))}return S(251),b(A);case"string":var B=[];for(j=0;j<A.length;++j){var X=A.charCodeAt(j);X<128?B.push(X):X<2048?(B.push(192|X>>6),B.push(128|X&63)):X<55296?(B.push(224|X>>12),B.push(128|X>>6&63),B.push(128|X&63)):(X=(X&1023)<<10,X|=A.charCodeAt(++j)&1023,X+=65536,B.push(240|X>>18),B.push(128|X>>12&63),B.push(128|X>>6&63),B.push(128|X&63))}return O(3,B.length),C(B);default:var V;if(Array.isArray(A))for(V=A.length,O(4,V),j=0;j<V;++j)D(A[j]);else if(A instanceof Uint8Array)O(2,A.length),C(A);else{var Q=Object.keys(A);for(V=Q.length,O(5,V),j=0;j<V;++j){var W=Q[j];D(W),D(A[W])}}}}if(D(h),"slice"in c)return c.slice(0,f);for(var T=new ArrayBuffer(f),N=new DataView(T),F=0;F<f;++F)N.setUint8(F,u.getUint8(F));return T}function o(h,c,u){var d=new DataView(h),f=0;typeof c!="function"&&(c=function(B){return B}),typeof u!="function"&&(u=function(){return r});function p(B,X){return f+=X,B}function _(B){return p(new Uint8Array(h,f,B),B)}function b(){var B=new ArrayBuffer(4),X=new DataView(B),V=m(),Q=V&32768,W=V&31744,y=V&1023;if(W===31744)W=261120;else if(W!==0)W+=114688;else if(y!==0)return y*i;return X.setUint32(0,Q<<16|W<<13|y<<13),X.getFloat32(0)}function S(){return p(d.getFloat32(f),4)}function C(){return p(d.getFloat64(f),8)}function g(){return p(d.getUint8(f),1)}function m(){return p(d.getUint16(f),2)}function x(){return p(d.getUint32(f),4)}function O(){return x()*n+x()}function D(){return d.getUint8(f)!==255?!1:(f+=1,!0)}function T(B){if(B<24)return B;if(B===24)return g();if(B===25)return m();if(B===26)return x();if(B===27)return O();if(B===31)return-1;throw"Invalid length encoding"}function N(B){var X=g();if(X===255)return-1;var V=T(X&31);if(V<0||X>>5!==B)throw"Invalid indefinite length element";return V}function F(B,X){for(var V=0;V<X;++V){var Q=g();Q&128&&(Q<224?(Q=(Q&31)<<6|g()&63,X-=1):Q<240?(Q=(Q&15)<<12|(g()&63)<<6|g()&63,X-=2):(Q=(Q&15)<<18|(g()&63)<<12|(g()&63)<<6|g()&63,X-=3)),Q<65536?B.push(Q):(Q-=65536,B.push(55296|Q>>10),B.push(56320|Q&1023))}}function A(){var B=g(),X=B>>5,V=B&31,Q,W;if(X===7)switch(V){case 25:return b();case 26:return S();case 27:return C()}if(W=T(V),W<0&&(X<2||6<X))throw"Invalid length";switch(X){case 0:return W;case 1:return-1-W;case 2:if(W<0){for(var y=[],P=0;(W=N(X))>=0;)P+=W,y.push(_(W));var R=new Uint8Array(P),M=0;for(Q=0;Q<y.length;++Q)R.set(y[Q],M),M+=y[Q].length;return R}return _(W);case 3:var L=[];if(W<0)for(;(W=N(X))>=0;)F(L,W);else F(L,W);return String.fromCharCode.apply(null,L);case 4:var I;if(W<0)for(I=[];!D();)I.push(A());else for(I=new Array(W),Q=0;Q<W;++Q)I[Q]=A();return I;case 5:var H={};for(Q=0;Q<W||W<0&&!D();++Q){var J=A();H[J]=A()}return H;case 6:return c(A(),W);case 7:switch(W){case 20:return!1;case 21:return!0;case 22:return null;case 23:return r;default:return u(W)}}}var j=A();if(f!==h.byteLength)throw"Remaining bytes";return j}var l={encode:a,decode:o};e.exports?e.exports=l:t.CBOR||(t.CBOR=l)})(vn)}(sa)),sa.exports}var aa={exports:{}},_h;function Cg(){return _h||(_h=1,function(e){var t=Math.pow(2,32),r=!1;function i(){r||(r=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}function n(c){i();for(var u=c.byteLength,d=c.byteOffset,f=u/8,p=c.buffer.slice(d,d+u),_=new Uint32Array(p),b=new Array(f),S=0;S<f;S++){var C=S*2,g=_[C],m=_[C+1];b[S]=g+t*m}return b}function s(c){i();for(var u=c.byteLength,d=c.byteOffset,f=u/8,p=c.buffer.slice(d,d+u),_=new Uint32Array(p),b=new Int32Array(p),S=new Array(f),C=0;C<f;C++){var g=C*2,m=_[g],x=b[g+1];S[C]=m+t*x}return S}function a(c,u){var d=c.byteLength,f=c.byteOffset,p=c.buffer.slice(f,f+d);return new u(p)}var o={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},l={71:n,79:s};function h(c,u){if(u in o){var d=o[u];return a(c,d)}return u in l?l[u](c):c}e.exports&&(e.exports=h)}(aa)),aa.exports}var oa,yh;function Tg(){if(yh)return oa;yh=1;var e=wg(),t=xg(),r=Cg(),i=null;typeof bson<"u"&&(i=bson().BSON);function n(s){var a=null;s.transportOptions.decoder&&(a=s.transportOptions.decoder);function o(c){c.op==="publish"?s.emit(c.topic,c.msg):c.op==="service_response"?s.emit(c.id,c):c.op==="call_service"?s.emit(c.service,c):c.op==="status"&&(c.id?s.emit("status:"+c.id,c):s.emit("status",c))}function l(c,u){c.op==="png"?e(c.data,u):u(c)}function h(c,u){if(!i)throw"Cannot process BSON encoded message without BSON header.";var d=new FileReader;d.onload=function(){var f=new Uint8Array(this.result),p=i.deserialize(f);u(p)},d.readAsArrayBuffer(c)}return{onopen:function(u){s.isConnected=!0,s.emit("connection",u)},onclose:function(u){s.isConnected=!1,s.emit("close",u)},onerror:function(u){s.emit("error",u)},onmessage:function(u){if(a)a(u.data,function(p){o(p)});else if(typeof Blob<"u"&&u.data instanceof Blob)h(u.data,function(p){l(p,o)});else if(u.data instanceof ArrayBuffer){var d=t.decode(u.data,r);o(d)}else{var f=JSON.parse(typeof u=="string"?u:u.data);l(f,o)}}}}return oa=n,oa}var la,bh;function Cf(){if(bh)return la;bh=1;var e=wr;function t(r){e(this,r)}return la=t,la}var ha,Sh;function Ni(){if(Sh)return ha;Sh=1;var e=wr;function t(r){e(this,r)}return ha=t,ha}var ca={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var wh;function xr(){return wh||(wh=1,function(e,t){(function(r){var i=Object.hasOwnProperty,n=Array.isArray?Array.isArray:function(P){return Object.prototype.toString.call(P)==="[object Array]"},s=10,a=typeof process=="object"&&typeof process.nextTick=="function",o=typeof Symbol=="function",l=typeof Reflect=="object",h=typeof setImmediate=="function",c=h?setImmediate:setTimeout,u=o?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(y){var P=Object.getOwnPropertyNames(y);return P.push.apply(P,Object.getOwnPropertySymbols(y)),P}:Object.keys;function d(){this._events={},this._conf&&f.call(this,this._conf)}function f(y){y&&(this._conf=y,y.delimiter&&(this.delimiter=y.delimiter),y.maxListeners!==r&&(this._maxListeners=y.maxListeners),y.wildcard&&(this.wildcard=y.wildcard),y.newListener&&(this._newListener=y.newListener),y.removeListener&&(this._removeListener=y.removeListener),y.verboseMemoryLeak&&(this.verboseMemoryLeak=y.verboseMemoryLeak),y.ignoreErrors&&(this.ignoreErrors=y.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function p(y,P){var R="(node) warning: possible EventEmitter memory leak detected. "+y+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(R+=" Event name: "+P+"."),typeof process<"u"&&process.emitWarning){var M=new Error(R);M.name="MaxListenersExceededWarning",M.emitter=this,M.count=y,process.emitWarning(M)}else console.error(R),console.trace&&console.trace()}var _=function(y,P,R){var M=arguments.length;switch(M){case 0:return[];case 1:return[y];case 2:return[y,P];case 3:return[y,P,R];default:for(var L=new Array(M);M--;)L[M]=arguments[M];return L}};function b(y,P){for(var R={},M,L=y.length,I=0,H=0;H<L;H++)M=y[H],R[M]=H<I?P[H]:r;return R}function S(y,P,R){this._emitter=y,this._target=P,this._listeners={},this._listenersCount=0;var M,L;if((R.on||R.off)&&(M=R.on,L=R.off),P.addEventListener?(M=P.addEventListener,L=P.removeEventListener):P.addListener?(M=P.addListener,L=P.removeListener):P.on&&(M=P.on,L=P.off),!M&&!L)throw Error("target does not implement any known event API");if(typeof M!="function")throw TypeError("on method must be a function");if(typeof L!="function")throw TypeError("off method must be a function");this._on=M,this._off=L;var I=y._observers;I?I.push(this):y._observers=[this]}Object.assign(S.prototype,{subscribe:function(y,P,R){var M=this,L=this._target,I=this._emitter,H=this._listeners,J=function(){var z=_.apply(null,arguments),v={data:z,name:P,original:y};if(R){var k=R.call(L,v);k!==!1&&I.emit.apply(I,[v.name].concat(z));return}I.emit.apply(I,[P].concat(z))};if(H[y])throw Error("Event '"+y+"' is already listening");this._listenersCount++,I._newListener&&I._removeListener&&!M._onNewListener?(this._onNewListener=function(z){z===P&&H[y]===null&&(H[y]=J,M._on.call(L,y,J))},I.on("newListener",this._onNewListener),this._onRemoveListener=function(z){z===P&&!I.hasListeners(z)&&H[y]&&(H[y]=null,M._off.call(L,y,J))},H[y]=null,I.on("removeListener",this._onRemoveListener)):(H[y]=J,M._on.call(L,y,J))},unsubscribe:function(y){var P=this,R=this._listeners,M=this._emitter,L,I,H=this._off,J=this._target,z;if(y&&typeof y!="string")throw TypeError("event must be a string");function v(){P._onNewListener&&(M.off("newListener",P._onNewListener),M.off("removeListener",P._onRemoveListener),P._onNewListener=null,P._onRemoveListener=null);var k=T.call(M,P);M._observers.splice(k,1)}if(y){if(L=R[y],!L)return;H.call(J,y,L),delete R[y],--this._listenersCount||v()}else{for(I=u(R),z=I.length;z-- >0;)y=I[z],H.call(J,y,R[y]);this._listeners={},this._listenersCount=0,v()}}});function C(y,P,R,M){var L=Object.assign({},P);if(!y)return L;if(typeof y!="object")throw TypeError("options must be an object");var I=Object.keys(y),H=I.length,J,z,v;function k(q){throw Error('Invalid "'+J+'" option value'+(q?". Reason: "+q:""))}for(var U=0;U<H;U++){if(J=I[U],!i.call(P,J))throw Error('Unknown "'+J+'" option');z=y[J],z!==r&&(v=R[J],L[J]=v?v(z,k):z)}return L}function g(y,P){return(typeof y!="function"||!y.hasOwnProperty("prototype"))&&P("value must be a constructor"),y}function m(y){var P="value must be type of "+y.join("|"),R=y.length,M=y[0],L=y[1];return R===1?function(I,H){if(typeof I===M)return I;H(P)}:R===2?function(I,H){var J=typeof I;if(J===M||J===L)return I;H(P)}:function(I,H){for(var J=typeof I,z=R;z-- >0;)if(J===y[z])return I;H(P)}}var x=m(["function"]),O=m(["object","function"]);function D(y,P,R){var M,L,I=0,H,J=new y(function(z,v,k){R=C(R,{timeout:0,overload:!1},{timeout:function(st,w){return st*=1,(typeof st!="number"||st<0||!Number.isFinite(st))&&w("timeout must be a positive number"),st}}),M=!R.overload&&typeof y.prototype.cancel=="function"&&typeof k=="function";function U(){L&&(L=null),I&&(clearTimeout(I),I=0)}var q=function(st){U(),z(st)},tt=function(st){U(),v(st)};M?P(q,tt,k):(L=[function(st){tt(st||Error("canceled"))}],P(q,tt,function(st){if(H)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof st!="function")throw TypeError("onCancel callback must be a function");L.push(st)}),H=!0),R.timeout>0&&(I=setTimeout(function(){var st=Error("timeout");st.code="ETIMEDOUT",I=0,J.cancel(st),v(st)},R.timeout))});return M||(J.cancel=function(z){if(L){for(var v=L.length,k=1;k<v;k++)L[k](z);L[0](z),L=null}}),J}function T(y){var P=this._observers;if(!P)return-1;for(var R=P.length,M=0;M<R;M++)if(P[M]._target===y)return M;return-1}function N(y,P,R,M,L){if(!R)return null;if(M===0){var I=typeof P;if(I==="string"){var H,J,z=0,v=0,k=this.delimiter,U=k.length;if((J=P.indexOf(k))!==-1){H=new Array(5);do H[z++]=P.slice(v,J),v=J+U;while((J=P.indexOf(k,v))!==-1);H[z++]=P.slice(v),P=H,L=z}else P=[P],L=1}else I==="object"?L=P.length:(P=[P],L=1)}var q=null,tt,st,w,E,G,K=P[M],$=P[M+1],Y,et;if(M===L)R._listeners&&(typeof R._listeners=="function"?(y&&y.push(R._listeners),q=[R]):(y&&y.push.apply(y,R._listeners),q=[R]));else if(K==="*"){for(Y=u(R),J=Y.length;J-- >0;)tt=Y[J],tt!=="_listeners"&&(et=N(y,P,R[tt],M+1,L),et&&(q?q.push.apply(q,et):q=et));return q}else if(K==="**"){for(G=M+1===L||M+2===L&&$==="*",G&&R._listeners&&(q=N(y,P,R,L,L)),Y=u(R),J=Y.length;J-- >0;)tt=Y[J],tt!=="_listeners"&&(tt==="*"||tt==="**"?(R[tt]._listeners&&!G&&(et=N(y,P,R[tt],L,L),et&&(q?q.push.apply(q,et):q=et)),et=N(y,P,R[tt],M,L)):tt===$?et=N(y,P,R[tt],M+2,L):et=N(y,P,R[tt],M,L),et&&(q?q.push.apply(q,et):q=et));return q}else R[K]&&(q=N(y,P,R[K],M+1,L));if(st=R["*"],st&&N(y,P,st,M+1,L),w=R["**"],w)if(M<L)for(w._listeners&&N(y,P,w,L,L),Y=u(w),J=Y.length;J-- >0;)tt=Y[J],tt!=="_listeners"&&(tt===$?N(y,P,w[tt],M+2,L):tt===K?N(y,P,w[tt],M+1,L):(E={},E[tt]=w[tt],N(y,P,{"**":E},M+1,L)));else w._listeners?N(y,P,w,L,L):w["*"]&&w["*"]._listeners&&N(y,P,w["*"],L,L);return q}function F(y,P,R){var M=0,L=0,I,H=this.delimiter,J=H.length,z;if(typeof y=="string")if((I=y.indexOf(H))!==-1){z=new Array(5);do z[M++]=y.slice(L,I),L=I+J;while((I=y.indexOf(H,L))!==-1);z[M++]=y.slice(L)}else z=[y],M=1;else z=y,M=y.length;if(M>1){for(I=0;I+1<M;I++)if(z[I]==="**"&&z[I+1]==="**")return}var v=this.listenerTree,k;for(I=0;I<M;I++)if(k=z[I],v=v[k]||(v[k]={}),I===M-1)return v._listeners?(typeof v._listeners=="function"&&(v._listeners=[v._listeners]),R?v._listeners.unshift(P):v._listeners.push(P),!v._listeners.warned&&this._maxListeners>0&&v._listeners.length>this._maxListeners&&(v._listeners.warned=!0,p.call(this,v._listeners.length,k))):v._listeners=P,!0;return!0}function A(y,P,R,M){for(var L=u(y),I=L.length,H,J,z,v=y._listeners,k;I-- >0;)J=L[I],H=y[J],J==="_listeners"?z=R:z=R?R.concat(J):[J],k=M||typeof J=="symbol",v&&P.push(k?z:z.join(this.delimiter)),typeof H=="object"&&A.call(this,H,P,z,k);return P}function j(y){for(var P=u(y),R=P.length,M,L,I;R-- >0;)L=P[R],M=y[L],M&&(I=!0,L!=="_listeners"&&!j(M)&&delete y[L]);return I}function B(y,P,R){this.emitter=y,this.event=P,this.listener=R}B.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function X(y,P,R){if(R===!0)L=!0;else if(R===!1)M=!0;else{if(!R||typeof R!="object")throw TypeError("options should be an object or true");var M=R.async,L=R.promisify,I=R.nextTick,H=R.objectify}if(M||I||L){var J=P,z=P._origin||P;if(I&&!a)throw Error("process.nextTick is not supported");L===r&&(L=P.constructor.name==="AsyncFunction"),P=function(){var v=arguments,k=this,U=this.event;return L?I?Promise.resolve():new Promise(function(q){c(q)}).then(function(){return k.event=U,J.apply(k,v)}):(I?process.nextTick:c)(function(){k.event=U,J.apply(k,v)})},P._async=!0,P._origin=z}return[P,H?new B(this,y,P):this]}function V(y){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,f.call(this,y)}V.EventEmitter2=V,V.prototype.listenTo=function(y,P,R){if(typeof y!="object")throw TypeError("target musts be an object");var M=this;R=C(R,{on:r,off:r,reducers:r},{on:x,off:x,reducers:O});function L(I){if(typeof I!="object")throw TypeError("events must be an object");var H=R.reducers,J=T.call(M,y),z;J===-1?z=new S(M,y,R):z=M._observers[J];for(var v=u(I),k=v.length,U,q=typeof H=="function",tt=0;tt<k;tt++)U=v[tt],z.subscribe(U,I[U]||U,q?H:H&&H[U])}return n(P)?L(b(P)):L(typeof P=="string"?b(P.split(/\s+/)):P),this},V.prototype.stopListeningTo=function(y,P){var R=this._observers;if(!R)return!1;var M=R.length,L,I=!1;if(y&&typeof y!="object")throw TypeError("target should be an object");for(;M-- >0;)L=R[M],(!y||L._target===y)&&(L.unsubscribe(P),I=!0);return I},V.prototype.delimiter=".",V.prototype.setMaxListeners=function(y){y!==r&&(this._maxListeners=y,this._conf||(this._conf={}),this._conf.maxListeners=y)},V.prototype.getMaxListeners=function(){return this._maxListeners},V.prototype.event="",V.prototype.once=function(y,P,R){return this._once(y,P,!1,R)},V.prototype.prependOnceListener=function(y,P,R){return this._once(y,P,!0,R)},V.prototype._once=function(y,P,R,M){return this._many(y,1,P,R,M)},V.prototype.many=function(y,P,R,M){return this._many(y,P,R,!1,M)},V.prototype.prependMany=function(y,P,R,M){return this._many(y,P,R,!0,M)},V.prototype._many=function(y,P,R,M,L){var I=this;if(typeof R!="function")throw new Error("many only accepts instances of Function");function H(){return--P===0&&I.off(y,H),R.apply(this,arguments)}return H._origin=R,this._on(y,H,M,L)},V.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var y=arguments[0],P,R=this.wildcard,M,L,I,H,J;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(R&&(P=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(L=y.length,o){for(I=0;I<L;I++)if(typeof y[I]=="symbol"){J=!0;break}}J||(y=y.join(this.delimiter))}var z=arguments.length,v;if(this._all&&this._all.length)for(v=this._all.slice(),I=0,L=v.length;I<L;I++)switch(this.event=y,z){case 1:v[I].call(this,y);break;case 2:v[I].call(this,y,arguments[1]);break;case 3:v[I].call(this,y,arguments[1],arguments[2]);break;default:v[I].apply(this,arguments)}if(R)v=[],N.call(this,v,P,this.listenerTree,0,L);else if(v=this._events[y],typeof v=="function"){switch(this.event=y,z){case 1:v.call(this);break;case 2:v.call(this,arguments[1]);break;case 3:v.call(this,arguments[1],arguments[2]);break;default:for(M=new Array(z-1),H=1;H<z;H++)M[H-1]=arguments[H];v.apply(this,M)}return!0}else v&&(v=v.slice());if(v&&v.length){if(z>3)for(M=new Array(z-1),H=1;H<z;H++)M[H-1]=arguments[H];for(I=0,L=v.length;I<L;I++)switch(this.event=y,z){case 1:v[I].call(this);break;case 2:v[I].call(this,arguments[1]);break;case 3:v[I].call(this,arguments[1],arguments[2]);break;default:v[I].apply(this,M)}return!0}else if(!this.ignoreErrors&&!this._all&&y==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},V.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||d.call(this);var y=arguments[0],P=this.wildcard,R,M,L,I,H,J;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(P&&(R=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(I=y.length,o){for(H=0;H<I;H++)if(typeof y[H]=="symbol"){M=!0;break}}M||(y=y.join(this.delimiter))}var z=[],v=arguments.length,k;if(this._all)for(H=0,I=this._all.length;H<I;H++)switch(this.event=y,v){case 1:z.push(this._all[H].call(this,y));break;case 2:z.push(this._all[H].call(this,y,arguments[1]));break;case 3:z.push(this._all[H].call(this,y,arguments[1],arguments[2]));break;default:z.push(this._all[H].apply(this,arguments))}if(P?(k=[],N.call(this,k,R,this.listenerTree,0)):k=this._events[y],typeof k=="function")switch(this.event=y,v){case 1:z.push(k.call(this));break;case 2:z.push(k.call(this,arguments[1]));break;case 3:z.push(k.call(this,arguments[1],arguments[2]));break;default:for(L=new Array(v-1),J=1;J<v;J++)L[J-1]=arguments[J];z.push(k.apply(this,L))}else if(k&&k.length){if(k=k.slice(),v>3)for(L=new Array(v-1),J=1;J<v;J++)L[J-1]=arguments[J];for(H=0,I=k.length;H<I;H++)switch(this.event=y,v){case 1:z.push(k[H].call(this));break;case 2:z.push(k[H].call(this,arguments[1]));break;case 3:z.push(k[H].call(this,arguments[1],arguments[2]));break;default:z.push(k[H].apply(this,L))}}else if(!this.ignoreErrors&&!this._all&&y==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(z)},V.prototype.on=function(y,P,R){return this._on(y,P,!1,R)},V.prototype.prependListener=function(y,P,R){return this._on(y,P,!0,R)},V.prototype.onAny=function(y){return this._onAny(y,!1)},V.prototype.prependAny=function(y){return this._onAny(y,!0)},V.prototype.addListener=V.prototype.on,V.prototype._onAny=function(y,P){if(typeof y!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),P?this._all.unshift(y):this._all.push(y),this},V.prototype._on=function(y,P,R,M){if(typeof y=="function")return this._onAny(y,P),this;if(typeof P!="function")throw new Error("on only accepts instances of Function");this._events||d.call(this);var L=this,I;return M!==r&&(I=X.call(this,y,P,M),P=I[0],L=I[1]),this._newListener&&this.emit("newListener",y,P),this.wildcard?(F.call(this,y,P,R),L):(this._events[y]?(typeof this._events[y]=="function"&&(this._events[y]=[this._events[y]]),R?this._events[y].unshift(P):this._events[y].push(P),!this._events[y].warned&&this._maxListeners>0&&this._events[y].length>this._maxListeners&&(this._events[y].warned=!0,p.call(this,this._events[y].length,y))):this._events[y]=P,L)},V.prototype.off=function(y,P){if(typeof P!="function")throw new Error("removeListener only takes instances of Function");var R,M=[];if(this.wildcard){var L=typeof y=="string"?y.split(this.delimiter):y.slice();if(M=N.call(this,null,L,this.listenerTree,0),!M)return this}else{if(!this._events[y])return this;R=this._events[y],M.push({_listeners:R})}for(var I=0;I<M.length;I++){var H=M[I];if(R=H._listeners,n(R)){for(var J=-1,z=0,v=R.length;z<v;z++)if(R[z]===P||R[z].listener&&R[z].listener===P||R[z]._origin&&R[z]._origin===P){J=z;break}if(J<0)continue;return this.wildcard?H._listeners.splice(J,1):this._events[y].splice(J,1),R.length===0&&(this.wildcard?delete H._listeners:delete this._events[y]),this._removeListener&&this.emit("removeListener",y,P),this}else(R===P||R.listener&&R.listener===P||R._origin&&R._origin===P)&&(this.wildcard?delete H._listeners:delete this._events[y],this._removeListener&&this.emit("removeListener",y,P))}return this.listenerTree&&j(this.listenerTree),this},V.prototype.offAny=function(y){var P=0,R=0,M;if(y&&this._all&&this._all.length>0){for(M=this._all,P=0,R=M.length;P<R;P++)if(y===M[P])return M.splice(P,1),this._removeListener&&this.emit("removeListenerAny",y),this}else{if(M=this._all,this._removeListener)for(P=0,R=M.length;P<R;P++)this.emit("removeListenerAny",M[P]);this._all=[]}return this},V.prototype.removeListener=V.prototype.off,V.prototype.removeAllListeners=function(y){if(y===r)return!this._events||d.call(this),this;if(this.wildcard){var P=N.call(this,null,y,this.listenerTree,0),R,M;if(!P)return this;for(M=0;M<P.length;M++)R=P[M],R._listeners=null;this.listenerTree&&j(this.listenerTree)}else this._events&&(this._events[y]=null);return this},V.prototype.listeners=function(y){var P=this._events,R,M,L,I,H;if(y===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!P)return[];for(R=u(P),I=R.length,L=[];I-- >0;)M=P[R[I]],typeof M=="function"?L.push(M):L.push.apply(L,M);return L}else{if(this.wildcard){if(H=this.listenerTree,!H)return[];var J=[],z=typeof y=="string"?y.split(this.delimiter):y.slice();return N.call(this,J,z,H,0),J}return P?(M=P[y],M?typeof M=="function"?[M]:M:[]):[]}},V.prototype.eventNames=function(y){var P=this._events;return this.wildcard?A.call(this,this.listenerTree,[],null,y):P?u(P):[]},V.prototype.listenerCount=function(y){return this.listeners(y).length},V.prototype.hasListeners=function(y){if(this.wildcard){var P=[],R=typeof y=="string"?y.split(this.delimiter):y.slice();return N.call(this,P,R,this.listenerTree,0),P.length>0}var M=this._events,L=this._all;return!!(L&&L.length||M&&(y===r?u(M).length:M[y]))},V.prototype.listenersAny=function(){return this._all?this._all:[]},V.prototype.waitFor=function(y,P){var R=this,M=typeof P;return M==="number"?P={timeout:P}:M==="function"&&(P={filter:P}),P=C(P,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:x,Promise:g}),D(P.Promise,function(L,I,H){function J(){var z=P.filter;if(!(z&&!z.apply(R,arguments)))if(R.off(y,J),P.handleError){var v=arguments[0];v?I(v):L(_.apply(null,arguments).slice(1))}else L(_.apply(null,arguments))}H(function(){R.off(y,J)}),R._on(y,J,!1)},{timeout:P.timeout,overload:P.overload})};function Q(y,P,R){R=C(R,{Promise,timeout:0,overload:!1},{Promise:g});var M=R.Promise;return D(M,function(L,I,H){var J;if(typeof y.addEventListener=="function"){J=function(){L(_.apply(null,arguments))},H(function(){y.removeEventListener(P,J)}),y.addEventListener(P,J,{once:!0});return}var z=function(){v&&y.removeListener("error",v),L(_.apply(null,arguments))},v;P!=="error"&&(v=function(k){y.removeListener(P,z),I(k)},y.once("error",v)),H(function(){v&&y.removeListener("error",v),y.removeListener(P,z)}),y.once(P,z)},{timeout:R.timeout,overload:R.overload})}var W=V.prototype;Object.defineProperties(V,{defaultMaxListeners:{get:function(){return W._maxListeners},set:function(y){if(typeof y!="number"||y<0||Number.isNaN(y))throw TypeError("n must be a non-negative number");W._maxListeners=y},enumerable:!0},once:{value:Q,writable:!0,configurable:!0}}),Object.defineProperties(W,{_maxListeners:{value:s,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=V})()}(ca)),ca.exports}var ua,xh;function jn(){if(xh)return ua;xh=1;var e=Cf();Ni();var t=xr().EventEmitter2;function r(i){i=i||{},this.ros=i.ros,this.name=i.name,this.serviceType=i.serviceType,this.isAdvertised=!1,this._serviceCallback=null}return r.prototype.__proto__=t.prototype,r.prototype.callService=function(i,n,s){if(!this.isAdvertised){var a="call_service:"+this.name+":"+ ++this.ros.idCounter;(n||s)&&this.ros.once(a,function(l){l.result!==void 0&&l.result===!1?typeof s=="function"&&s(l.values):typeof n=="function"&&n(new e(l.values))});var o={op:"call_service",id:a,service:this.name,type:this.serviceType,args:i};this.ros.callOnConnection(o)}},r.prototype.advertise=function(i){this.isAdvertised||typeof i!="function"||(this._serviceCallback=i,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},r.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},r.prototype._serviceResponse=function(i){var n={},s=this._serviceCallback(i.args,n),a={op:"service_response",service:this.name,values:new e(n),result:s};i.id&&(a.id=i.id),this.ros.callOnConnection(a)},ua=r,ua}var fa,Ch;function nl(){if(Ch)return fa;Ch=1;var e=xf(),t=bg(),r=Tg(),i=jn(),n=Ni(),s=wr,a=xr().EventEmitter2;function o(l){l=l||{};var h=this;this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=l.transportLibrary||"websocket",this.transportOptions=l.transportOptions||{},this._sendFunc=function(c){h.sendEncodedMessage(c)},typeof l.groovyCompatibility>"u"?this.groovyCompatibility=!0:this.groovyCompatibility=l.groovyCompatibility,this.setMaxListeners(0),l.url&&this.connect(l.url)}return o.prototype.__proto__=a.prototype,o.prototype.connect=function(l){if(this.transportLibrary==="socket.io")this.socket=s(io(l,{"force new connection":!0}),r(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if(this.transportLibrary.constructor.name==="RTCPeerConnection")this.socket=s(this.transportLibrary.createDataChannel(l,this.transportOptions),r(this));else if(this.transportLibrary==="websocket"){if(!this.socket||this.socket.readyState===e.CLOSED){var h=new e(l);h.binaryType="arraybuffer",this.socket=s(h,r(this))}}else if(this.transportLibrary==="workersocket")this.socket=s(new t(l),r(this));else throw"Unknown transportLibrary: "+this.transportLibrary.toString()},o.prototype.close=function(){this.socket&&this.socket.close()},o.prototype.authenticate=function(l,h,c,u,d,f,p){var _={op:"auth",mac:l,client:h,dest:c,rand:u,t:d,level:f,end:p};this.callOnConnection(_)},o.prototype.sendEncodedMessage=function(l){var h=null,c=this;this.transportLibrary==="socket.io"?h=function(u){c.socket.emit("operation",u)}:h=function(u){c.socket.send(u)},this.isConnected?h(l):c.once("connection",function(){h(l)})},o.prototype.callOnConnection=function(l){this.transportOptions.encoder?this.transportOptions.encoder(l,this._sendFunc):this._sendFunc(JSON.stringify(l))},o.prototype.setStatusLevel=function(l,h){var c={op:"set_level",level:l,id:h};this.callOnConnection(c)},o.prototype.getActionServers=function(l,h){var c=new i({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),u=new n({});typeof h=="function"?c.callService(u,function(d){l(d.action_servers)},function(d){h(d)}):c.callService(u,function(d){l(d.action_servers)})},o.prototype.getTopics=function(l,h){var c=new i({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),u=new n;typeof h=="function"?c.callService(u,function(d){l(d)},function(d){h(d)}):c.callService(u,function(d){l(d)})},o.prototype.getTopicsForType=function(l,h,c){var u=new i({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),d=new n({type:l});typeof c=="function"?u.callService(d,function(f){h(f.topics)},function(f){c(f)}):u.callService(d,function(f){h(f.topics)})},o.prototype.getServices=function(l,h){var c=new i({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),u=new n;typeof h=="function"?c.callService(u,function(d){l(d.services)},function(d){h(d)}):c.callService(u,function(d){l(d.services)})},o.prototype.getServicesForType=function(l,h,c){var u=new i({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),d=new n({type:l});typeof c=="function"?u.callService(d,function(f){h(f.services)},function(f){c(f)}):u.callService(d,function(f){h(f.services)})},o.prototype.getServiceRequestDetails=function(l,h,c){var u=new i({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),d=new n({type:l});typeof c=="function"?u.callService(d,function(f){h(f)},function(f){c(f)}):u.callService(d,function(f){h(f)})},o.prototype.getServiceResponseDetails=function(l,h,c){var u=new i({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),d=new n({type:l});typeof c=="function"?u.callService(d,function(f){h(f)},function(f){c(f)}):u.callService(d,function(f){h(f)})},o.prototype.getNodes=function(l,h){var c=new i({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),u=new n;typeof h=="function"?c.callService(u,function(d){l(d.nodes)},function(d){h(d)}):c.callService(u,function(d){l(d.nodes)})},o.prototype.getNodeDetails=function(l,h,c){var u=new i({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),d=new n({node:l});typeof c=="function"?u.callService(d,function(f){h(f.subscribing,f.publishing,f.services)},function(f){c(f)}):u.callService(d,function(f){h(f)})},o.prototype.getParams=function(l,h){var c=new i({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),u=new n;typeof h=="function"?c.callService(u,function(d){l(d.names)},function(d){h(d)}):c.callService(u,function(d){l(d.names)})},o.prototype.getTopicType=function(l,h,c){var u=new i({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),d=new n({topic:l});typeof c=="function"?u.callService(d,function(f){h(f.type)},function(f){c(f)}):u.callService(d,function(f){h(f.type)})},o.prototype.getServiceType=function(l,h,c){var u=new i({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),d=new n({service:l});typeof c=="function"?u.callService(d,function(f){h(f.type)},function(f){c(f)}):u.callService(d,function(f){h(f.type)})},o.prototype.getMessageDetails=function(l,h,c){var u=new i({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),d=new n({type:l});typeof c=="function"?u.callService(d,function(f){h(f.typedefs)},function(f){c(f)}):u.callService(d,function(f){h(f.typedefs)})},o.prototype.decodeTypeDefs=function(l){var h=this,c=function(u,d){for(var f={},p=0;p<u.fieldnames.length;p++){var _=u.fieldarraylen[p],b=u.fieldnames[p],S=u.fieldtypes[p];if(S.indexOf("/")===-1)_===-1?f[b]=S:f[b]=[S];else{for(var C=!1,g=0;g<d.length;g++)if(d[g].type.toString()===S.toString()){C=d[g];break}if(C){var m=c(C,d);_===-1?f[b]=m:f[b]=[m]}else h.emit("error","Cannot find "+S+" in decodeTypeDefs")}}return f};return c(l[0],l)},o.prototype.getTopicsAndRawTypes=function(l,h){var c=new i({ros:this,name:"/rosapi/topics_and_raw_types",serviceType:"rosapi/TopicsAndRawTypes"}),u=new n;typeof h=="function"?c.callService(u,function(d){l(d)},function(d){h(d)}):c.callService(u,function(d){l(d)})},fa=o,fa}var da,Th;function Qr(){if(Th)return da;Th=1;var e=wr;function t(r){e(this,r)}return da=t,da}var ga,Eh;function Gi(){if(Eh)return ga;Eh=1;var e=xr().EventEmitter2,t=Qr();function r(i){i=i||{},this.ros=i.ros,this.name=i.name,this.messageType=i.messageType,this.isAdvertised=!1,this.compression=i.compression||"none",this.throttle_rate=i.throttle_rate||0,this.latch=i.latch||!1,this.queue_size=i.queue_size||100,this.queue_length=i.queue_length||0,this.reconnect_on_close=i.reconnect_on_close!==void 0?i.reconnect_on_close:!0,this.compression&&this.compression!=="png"&&this.compression!=="cbor"&&this.compression!=="cbor-raw"&&this.compression!=="none"&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var n=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(s){n.ros.callOnConnection(s),n.waitForReconnect=!1,n.reconnectFunc=function(){n.waitForReconnect||(n.waitForReconnect=!0,n.ros.callOnConnection(s),n.ros.once("connection",function(){n.waitForReconnect=!1}))},n.ros.on("close",n.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(s){n.emit("message",new t(s))}}return r.prototype.__proto__=e.prototype,r.prototype.subscribe=function(i){typeof i=="function"&&this.on("message",i),!this.subscribeId&&(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},r.prototype.unsubscribe=function(i){i&&(this.off("message",i),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},r.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var i=this;this.ros.on("close",function(){i.isAdvertised=!1})}},r.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},r.prototype.publish=function(i){this.isAdvertised||this.advertise(),this.ros.idCounter++;var n={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:i,latch:this.latch};this.ros.callOnConnection(n)},ga=r,ga}var pa,Ph;function Eg(){if(Ph)return pa;Ph=1;var e=jn(),t=Ni();function r(i){i=i||{},this.ros=i.ros,this.name=i.name}return r.prototype.get=function(i,n){var s=new e({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),a=new t({name:this.name});s.callService(a,function(o){var l=JSON.parse(o.value);i(l)},n)},r.prototype.set=function(i,n,s){var a=new e({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),o=new t({name:this.name,value:JSON.stringify(i)});a.callService(o,n,s)},r.prototype.delete=function(i,n){var s=new e({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),a=new t({name:this.name});s.callService(a,i,n)},pa=r,pa}var Rh;function Pg(){if(Rh)return Xs.exports;Rh=1;var e=il(),t=Xs.exports={Ros:nl(),Topic:Gi(),Message:Qr(),Param:Eg(),Service:jn(),ServiceRequest:Ni(),ServiceResponse:Cf()};return e(t.Ros,["Param","Service","Topic"],t),Xs.exports}var va={exports:{}},ma,Ah;function Tf(){if(Ah)return ma;Ah=1;var e=Gi(),t=Qr(),r=xr().EventEmitter2;function i(n){var s=this;n=n||{},this.ros=n.ros,this.serverName=n.serverName,this.actionName=n.actionName,this.timeout=n.timeout,this.omitFeedback=n.omitFeedback,this.omitStatus=n.omitStatus,this.omitResult=n.omitResult,this.goals={};var a=!1;this.feedbackListener=new e({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new e({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new e({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new e({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new e({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe(function(o){a=!0,o.status_list.forEach(function(l){var h=s.goals[l.goal_id.id];h&&h.emit("status",l)})}),this.omitFeedback||this.feedbackListener.subscribe(function(o){var l=s.goals[o.status.goal_id.id];l&&(l.emit("status",o.status),l.emit("feedback",o.feedback))}),this.omitResult||this.resultListener.subscribe(function(o){var l=s.goals[o.status.goal_id.id];l&&(l.emit("status",o.status),l.emit("result",o.result))}),this.timeout&&setTimeout(function(){a||s.emit("timeout")},this.timeout)}return i.prototype.__proto__=r.prototype,i.prototype.cancel=function(){var n=new t;this.cancelTopic.publish(n)},i.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},ma=i,ma}var _a,Mh;function Rg(){if(Mh)return _a;Mh=1;var e=Gi();Qr();var t=xr().EventEmitter2;function r(i){var n=this;i=i||{},this.ros=i.ros,this.serverName=i.serverName,this.actionName=i.actionName;var s=new e({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),a=new e({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),o=new e({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),l=new e({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});s.subscribe(function(h){n.emit("goal",h)}),o.subscribe(function(h){h.status_list.forEach(function(c){n.emit("status",c)})}),a.subscribe(function(h){n.emit("status",h.status),n.emit("feedback",h.feedback)}),l.subscribe(function(h){n.emit("status",h.status),n.emit("result",h.result)})}return r.prototype.__proto__=t.prototype,_a=r,_a}var ya,kh;function Ef(){if(kh)return ya;kh=1;var e=Qr(),t=xr().EventEmitter2;function r(i){var n=this;this.actionClient=i.actionClient,this.goalMessage=i.goalMessage,this.isFinished=!1;var s=new Date;this.goalID="goal_"+Math.random()+"_"+s.getTime(),this.goalMessage=new e({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",function(a){n.status=a}),this.on("result",function(a){n.isFinished=!0,n.result=a}),this.on("feedback",function(a){n.feedback=a}),this.actionClient.goals[this.goalID]=this}return r.prototype.__proto__=t.prototype,r.prototype.send=function(i){var n=this;n.actionClient.goalTopic.publish(n.goalMessage),i&&setTimeout(function(){n.isFinished||n.emit("timeout")},i)},r.prototype.cancel=function(){var i=new e({id:this.goalID});this.actionClient.cancelTopic.publish(i)},ya=r,ya}var ba,Oh;function Ag(){if(Oh)return ba;Oh=1;var e=Gi(),t=Qr(),r=xr().EventEmitter2;function i(n){var s=this;n=n||{},this.ros=n.ros,this.serverName=n.serverName,this.actionName=n.actionName,this.feedbackPublisher=new e({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var a=new e({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});a.advertise(),this.resultPublisher=new e({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var o=new e({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),l=new e({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new t({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,o.subscribe(function(c){s.currentGoal?(s.nextGoal=c,s.emit("cancel")):(s.statusMessage.status_list=[{goal_id:c.goal_id,status:1}],s.currentGoal=c,s.emit("goal",c.goal))});var h=function(c,u){return c.secs>u.secs?!1:c.secs<u.secs?!0:c.nsecs<u.nsecs};l.subscribe(function(c){c.stamp.secs===0&&c.stamp.secs===0&&c.id===""?(s.nextGoal=null,s.currentGoal&&s.emit("cancel")):(s.currentGoal&&c.id===s.currentGoal.goal_id.id?s.emit("cancel"):s.nextGoal&&c.id===s.nextGoal.goal_id.id&&(s.nextGoal=null),s.nextGoal&&h(s.nextGoal.goal_id.stamp,c.stamp)&&(s.nextGoal=null),s.currentGoal&&h(s.currentGoal.goal_id.stamp,c.stamp)&&s.emit("cancel"))}),setInterval(function(){var c=new Date,u=Math.floor(c.getTime()/1e3),d=Math.round(1e9*(c.getTime()/1e3-u));s.statusMessage.header.stamp.secs=u,s.statusMessage.header.stamp.nsecs=d,a.publish(s.statusMessage)},500)}return i.prototype.__proto__=r.prototype,i.prototype.setSucceeded=function(n){var s=new t({status:{goal_id:this.currentGoal.goal_id,status:3},result:n});this.resultPublisher.publish(s),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},i.prototype.setAborted=function(n){var s=new t({status:{goal_id:this.currentGoal.goal_id,status:4},result:n});this.resultPublisher.publish(s),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},i.prototype.sendFeedback=function(n){var s=new t({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:n});this.feedbackPublisher.publish(s)},i.prototype.setPreempted=function(){this.statusMessage.status_list=[];var n=new t({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(n),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},ba=i,ba}var Fh;function Mg(){if(Fh)return va.exports;Fh=1;var e=nl(),t=il(),r=va.exports={ActionClient:Tf(),ActionListener:Rg(),Goal:Ef(),SimpleActionServer:Ag()};return t(e,["ActionClient","SimpleActionServer"],r),va.exports}var Sa,Lh;function Cr(){if(Lh)return Sa;Lh=1;function e(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0}return e.prototype.add=function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z},e.prototype.subtract=function(t){this.x-=t.x,this.y-=t.y,this.z-=t.z},e.prototype.multiplyQuaternion=function(t){var r=t.w*this.x+t.y*this.z-t.z*this.y,i=t.w*this.y+t.z*this.x-t.x*this.z,n=t.w*this.z+t.x*this.y-t.y*this.x,s=-t.x*this.x-t.y*this.y-t.z*this.z;this.x=r*t.w+s*-t.x+i*-t.z-n*-t.y,this.y=i*t.w+s*-t.y+n*-t.x-r*-t.z,this.z=n*t.w+s*-t.z+r*-t.y-i*-t.x},e.prototype.clone=function(){return new e(this)},Sa=e,Sa}var wa,Nh;function Ii(){if(Nh)return wa;Nh=1;function e(t){t=t||{},this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=typeof t.w=="number"?t.w:1}return e.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},e.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},e.prototype.normalize=function(){var t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);t===0?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t)},e.prototype.invert=function(){this.conjugate(),this.normalize()},e.prototype.multiply=function(t){var r=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,i=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,n=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,s=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;this.x=r,this.y=i,this.z=n,this.w=s},e.prototype.clone=function(){return new e(this)},wa=e,wa}var xa,Gh;function sl(){if(Gh)return xa;Gh=1;var e=Cr(),t=Ii();function r(i){i=i||{},this.position=new e(i.position),this.orientation=new t(i.orientation)}return r.prototype.applyTransform=function(i){this.position.multiplyQuaternion(i.rotation),this.position.add(i.translation);var n=i.rotation.clone();n.multiply(this.orientation),this.orientation=n},r.prototype.clone=function(){return new r(this)},r.prototype.multiply=function(i){var n=i.clone();return n.applyTransform({rotation:this.orientation,translation:this.position}),n},r.prototype.getInverse=function(){var i=this.clone();return i.orientation.invert(),i.position.multiplyQuaternion(i.orientation),i.position.x*=-1,i.position.y*=-1,i.position.z*=-1,i},xa=r,xa}var Ca,Ih;function Pf(){if(Ih)return Ca;Ih=1;var e=Cr(),t=Ii();function r(i){i=i||{},this.translation=new e(i.translation),this.rotation=new t(i.rotation)}return r.prototype.clone=function(){return new r(this)},Ca=r,Ca}var Ta,Dh;function kg(){return Dh||(Dh=1,Ta={Pose:sl(),Quaternion:Ii(),Transform:Pf(),Vector3:Cr()}),Ta}var Ea={exports:{}},Pa,Uh;function Og(){if(Uh)return Pa;Uh=1;var e=Tf(),t=Ef(),r=jn(),i=Ni(),n=Gi(),s=Pf();function a(o){o=o||{},this.ros=o.ros,this.fixedFrame=o.fixedFrame||"base_link",this.angularThres=o.angularThres||2,this.transThres=o.transThres||.01,this.rate=o.rate||10,this.updateDelay=o.updateDelay||50;var l=o.topicTimeout||2,h=Math.floor(l),c=Math.floor((l-h)*1e9);this.topicTimeout={secs:h,nsecs:c},this.serverName=o.serverName||"/tf2_web_republisher",this.repubServiceName=o.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this._subscribeCB=null,this._isDisposed=!1,this.actionClient=new e({ros:o.ros,serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=new r({ros:o.ros,name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}return a.prototype.processTFArray=function(o){o.transforms.forEach(function(l){var h=l.child_frame_id;h[0]==="/"&&(h=h.substring(1));var c=this.frameInfos[h];c&&(c.transform=new s({translation:l.transform.translation,rotation:l.transform.rotation}),c.cbs.forEach(function(u){u(c.transform)}))},this)},a.prototype.updateGoal=function(){var o={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new t({actionClient:this.actionClient,goalMessage:o}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{o.timeout=this.topicTimeout;var l=new i(o);this.serviceClient.callService(l,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},a.prototype.processResponse=function(o){this._isDisposed||(this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB),this.currentTopic=new n({ros:this.ros,name:o.topic_name,messageType:"tf2_web_republisher/TFArray"}),this._subscribeCB=this.processTFArray.bind(this),this.currentTopic.subscribe(this._subscribeCB))},a.prototype.subscribe=function(o,l){o[0]==="/"&&(o=o.substring(1)),this.frameInfos[o]?this.frameInfos[o].transform&&l(this.frameInfos[o].transform):(this.frameInfos[o]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[o].cbs.push(l)},a.prototype.unsubscribe=function(o,l){o[0]==="/"&&(o=o.substring(1));for(var h=this.frameInfos[o],c=h&&h.cbs||[],u=c.length;u--;)c[u]===l&&c.splice(u,1);(!l||c.length===0)&&delete this.frameInfos[o]},a.prototype.dispose=function(){this._isDisposed=!0,this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB)},Pa=a,Pa}var Bh;function Fg(){if(Bh)return Ea.exports;Bh=1;var e=nl(),t=il(),r=Ea.exports={TFClient:Og()};return t(e,["TFClient"],r),Ea.exports}var Ra,Vh;function Di(){return Vh||(Vh=1,Ra={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}),Ra}var Aa,jh;function Rf(){if(jh)return Aa;jh=1;var e=Cr(),t=Di();function r(i){this.dimension=null,this.type=t.URDF_BOX;var n=i.xml.getAttribute("size").split(" ");this.dimension=new e({x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])})}return Aa=r,Aa}var Ma,Hh;function Af(){if(Hh)return Ma;Hh=1;function e(t){var r=t.xml.getAttribute("rgba").split(" ");this.r=parseFloat(r[0]),this.g=parseFloat(r[1]),this.b=parseFloat(r[2]),this.a=parseFloat(r[3])}return Ma=e,Ma}var ka,$h;function Mf(){if($h)return ka;$h=1;var e=Di();function t(r){this.type=e.URDF_CYLINDER,this.length=parseFloat(r.xml.getAttribute("length")),this.radius=parseFloat(r.xml.getAttribute("radius"))}return ka=t,ka}var Oa,zh;function al(){if(zh)return Oa;zh=1;var e=Af();function t(i){this.textureFilename=null,this.color=null,this.name=i.xml.getAttribute("name");var n=i.xml.getElementsByTagName("texture");n.length>0&&(this.textureFilename=n[0].getAttribute("filename"));var s=i.xml.getElementsByTagName("color");s.length>0&&(this.color=new e({xml:s[0]}))}t.prototype.isLink=function(){return this.color===null&&this.textureFilename===null};var r=wr;return t.prototype.assign=function(i){return r(this,i)},Oa=t,Oa}var Fa,Wh;function kf(){if(Wh)return Fa;Wh=1;var e=Cr(),t=Di();function r(i){this.scale=null,this.type=t.URDF_MESH,this.filename=i.xml.getAttribute("filename");var n=i.xml.getAttribute("scale");if(n){var s=n.split(" ");this.scale=new e({x:parseFloat(s[0]),y:parseFloat(s[1]),z:parseFloat(s[2])})}}return Fa=r,Fa}var La,qh;function Of(){if(qh)return La;qh=1;var e=Di();function t(r){this.type=e.URDF_SPHERE,this.radius=parseFloat(r.xml.getAttribute("radius"))}return La=t,La}var Na,Kh;function Ff(){if(Kh)return Na;Kh=1;var e=sl(),t=Cr(),r=Ii(),i=Mf(),n=Rf(),s=al(),a=kf(),o=Of();function l(h){var c=h.xml;this.origin=null,this.geometry=null,this.material=null,this.name=h.xml.getAttribute("name");var u=c.getElementsByTagName("origin");if(u.length===0)this.origin=new e;else{var d=u[0].getAttribute("xyz"),f=new t;d&&(d=d.split(" "),f=new t({x:parseFloat(d[0]),y:parseFloat(d[1]),z:parseFloat(d[2])}));var p=u[0].getAttribute("rpy"),_=new r;if(p){p=p.split(" ");var b=parseFloat(p[0]),S=parseFloat(p[1]),C=parseFloat(p[2]),g=b/2,m=S/2,x=C/2,O=Math.sin(g)*Math.cos(m)*Math.cos(x)-Math.cos(g)*Math.sin(m)*Math.sin(x),D=Math.cos(g)*Math.sin(m)*Math.cos(x)+Math.sin(g)*Math.cos(m)*Math.sin(x),T=Math.cos(g)*Math.cos(m)*Math.sin(x)-Math.sin(g)*Math.sin(m)*Math.cos(x),N=Math.cos(g)*Math.cos(m)*Math.cos(x)+Math.sin(g)*Math.sin(m)*Math.sin(x);_=new r({x:O,y:D,z:T,w:N}),_.normalize()}this.origin=new e({position:f,orientation:_})}var F=c.getElementsByTagName("geometry");if(F.length>0){for(var A=F[0],j=null,B=0;B<A.childNodes.length;B++){var X=A.childNodes[B];if(X.nodeType===1){j=X;break}}var V=j.nodeName;V==="sphere"?this.geometry=new o({xml:j}):V==="box"?this.geometry=new n({xml:j}):V==="cylinder"?this.geometry=new i({xml:j}):V==="mesh"?this.geometry=new a({xml:j}):console.warn("Unknown geometry type "+V)}var Q=c.getElementsByTagName("material");Q.length>0&&(this.material=new s({xml:Q[0]}))}return Na=l,Na}var Ga,Yh;function Lf(){if(Yh)return Ga;Yh=1;var e=Ff();function t(r){this.name=r.xml.getAttribute("name"),this.visuals=[];for(var i=r.xml.getElementsByTagName("visual"),n=0;n<i.length;n++)this.visuals.push(new e({xml:i[n]}))}return Ga=t,Ga}var Ia,Xh;function Lg(){if(Xh)return Ia;Xh=1;var e=sl(),t=Cr(),r=Ii();function i(n){this.name=n.xml.getAttribute("name"),this.type=n.xml.getAttribute("type");var s=n.xml.getElementsByTagName("parent");s.length>0&&(this.parent=s[0].getAttribute("link"));var a=n.xml.getElementsByTagName("child");a.length>0&&(this.child=a[0].getAttribute("link"));var o=n.xml.getElementsByTagName("limit");o.length>0&&(this.minval=parseFloat(o[0].getAttribute("lower")),this.maxval=parseFloat(o[0].getAttribute("upper")));var l=n.xml.getElementsByTagName("origin");if(l.length===0)this.origin=new e;else{var h=l[0].getAttribute("xyz"),c=new t;h&&(h=h.split(" "),c=new t({x:parseFloat(h[0]),y:parseFloat(h[1]),z:parseFloat(h[2])}));var u=l[0].getAttribute("rpy"),d=new r;if(u){u=u.split(" ");var f=parseFloat(u[0]),p=parseFloat(u[1]),_=parseFloat(u[2]),b=f/2,S=p/2,C=_/2,g=Math.sin(b)*Math.cos(S)*Math.cos(C)-Math.cos(b)*Math.sin(S)*Math.sin(C),m=Math.cos(b)*Math.sin(S)*Math.cos(C)+Math.sin(b)*Math.cos(S)*Math.sin(C),x=Math.cos(b)*Math.cos(S)*Math.sin(C)-Math.sin(b)*Math.sin(S)*Math.cos(C),O=Math.cos(b)*Math.cos(S)*Math.cos(C)+Math.sin(b)*Math.sin(S)*Math.sin(C);d=new r({x:g,y:m,z:x,w:O}),d.normalize()}this.origin=new e({position:c,orientation:d})}}return Ia=i,Ia}var li={},Qh;function Ng(){return Qh||(Qh=1,li.DOMImplementation=window.DOMImplementation,li.XMLSerializer=window.XMLSerializer,li.DOMParser=window.DOMParser),li}var Da,Jh;function Gg(){if(Jh)return Da;Jh=1;var e=al(),t=Lf(),r=Lg(),i=Ng().DOMParser;function n(s){s=s||{};var a=s.xml,o=s.string;if(this.materials={},this.links={},this.joints={},o){var l=new i;a=l.parseFromString(o,"text/xml")}var h=a.documentElement;this.name=h.getAttribute("name");for(var c=h.childNodes,u=0;u<c.length;u++){var d=c[u];if(d.tagName==="material"){var f=new e({xml:d});this.materials[f.name]!==void 0?this.materials[f.name].isLink()?this.materials[f.name].assign(f):console.warn("Material "+f.name+"is not unique."):this.materials[f.name]=f}else if(d.tagName==="link"){var p=new t({xml:d});if(this.links[p.name]!==void 0)console.warn("Link "+p.name+" is not unique.");else{for(var _=0;_<p.visuals.length;_++){var b=p.visuals[_].material;b!==null&&b.name&&(this.materials[b.name]!==void 0?p.visuals[_].material=this.materials[b.name]:this.materials[b.name]=b)}this.links[p.name]=p}}else if(d.tagName==="joint"){var S=new r({xml:d});this.joints[S.name]=S}}}return Da=n,Da}var Ua,Zh;function Ig(){return Zh||(Zh=1,Ua=wr({UrdfBox:Rf(),UrdfColor:Af(),UrdfCylinder:Mf(),UrdfLink:Lf(),UrdfMaterial:al(),UrdfMesh:kf(),UrdfModel:Gg(),UrdfSphere:Of(),UrdfVisual:Ff()},Di())),Ua}var Jr=vn.ROSLIB||{REVISION:"1.4.1"},Ui=wr;Ui(Jr,Pg());Ui(Jr,Mg());Ui(Jr,kg());Ui(Jr,Fg());Ui(Jr,Ig());var Dg=Jr;const Qi=wf(Dg);class Ug{constructor(t,r,i){this.motor1=t,this.motor2=r,this.motor3=i}}const hi=_n;function mn(){const e=["5oprHHA","515576SVAjZS","8396269FBotgm","610dKXMHZ","cos","roundToZero","4642077XaoirM","1011126TenzBM","round","DEG2RAD","sin","320342TosClX","63jPEmUj","6651942HFWcCy","pose","abs","angle2","4xGzmCz","619328HmACLn"];return mn=function(){return e},mn()}(function(e,t){const r=_n,i=e();for(;;)try{if(-parseInt(r(464))/1+parseInt(r(458))/2+-parseInt(r(463))/3*(-parseInt(r(455))/4)+parseInt(r(457))/5*(-parseInt(r(470))/6)+-parseInt(r(459))/7+-parseInt(r(456))/8*(-parseInt(r(469))/9)+-parseInt(r(460))/10*(-parseInt(r(468))/11)===t)break;i.push(i.shift())}catch{i.push(i.shift())}})(mn,804251);function _n(e,t){const r=mn();return _n=function(i,n){return i=i-455,r[i]},_n(e,t)}var iu,nu;nu=hi(473),iu=hi(466);const Ne=class Ne{constructor(t){const r=hi;this[r(471)]=t}inverseKinematicEncoder(){const t=hi,r=Ne.angle1*Ne[t(466)],i=Ne[t(473)]*Ne.DEG2RAD;let n=this[t(471)].x*Math[t(461)](r)+this.pose.y*Math[t(467)](r),s=this[t(471)].x*Math[t(461)](i)+this.pose.y*Math[t(467)](i),a=this.pose.th;return n=this[t(462)](n),s=this.roundToZero(s),{enc_left:n,enc_right:s,th:a}}roundToZero(t,r=1e-5){const i=hi;return Math[i(472)](t)<r?0:Math[i(465)](t*1e6)/1e6}};He(Ne,"angle1",315),He(Ne,nu,45),He(Ne,iu,.017453292519943295);let mo=Ne;function yn(){const e=["11xYWLRY","1568034pnrBFA","angle2","DEG2RAD","159536rwjkaX","fkm","motor2","4DVigiZ","motor1","inverseKinematic","abs","2236405OTNwYT","vth","sin","192402gCiWhz","round","motor3","angle3","7853796jQgNFp","2TXRkaZ","cos","angle1","5392647AjMLZP","forwardKinematic","63TBHEAO","16KpQfmZ","roundToZero","13377480vBzTUQ"];return yn=function(){return e},yn()}function bn(e,t){const r=yn();return bn=function(i,n){return i=i-310,r[i]},bn(e,t)}const ue=bn;(function(e,t){const r=bn,i=e();for(;;)try{if(parseInt(r(319))/1*(-parseInt(r(334))/2)+parseInt(r(316))/3+-parseInt(r(322))/4*(parseInt(r(326))/5)+parseInt(r(329))/6*(parseInt(r(311))/7)+-parseInt(r(312))/8*(-parseInt(r(337))/9)+-parseInt(r(314))/10+-parseInt(r(315))/11*(-parseInt(r(333))/12)===t)break;i.push(i.shift())}catch{i.push(i.shift())}})(yn,719565);var su,au,ou,lu;const jt=class jt{constructor(t){const r=ue;this[r(320)]=t}[(lu=ue(336),ou=ue(317),au=ue(332),su=ue(318),ue(310))](){const t=ue,r=jt[t(336)]*jt[t(318)],i=jt[t(317)]*jt[t(318)],n=jt[t(332)]*jt[t(318)],s=2/3*(this[t(320)][t(323)]*Math[t(335)](r)+this[t(320)][t(321)]*Math.cos(i)+this[t(320)][t(331)]*Math.cos(n)),a=2/3*(this[t(320)][t(323)]*Math.sin(r)+this[t(320)][t(321)]*Math.sin(i)+this[t(320)][t(331)]*Math[t(328)](n)),o=(this.fkm[t(323)]+this[t(320)].motor2+this.fkm[t(331)])/3,l=this[t(313)](s),h=this[t(313)](a),c=this.roundToZero(o);return{vx:l,vy:h,vth:c}}[ue(324)](t){const r=ue,i=jt[r(336)]*jt[r(318)],n=jt[r(317)]*jt.DEG2RAD,s=jt[r(332)]*jt.DEG2RAD;let a=t.vx*Math[r(335)](i)+t.vy*Math[r(328)](i)+t[r(327)],o=t.vx*Math[r(335)](n)+t.vy*Math[r(328)](n)+t.vth,l=t.vx*Math.cos(s)+t.vy*Math.sin(s)+t.vth;return a=this.roundToZero(a),o=this[r(313)](o),l=this[r(313)](l),{motor1:a,motor2:o,motor3:l}}[ue(313)](t,r=1e-5){const i=ue;return Math[i(325)](t)<r?0:Math[i(330)](t*1e6)/1e6}};He(jt,lu,0),He(jt,ou,120),He(jt,au,240),He(jt,su,.017453292519943295);let _o=jt;const ol=fg("robot",{state:()=>({ros:null,robot:{vx:0,vy:0,vth:0,pos_x:0,pos_y:0,pos_theta:0},pc2bs:{bola_x:0,bola_y:0,motor1:0,motor2:0,motor3:0},bs2pc:{status:0,tujuan_x:0,tujuan_y:0,enc_left:0,enc_right:0,th:0},message:0,x:0,y:0,receivedMessage:"",connected:!1,alpha:0}),actions:{initializeROS(){this.ros=new Qi.Ros({url:"ws://localhost:9090"}),this.ros.on("connection",()=>{console.log("Connected to websocket server."),this.connected=!0}),this.ros.on("error",e=>{console.log("Error connecting to websocket server: ",e),this.connected=!1}),this.ros.on("close",()=>{console.log("Connection to websocket server closed."),this.connected=!1}),this.pc2bs=new Qi.Topic({ros:this.ros,name:"/pc2bs",messageType:"FP_Magang/PC2BS"}),this.bs2pc=new Qi.Topic({ros:this.ros,name:"/bs2pc",messageType:"FP_Magang/BS2PC"}),this.pc2bs.subscribe(e=>{this.pc2bs.motor1=e.motor1,this.pc2bs.motor2=e.motor2,this.pc2bs.motor3=e.motor3,this.pc2bs.bola_x=e.bola_x,this.pc2bs.bola_y=e.bola_y,this.receiveProcess()}),this.randomNumber()},receiveProcess(){let e=new Ug(this.pc2bs.motor1,this.pc2bs.motor2,this.pc2bs.motor3),t=new _o(e),r=new mo({x:this.robot.pos_x,y:this.robot.pos_y,th:this.robot.pos_theta}),i=t.forwardKinematic(),n=r.inverseKinematicEncoder();this.robot.vx=i.vx,this.robot.vy=i.vy,this.robot.vth=i.vth,this.robot.pos_x+=this.robot.vx/50,this.robot.pos_y+=this.robot.vy/50,this.robot.pos_theta+=this.robot.vth/50,this.bs2pc.enc_left=n.enc_left,this.bs2pc.enc_right=n.enc_right,this.bs2pc.th=n.th,this.sendMessage()},sendMessage(){if(this.bs2pc){this.bs2pc.status=this.message,this.bs2pc.tujuan_x=this.x,this.bs2pc.tujuan_y=this.y;const e=new Qi.Message({status:this.bs2pc.status,tujuan_x:this.bs2pc.tujuan_x,tujuan_y:this.bs2pc.tujuan_y,enc_left:this.bs2pc.enc_left,enc_right:this.bs2pc.enc_right,th:this.bs2pc.th});this.bs2pc.publish(e)}},updateMessage(e){this.message=e},updateKoordinat(e,t){this.x=e,this.y=t},resetDataRobot(){this.robot.pos_x=0,this.robot.pos_y=0,this.robot.pos_theta=0,this.robot.v_x=0,this.robot.v_y=0,this.robot.v_theta=0,this.pc2bs.bola_x=0,this.pc2bs.bola_y=0,this.bs2pc.tujuan_x=0},randomNumber(){this.alpha=Math.random()*(1.2-.8)+.8}}}),ll=(e,t)=>{const r=e.__vccOpts||e;for(const[i,n]of t)r[i]=n;return r},Bg={setup(){return{robotStore:ol()}},created(){this.robotStore.initializeROS(),this.robotStore.resetDataRobot()}};function Vg(e,t,r,i,n,s){const a=nn("router-view");return Te(),gn(a)}const jg=ll(Bg,[["render",Vg]]),Hg="modulepreload",$g=function(e){return"/"+e},tc={},zg=function(t,r,i){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=$g(l),l in tc)return;tc[l]=!0;const h=l.endsWith(".css"),c=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const u=document.createElement("link");if(u.rel=h?"stylesheet":Hg,h||(u.as="script"),u.crossOrigin="",u.href=l,o&&u.setAttribute("nonce",o),document.head.appendChild(u),h)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return n.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ur=typeof document<"u";function Nf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Wg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Nf(e.default)}const xt=Object.assign;function Ba(e,t){const r={};for(const i in t){const n=t[i];r[i]=me(n)?n.map(e):e(n)}return r}const wi=()=>{},me=Array.isArray,Gf=/#/g,qg=/&/g,Kg=/\//g,Yg=/=/g,Xg=/\?/g,If=/\+/g,Qg=/%5B/g,Jg=/%5D/g,Df=/%5E/g,Zg=/%60/g,Uf=/%7B/g,t2=/%7C/g,Bf=/%7D/g,e2=/%20/g;function hl(e){return encodeURI(""+e).replace(t2,"|").replace(Qg,"[").replace(Jg,"]")}function r2(e){return hl(e).replace(Uf,"{").replace(Bf,"}").replace(Df,"^")}function yo(e){return hl(e).replace(If,"%2B").replace(e2,"+").replace(Gf,"%23").replace(qg,"%26").replace(Zg,"`").replace(Uf,"{").replace(Bf,"}").replace(Df,"^")}function i2(e){return yo(e).replace(Yg,"%3D")}function n2(e){return hl(e).replace(Gf,"%23").replace(Xg,"%3F")}function s2(e){return e==null?"":n2(e).replace(Kg,"%2F")}function Ai(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const a2=/\/$/,o2=e=>e.replace(a2,"");function Va(e,t,r="/"){let i,n={},s="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,o>-1?o:t.length),n=e(s)),o>-1&&(i=i||t.slice(0,o),a=t.slice(o,t.length)),i=u2(i??t,r),{fullPath:i+(s&&"?")+s+a,path:i,query:n,hash:Ai(a)}}function l2(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function ec(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function h2(e,t,r){const i=t.matched.length-1,n=r.matched.length-1;return i>-1&&i===n&&Wr(t.matched[i],r.matched[n])&&Vf(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Wr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Vf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!c2(e[r],t[r]))return!1;return!0}function c2(e,t){return me(e)?rc(e,t):me(t)?rc(t,e):e===t}function rc(e,t){return me(t)?e.length===t.length&&e.every((r,i)=>r===t[i]):e.length===1&&e[0]===t}function u2(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),i=e.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let s=r.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+i.slice(a).join("/")}const ze={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Mi;(function(e){e.pop="pop",e.push="push"})(Mi||(Mi={}));var xi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xi||(xi={}));function f2(e){if(!e)if(Ur){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),o2(e)}const d2=/^[^#]+#/;function g2(e,t){return e.replace(d2,"#")+t}function p2(e,t){const r=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-r.left-(t.left||0),top:i.top-r.top-(t.top||0)}}const Hn=()=>({left:window.scrollX,top:window.scrollY});function v2(e){let t;if("el"in e){const r=e.el,i=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=p2(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ic(e,t){return(history.state?history.state.position-t:-1)+e}const bo=new Map;function m2(e,t){bo.set(e,t)}function _2(e){const t=bo.get(e);return bo.delete(e),t}let y2=()=>location.protocol+"//"+location.host;function jf(e,t){const{pathname:r,search:i,hash:n}=t,s=e.indexOf("#");if(s>-1){let o=n.includes(e.slice(s))?e.slice(s).length:1,l=n.slice(o);return l[0]!=="/"&&(l="/"+l),ec(l,"")}return ec(r,e)+i+n}function b2(e,t,r,i){let n=[],s=[],a=null;const o=({state:d})=>{const f=jf(e,location),p=r.value,_=t.value;let b=0;if(d){if(r.value=f,t.value=d,a&&a===p){a=null;return}b=_?d.position-_.position:0}else i(f);n.forEach(S=>{S(r.value,p,{delta:b,type:Mi.pop,direction:b?b>0?xi.forward:xi.back:xi.unknown})})};function l(){a=r.value}function h(d){n.push(d);const f=()=>{const p=n.indexOf(d);p>-1&&n.splice(p,1)};return s.push(f),f}function c(){const{history:d}=window;d.state&&d.replaceState(xt({},d.state,{scroll:Hn()}),"")}function u(){for(const d of s)d();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:h,destroy:u}}function nc(e,t,r,i=!1,n=!1){return{back:e,current:t,forward:r,replaced:i,position:window.history.length,scroll:n?Hn():null}}function S2(e){const{history:t,location:r}=window,i={value:jf(e,r)},n={value:t.state};n.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,h,c){const u=e.indexOf("#"),d=u>-1?(r.host&&document.querySelector("base")?e:e.slice(u))+l:y2()+e+l;try{t[c?"replaceState":"pushState"](h,"",d),n.value=h}catch(f){console.error(f),r[c?"replace":"assign"](d)}}function a(l,h){const c=xt({},t.state,nc(n.value.back,l,n.value.forward,!0),h,{position:n.value.position});s(l,c,!0),i.value=l}function o(l,h){const c=xt({},n.value,t.state,{forward:l,scroll:Hn()});s(c.current,c,!0);const u=xt({},nc(i.value,l,null),{position:c.position+1},h);s(l,u,!1),i.value=l}return{location:i,state:n,push:o,replace:a}}function w2(e){e=f2(e);const t=S2(e),r=b2(e,t.state,t.location,t.replace);function i(s,a=!0){a||r.pauseListeners(),history.go(s)}const n=xt({location:"",base:e,go:i,createHref:g2.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function x2(e){return typeof e=="string"||e&&typeof e=="object"}function Hf(e){return typeof e=="string"||typeof e=="symbol"}const $f=Symbol("");var sc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(sc||(sc={}));function qr(e,t){return xt(new Error,{type:e,[$f]:!0},t)}function ke(e,t){return e instanceof Error&&$f in e&&(t==null||!!(e.type&t))}const ac="[^/]+?",C2={sensitive:!1,strict:!1,start:!0,end:!0},T2=/[.+*?^${}()[\]/\\]/g;function E2(e,t){const r=xt({},C2,t),i=[];let n=r.start?"^":"";const s=[];for(const h of e){const c=h.length?[]:[90];r.strict&&!h.length&&(n+="/");for(let u=0;u<h.length;u++){const d=h[u];let f=40+(r.sensitive?.25:0);if(d.type===0)u||(n+="/"),n+=d.value.replace(T2,"\\$&"),f+=40;else if(d.type===1){const{value:p,repeatable:_,optional:b,regexp:S}=d;s.push({name:p,repeatable:_,optional:b});const C=S||ac;if(C!==ac){f+=10;try{new RegExp(`(${C})`)}catch(m){throw new Error(`Invalid custom RegExp for param "${p}" (${C}): `+m.message)}}let g=_?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;u||(g=b&&h.length<2?`(?:/${g})`:"/"+g),b&&(g+="?"),n+=g,f+=20,b&&(f+=-8),_&&(f+=-20),C===".*"&&(f+=-50)}c.push(f)}i.push(c)}if(r.strict&&r.end){const h=i.length-1;i[h][i[h].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const a=new RegExp(n,r.sensitive?"":"i");function o(h){const c=h.match(a),u={};if(!c)return null;for(let d=1;d<c.length;d++){const f=c[d]||"",p=s[d-1];u[p.name]=f&&p.repeatable?f.split("/"):f}return u}function l(h){let c="",u=!1;for(const d of e){(!u||!c.endsWith("/"))&&(c+="/"),u=!1;for(const f of d)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:_,optional:b}=f,S=p in h?h[p]:"";if(me(S)&&!_)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const C=me(S)?S.join("/"):S;if(!C)if(b)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);c+=C}}return c||"/"}return{re:a,score:i,keys:s,parse:o,stringify:l}}function P2(e,t){let r=0;for(;r<e.length&&r<t.length;){const i=t[r]-e[r];if(i)return i;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function zf(e,t){let r=0;const i=e.score,n=t.score;for(;r<i.length&&r<n.length;){const s=P2(i[r],n[r]);if(s)return s;r++}if(Math.abs(n.length-i.length)===1){if(oc(i))return 1;if(oc(n))return-1}return n.length-i.length}function oc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const R2={type:0,value:""},A2=/[a-zA-Z0-9_]/;function M2(e){if(!e)return[[]];if(e==="/")return[[R2]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${r})/"${h}": ${f}`)}let r=0,i=r;const n=[];let s;function a(){s&&n.push(s),s=[]}let o=0,l,h="",c="";function u(){h&&(r===0?s.push({type:0,value:h}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function d(){h+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(h&&u(),a()):l===":"?(u(),r=1):d();break;case 4:d(),r=i;break;case 1:l==="("?r=2:A2.test(l)?d():(u(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:u(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${h}"`),u(),a(),n}function k2(e,t,r){const i=E2(M2(e.path),r),n=xt(i,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function O2(e,t){const r=[],i=new Map;t=uc({strict:!1,end:!0,sensitive:!1},t);function n(u){return i.get(u)}function s(u,d,f){const p=!f,_=hc(u);_.aliasOf=f&&f.record;const b=uc(t,u),S=[_];if("alias"in u){const m=typeof u.alias=="string"?[u.alias]:u.alias;for(const x of m)S.push(hc(xt({},_,{components:f?f.record.components:_.components,path:x,aliasOf:f?f.record:_})))}let C,g;for(const m of S){const{path:x}=m;if(d&&x[0]!=="/"){const O=d.record.path,D=O[O.length-1]==="/"?"":"/";m.path=d.record.path+(x&&D+x)}if(C=k2(m,d,b),f?f.alias.push(C):(g=g||C,g!==C&&g.alias.push(C),p&&u.name&&!cc(C)&&a(u.name)),Wf(C)&&l(C),_.children){const O=_.children;for(let D=0;D<O.length;D++)s(O[D],C,f&&f.children[D])}f=f||C}return g?()=>{a(g)}:wi}function a(u){if(Hf(u)){const d=i.get(u);d&&(i.delete(u),r.splice(r.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=r.indexOf(u);d>-1&&(r.splice(d,1),u.record.name&&i.delete(u.record.name),u.children.forEach(a),u.alias.forEach(a))}}function o(){return r}function l(u){const d=N2(u,r);r.splice(d,0,u),u.record.name&&!cc(u)&&i.set(u.record.name,u)}function h(u,d){let f,p={},_,b;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw qr(1,{location:u});b=f.record.name,p=xt(lc(d.params,f.keys.filter(g=>!g.optional).concat(f.parent?f.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),u.params&&lc(u.params,f.keys.map(g=>g.name))),_=f.stringify(p)}else if(u.path!=null)_=u.path,f=r.find(g=>g.re.test(_)),f&&(p=f.parse(_),b=f.record.name);else{if(f=d.name?i.get(d.name):r.find(g=>g.re.test(d.path)),!f)throw qr(1,{location:u,currentLocation:d});b=f.record.name,p=xt({},d.params,u.params),_=f.stringify(p)}const S=[];let C=f;for(;C;)S.unshift(C.record),C=C.parent;return{name:b,path:_,params:p,matched:S,meta:L2(S)}}e.forEach(u=>s(u));function c(){r.length=0,i.clear()}return{addRoute:s,resolve:h,removeRoute:a,clearRoutes:c,getRoutes:o,getRecordMatcher:n}}function lc(e,t){const r={};for(const i of t)i in e&&(r[i]=e[i]);return r}function hc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:F2(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function F2(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const i in e.components)t[i]=typeof r=="object"?r[i]:r;return t}function cc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function L2(e){return e.reduce((t,r)=>xt(t,r.meta),{})}function uc(e,t){const r={};for(const i in e)r[i]=i in t?t[i]:e[i];return r}function N2(e,t){let r=0,i=t.length;for(;r!==i;){const s=r+i>>1;zf(e,t[s])<0?i=s:r=s+1}const n=G2(e);return n&&(i=t.lastIndexOf(n,i-1)),i}function G2(e){let t=e;for(;t=t.parent;)if(Wf(t)&&zf(e,t)===0)return t}function Wf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function I2(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const s=i[n].replace(If," "),a=s.indexOf("="),o=Ai(a<0?s:s.slice(0,a)),l=a<0?null:Ai(s.slice(a+1));if(o in t){let h=t[o];me(h)||(h=t[o]=[h]),h.push(l)}else t[o]=l}return t}function fc(e){let t="";for(let r in e){const i=e[r];if(r=i2(r),i==null){i!==void 0&&(t+=(t.length?"&":"")+r);continue}(me(i)?i.map(s=>s&&yo(s)):[i&&yo(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function D2(e){const t={};for(const r in e){const i=e[r];i!==void 0&&(t[r]=me(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return t}const U2=Symbol(""),dc=Symbol(""),cl=Symbol(""),qf=Symbol(""),So=Symbol("");function ci(){let e=[];function t(i){return e.push(i),()=>{const n=e.indexOf(i);n>-1&&e.splice(n,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function Qe(e,t,r,i,n,s=a=>a()){const a=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((o,l)=>{const h=d=>{d===!1?l(qr(4,{from:r,to:t})):d instanceof Error?l(d):x2(d)?l(qr(2,{from:t,to:d})):(a&&i.enterCallbacks[n]===a&&typeof d=="function"&&a.push(d),o())},c=s(()=>e.call(i&&i.instances[n],t,r,h));let u=Promise.resolve(c);e.length<3&&(u=u.then(h)),u.catch(d=>l(d))})}function ja(e,t,r,i,n=s=>s()){const s=[];for(const a of e)for(const o in a.components){let l=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(Nf(l)){const c=(l.__vccOpts||l)[t];c&&s.push(Qe(c,r,i,a,o,n))}else{let h=l();s.push(()=>h.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const u=Wg(c)?c.default:c;a.mods[o]=c,a.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&Qe(f,r,i,a,o,n)()}))}}return s}function gc(e){const t=Pe(cl),r=Pe(qf),i=oe(()=>{const l=Hr(e.to);return t.resolve(l)}),n=oe(()=>{const{matched:l}=i.value,{length:h}=l,c=l[h-1],u=r.matched;if(!c||!u.length)return-1;const d=u.findIndex(Wr.bind(null,c));if(d>-1)return d;const f=pc(l[h-2]);return h>1&&pc(c)===f&&u[u.length-1].path!==f?u.findIndex(Wr.bind(null,l[h-2])):d}),s=oe(()=>n.value>-1&&H2(r.params,i.value.params)),a=oe(()=>n.value>-1&&n.value===r.matched.length-1&&Vf(r.params,i.value.params));function o(l={}){return j2(l)?t[Hr(e.replace)?"replace":"push"](Hr(e.to)).catch(wi):Promise.resolve()}return{route:i,href:oe(()=>i.value.href),isActive:s,isExactActive:a,navigate:o}}const B2=Nn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:gc,setup(e,{slots:t}){const r=Sr(gc(e)),{options:i}=Pe(cl),n=oe(()=>({[vc(e.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[vc(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=t.default&&t.default(r);return e.custom?s:Bn("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},s)}}}),V2=B2;function j2(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function H2(e,t){for(const r in t){const i=t[r],n=e[r];if(typeof i=="string"){if(i!==n)return!1}else if(!me(n)||n.length!==i.length||i.some((s,a)=>s!==n[a]))return!1}return!0}function pc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vc=(e,t,r)=>e??t??r,$2=Nn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const i=Pe(So),n=oe(()=>e.route||i.value),s=Pe(dc,0),a=oe(()=>{let h=Hr(s);const{matched:c}=n.value;let u;for(;(u=c[h])&&!u.components;)h++;return h}),o=oe(()=>n.value.matched[a.value]);sn(dc,oe(()=>a.value+1)),sn(U2,o),sn(So,n);const l=Fn();return vr(()=>[l.value,o.value,e.name],([h,c,u],[d,f,p])=>{c&&(c.instances[u]=h,f&&f!==c&&h&&h===d&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),h&&c&&(!f||!Wr(c,f)||!d)&&(c.enterCallbacks[u]||[]).forEach(_=>_(h))},{flush:"post"}),()=>{const h=n.value,c=e.name,u=o.value,d=u&&u.components[c];if(!d)return mc(r.default,{Component:d,route:h});const f=u.props[c],p=f?f===!0?h.params:typeof f=="function"?f(h):f:null,b=Bn(d,xt({},p,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(u.instances[c]=null)},ref:l}));return mc(r.default,{Component:b,route:h})||b}}});function mc(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const z2=$2;function W2(e){const t=O2(e.routes,e),r=e.parseQuery||I2,i=e.stringifyQuery||fc,n=e.history,s=ci(),a=ci(),o=ci(),l=v0(ze);let h=ze;Ur&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ba.bind(null,v=>""+v),u=Ba.bind(null,s2),d=Ba.bind(null,Ai);function f(v,k){let U,q;return Hf(v)?(U=t.getRecordMatcher(v),q=k):q=v,t.addRoute(q,U)}function p(v){const k=t.getRecordMatcher(v);k&&t.removeRoute(k)}function _(){return t.getRoutes().map(v=>v.record)}function b(v){return!!t.getRecordMatcher(v)}function S(v,k){if(k=xt({},k||l.value),typeof v=="string"){const E=Va(r,v,k.path),G=t.resolve({path:E.path},k),K=n.createHref(E.fullPath);return xt(E,G,{params:d(G.params),hash:Ai(E.hash),redirectedFrom:void 0,href:K})}let U;if(v.path!=null)U=xt({},v,{path:Va(r,v.path,k.path).path});else{const E=xt({},v.params);for(const G in E)E[G]==null&&delete E[G];U=xt({},v,{params:u(E)}),k.params=u(k.params)}const q=t.resolve(U,k),tt=v.hash||"";q.params=c(d(q.params));const st=l2(i,xt({},v,{hash:r2(tt),path:q.path})),w=n.createHref(st);return xt({fullPath:st,hash:tt,query:i===fc?D2(v.query):v.query||{}},q,{redirectedFrom:void 0,href:w})}function C(v){return typeof v=="string"?Va(r,v,l.value.path):xt({},v)}function g(v,k){if(h!==v)return qr(8,{from:k,to:v})}function m(v){return D(v)}function x(v){return m(xt(C(v),{replace:!0}))}function O(v){const k=v.matched[v.matched.length-1];if(k&&k.redirect){const{redirect:U}=k;let q=typeof U=="function"?U(v):U;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=C(q):{path:q},q.params={}),xt({query:v.query,hash:v.hash,params:q.path!=null?{}:v.params},q)}}function D(v,k){const U=h=S(v),q=l.value,tt=v.state,st=v.force,w=v.replace===!0,E=O(U);if(E)return D(xt(C(E),{state:typeof E=="object"?xt({},tt,E.state):tt,force:st,replace:w}),k||U);const G=U;G.redirectedFrom=k;let K;return!st&&h2(i,q,U)&&(K=qr(16,{to:G,from:q}),M(q,q,!0,!1)),(K?Promise.resolve(K):F(G,q)).catch($=>ke($)?ke($,2)?$:R($):y($,G,q)).then($=>{if($){if(ke($,2))return D(xt({replace:w},C($.to),{state:typeof $.to=="object"?xt({},tt,$.to.state):tt,force:st}),k||G)}else $=j(G,q,!0,w,tt);return A(G,q,$),$})}function T(v,k){const U=g(v,k);return U?Promise.reject(U):Promise.resolve()}function N(v){const k=H.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(v):v()}function F(v,k){let U;const[q,tt,st]=q2(v,k);U=ja(q.reverse(),"beforeRouteLeave",v,k);for(const E of q)E.leaveGuards.forEach(G=>{U.push(Qe(G,v,k))});const w=T.bind(null,v,k);return U.push(w),z(U).then(()=>{U=[];for(const E of s.list())U.push(Qe(E,v,k));return U.push(w),z(U)}).then(()=>{U=ja(tt,"beforeRouteUpdate",v,k);for(const E of tt)E.updateGuards.forEach(G=>{U.push(Qe(G,v,k))});return U.push(w),z(U)}).then(()=>{U=[];for(const E of st)if(E.beforeEnter)if(me(E.beforeEnter))for(const G of E.beforeEnter)U.push(Qe(G,v,k));else U.push(Qe(E.beforeEnter,v,k));return U.push(w),z(U)}).then(()=>(v.matched.forEach(E=>E.enterCallbacks={}),U=ja(st,"beforeRouteEnter",v,k,N),U.push(w),z(U))).then(()=>{U=[];for(const E of a.list())U.push(Qe(E,v,k));return U.push(w),z(U)}).catch(E=>ke(E,8)?E:Promise.reject(E))}function A(v,k,U){o.list().forEach(q=>N(()=>q(v,k,U)))}function j(v,k,U,q,tt){const st=g(v,k);if(st)return st;const w=k===ze,E=Ur?history.state:{};U&&(q||w?n.replace(v.fullPath,xt({scroll:w&&E&&E.scroll},tt)):n.push(v.fullPath,tt)),l.value=v,M(v,k,U,w),R()}let B;function X(){B||(B=n.listen((v,k,U)=>{if(!J.listening)return;const q=S(v),tt=O(q);if(tt){D(xt(tt,{replace:!0}),q).catch(wi);return}h=q;const st=l.value;Ur&&m2(ic(st.fullPath,U.delta),Hn()),F(q,st).catch(w=>ke(w,12)?w:ke(w,2)?(D(w.to,q).then(E=>{ke(E,20)&&!U.delta&&U.type===Mi.pop&&n.go(-1,!1)}).catch(wi),Promise.reject()):(U.delta&&n.go(-U.delta,!1),y(w,q,st))).then(w=>{w=w||j(q,st,!1),w&&(U.delta&&!ke(w,8)?n.go(-U.delta,!1):U.type===Mi.pop&&ke(w,20)&&n.go(-1,!1)),A(q,st,w)}).catch(wi)}))}let V=ci(),Q=ci(),W;function y(v,k,U){R(v);const q=Q.list();return q.length?q.forEach(tt=>tt(v,k,U)):console.error(v),Promise.reject(v)}function P(){return W&&l.value!==ze?Promise.resolve():new Promise((v,k)=>{V.add([v,k])})}function R(v){return W||(W=!v,X(),V.list().forEach(([k,U])=>v?U(v):k()),V.reset()),v}function M(v,k,U,q){const{scrollBehavior:tt}=e;if(!Ur||!tt)return Promise.resolve();const st=!U&&_2(ic(v.fullPath,0))||(q||!U)&&history.state&&history.state.scroll||null;return qo().then(()=>tt(v,k,st)).then(w=>w&&v2(w)).catch(w=>y(w,v,k))}const L=v=>n.go(v);let I;const H=new Set,J={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:_,resolve:S,options:e,push:m,replace:x,go:L,back:()=>L(-1),forward:()=>L(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:Q.add,isReady:P,install(v){const k=this;v.component("RouterLink",V2),v.component("RouterView",z2),v.config.globalProperties.$router=k,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>Hr(l)}),Ur&&!I&&l.value===ze&&(I=!0,m(n.location).catch(tt=>{}));const U={};for(const tt in ze)Object.defineProperty(U,tt,{get:()=>l.value[tt],enumerable:!0});v.provide(cl,k),v.provide(qf,Nu(U)),v.provide(So,l);const q=v.unmount;H.add(v),v.unmount=function(){H.delete(v),H.size<1&&(h=ze,B&&B(),B=null,l.value=ze,I=!1,W=!1),q()}}};function z(v){return v.reduce((k,U)=>k.then(()=>N(U)),Promise.resolve())}return J}function q2(e,t){const r=[],i=[],n=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const o=t.matched[a];o&&(e.matched.find(h=>Wr(h,o))?i.push(o):r.push(o));const l=e.matched[a];l&&(t.matched.find(h=>Wr(h,l))||n.push(l))}return[r,i,n]}const _c="/assets/Lapangan-5FGTj0OR.png",K2="/assets/blue-BWeVOD2a.png",yc="/assets/red_dot-1-CFaS1HEO.png",bc="/assets/bola_biru-DYHPAYHd.png",Y2="/assets/blue1_ball-CjFL2CpB.png";var ul={exports:{}},$n={},Kf={},gt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof vn<"u"?vn:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.15",isBrowser:r(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return e.Konva.angleDeg?n*t:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var n;return(n=e.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(n){e.glob.Konva=n}};const i=n=>{e.Konva[n.prototype.getClassName()]=n};e._registerNode=i,e.Konva._injectGlobal(e.Konva)})(gt);var Ot={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=gt;class r{constructor(m=[1,0,0,1,0,0]){this.dirty=!1,this.m=m&&m.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(m){m.m[0]=this.m[0],m.m[1]=this.m[1],m.m[2]=this.m[2],m.m[3]=this.m[3],m.m[4]=this.m[4],m.m[5]=this.m[5]}point(m){var x=this.m;return{x:x[0]*m.x+x[2]*m.y+x[4],y:x[1]*m.x+x[3]*m.y+x[5]}}translate(m,x){return this.m[4]+=this.m[0]*m+this.m[2]*x,this.m[5]+=this.m[1]*m+this.m[3]*x,this}scale(m,x){return this.m[0]*=m,this.m[1]*=m,this.m[2]*=x,this.m[3]*=x,this}rotate(m){var x=Math.cos(m),O=Math.sin(m),D=this.m[0]*x+this.m[2]*O,T=this.m[1]*x+this.m[3]*O,N=this.m[0]*-O+this.m[2]*x,F=this.m[1]*-O+this.m[3]*x;return this.m[0]=D,this.m[1]=T,this.m[2]=N,this.m[3]=F,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(m,x){var O=this.m[0]+this.m[2]*x,D=this.m[1]+this.m[3]*x,T=this.m[2]+this.m[0]*m,N=this.m[3]+this.m[1]*m;return this.m[0]=O,this.m[1]=D,this.m[2]=T,this.m[3]=N,this}multiply(m){var x=this.m[0]*m.m[0]+this.m[2]*m.m[1],O=this.m[1]*m.m[0]+this.m[3]*m.m[1],D=this.m[0]*m.m[2]+this.m[2]*m.m[3],T=this.m[1]*m.m[2]+this.m[3]*m.m[3],N=this.m[0]*m.m[4]+this.m[2]*m.m[5]+this.m[4],F=this.m[1]*m.m[4]+this.m[3]*m.m[5]+this.m[5];return this.m[0]=x,this.m[1]=O,this.m[2]=D,this.m[3]=T,this.m[4]=N,this.m[5]=F,this}invert(){var m=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),x=this.m[3]*m,O=-this.m[1]*m,D=-this.m[2]*m,T=this.m[0]*m,N=m*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),F=m*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=x,this.m[1]=O,this.m[2]=D,this.m[3]=T,this.m[4]=N,this.m[5]=F,this}getMatrix(){return this.m}decompose(){var m=this.m[0],x=this.m[1],O=this.m[2],D=this.m[3],T=this.m[4],N=this.m[5],F=m*D-x*O;let A={x:T,y:N,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(m!=0||x!=0){var j=Math.sqrt(m*m+x*x);A.rotation=x>0?Math.acos(m/j):-Math.acos(m/j),A.scaleX=j,A.scaleY=F/j,A.skewX=(m*O+x*D)/F,A.skewY=0}else if(O!=0||D!=0){var B=Math.sqrt(O*O+D*D);A.rotation=Math.PI/2-(D>0?Math.acos(-O/B):-Math.acos(O/B)),A.scaleX=F/B,A.scaleY=B,A.skewX=0,A.skewY=(m*O+x*D)/F}return A.rotation=e.Util._getRotation(A.rotation),A}}e.Transform=r;var i="[object Array]",n="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,h="#",c="",u="0",d="Konva warning: ",f="Konva error: ",p="rgb(",_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,S=[];const C=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(g){setTimeout(g,60)};e.Util={_isElement(g){return!!(g&&g.nodeType==1)},_isFunction(g){return!!(g&&g.constructor&&g.call&&g.apply)},_isPlainObject(g){return!!g&&g.constructor===Object},_isArray(g){return Object.prototype.toString.call(g)===i},_isNumber(g){return Object.prototype.toString.call(g)===n&&!isNaN(g)&&isFinite(g)},_isString(g){return Object.prototype.toString.call(g)===s},_isBoolean(g){return Object.prototype.toString.call(g)===a},isObject(g){return g instanceof Object},isValidSelector(g){if(typeof g!="string")return!1;var m=g[0];return m==="#"||m==="."||m===m.toUpperCase()},_sign(g){return g===0||g>0?1:-1},requestAnimFrame(g){S.push(g),S.length===1&&C(function(){const m=S;S=[],m.forEach(function(x){x()})})},createCanvasElement(){var g=document.createElement("canvas");try{g.style=g.style||{}}catch{}return g},createImageElement(){return document.createElement("img")},_isInDocument(g){for(;g=g.parentNode;)if(g==document)return!0;return!1},_urlToImage(g,m){var x=e.Util.createImageElement();x.onload=function(){m(x)},x.src=g},_rgbToHex(g,m,x){return((1<<24)+(g<<16)+(m<<8)+x).toString(16).slice(1)},_hexToRgb(g){g=g.replace(h,c);var m=parseInt(g,16);return{r:m>>16&255,g:m>>8&255,b:m&255}},getRandomColor(){for(var g=(Math.random()*16777215<<0).toString(16);g.length<6;)g=u+g;return h+g},getRGB(g){var m;return g in _?(m=_[g],{r:m[0],g:m[1],b:m[2]}):g[0]===h?this._hexToRgb(g.substring(1)):g.substr(0,4)===p?(m=b.exec(g.replace(/ /g,"")),{r:parseInt(m[1],10),g:parseInt(m[2],10),b:parseInt(m[3],10)}):{r:0,g:0,b:0}},colorToRGBA(g){return g=g||"black",e.Util._namedColorToRBA(g)||e.Util._hex3ColorToRGBA(g)||e.Util._hex4ColorToRGBA(g)||e.Util._hex6ColorToRGBA(g)||e.Util._hex8ColorToRGBA(g)||e.Util._rgbColorToRGBA(g)||e.Util._rgbaColorToRGBA(g)||e.Util._hslColorToRGBA(g)},_namedColorToRBA(g){var m=_[g.toLowerCase()];return m?{r:m[0],g:m[1],b:m[2],a:1}:null},_rgbColorToRGBA(g){if(g.indexOf("rgb(")===0){g=g.match(/rgb\(([^)]+)\)/)[1];var m=g.split(/ *, */).map(Number);return{r:m[0],g:m[1],b:m[2],a:1}}},_rgbaColorToRGBA(g){if(g.indexOf("rgba(")===0){g=g.match(/rgba\(([^)]+)\)/)[1];var m=g.split(/ *, */).map((x,O)=>x.slice(-1)==="%"?O===3?parseInt(x)/100:parseInt(x)/100*255:Number(x));return{r:m[0],g:m[1],b:m[2],a:m[3]}}},_hex8ColorToRGBA(g){if(g[0]==="#"&&g.length===9)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:parseInt(g.slice(7,9),16)/255}},_hex6ColorToRGBA(g){if(g[0]==="#"&&g.length===7)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:1}},_hex4ColorToRGBA(g){if(g[0]==="#"&&g.length===5)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:parseInt(g[4]+g[4],16)/255}},_hex3ColorToRGBA(g){if(g[0]==="#"&&g.length===4)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:1}},_hslColorToRGBA(g){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(g)){const[m,...x]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(g),O=Number(x[0])/360,D=Number(x[1])/100,T=Number(x[2])/100;let N,F,A;if(D===0)return A=T*255,{r:Math.round(A),g:Math.round(A),b:Math.round(A),a:1};T<.5?N=T*(1+D):N=T+D-T*D;const j=2*T-N,B=[0,0,0];for(let X=0;X<3;X++)F=O+1/3*-(X-1),F<0&&F++,F>1&&F--,6*F<1?A=j+(N-j)*6*F:2*F<1?A=N:3*F<2?A=j+(N-j)*(2/3-F)*6:A=j,B[X]=A*255;return{r:Math.round(B[0]),g:Math.round(B[1]),b:Math.round(B[2]),a:1}}},haveIntersection(g,m){return!(m.x>g.x+g.width||m.x+m.width<g.x||m.y>g.y+g.height||m.y+m.height<g.y)},cloneObject(g){var m={};for(var x in g)this._isPlainObject(g[x])?m[x]=this.cloneObject(g[x]):this._isArray(g[x])?m[x]=this.cloneArray(g[x]):m[x]=g[x];return m},cloneArray(g){return g.slice(0)},degToRad(g){return g*o},radToDeg(g){return g*l},_degToRad(g){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(g)},_radToDeg(g){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(g)},_getRotation(g){return t.Konva.angleDeg?e.Util.radToDeg(g):g},_capitalize(g){return g.charAt(0).toUpperCase()+g.slice(1)},throw(g){throw new Error(f+g)},error(g){console.error(f+g)},warn(g){t.Konva.showWarnings&&console.warn(d+g)},each(g,m){for(var x in g)m(x,g[x])},_inRange(g,m,x){return m<=g&&g<x},_getProjectionToSegment(g,m,x,O,D,T){var N,F,A,j=(g-x)*(g-x)+(m-O)*(m-O);if(j==0)N=g,F=m,A=(D-x)*(D-x)+(T-O)*(T-O);else{var B=((D-g)*(x-g)+(T-m)*(O-m))/j;B<0?(N=g,F=m,A=(g-D)*(g-D)+(m-T)*(m-T)):B>1?(N=x,F=O,A=(x-D)*(x-D)+(O-T)*(O-T)):(N=g+B*(x-g),F=m+B*(O-m),A=(N-D)*(N-D)+(F-T)*(F-T))}return[N,F,A]},_getProjectionToLine(g,m,x){var O=e.Util.cloneObject(g),D=Number.MAX_VALUE;return m.forEach(function(T,N){if(!(!x&&N===m.length-1)){var F=m[(N+1)%m.length],A=e.Util._getProjectionToSegment(T.x,T.y,F.x,F.y,g.x,g.y),j=A[0],B=A[1],X=A[2];X<D&&(O.x=j,O.y=B,D=X)}}),O},_prepareArrayForTween(g,m,x){var O,D=[],T=[];if(g.length>m.length){var N=m;m=g,g=N}for(O=0;O<g.length;O+=2)D.push({x:g[O],y:g[O+1]});for(O=0;O<m.length;O+=2)T.push({x:m[O],y:m[O+1]});var F=[];return T.forEach(function(A){var j=e.Util._getProjectionToLine(A,D,x);F.push(j.x),F.push(j.y)}),F},_prepareToStringify(g){var m;g.visitedByCircularReferenceRemoval=!0;for(var x in g)if(g.hasOwnProperty(x)&&g[x]&&typeof g[x]=="object"){if(m=Object.getOwnPropertyDescriptor(g,x),g[x].visitedByCircularReferenceRemoval||e.Util._isElement(g[x]))if(m.configurable)delete g[x];else return null;else if(e.Util._prepareToStringify(g[x])===null)if(m.configurable)delete g[x];else return null}return delete g.visitedByCircularReferenceRemoval,g},_assign(g,m){for(var x in m)g[x]=m[x];return g},_getFirstPointerId(g){return g.touches?g.changedTouches[0].identifier:g.pointerId||999},releaseCanvas(...g){t.Konva.releaseCanvasOnDestroy&&g.forEach(m=>{m.width=0,m.height=0})},drawRoundedRectPath(g,m,x,O){let D=0,T=0,N=0,F=0;typeof O=="number"?D=T=N=F=Math.min(O,m/2,x/2):(D=Math.min(O[0]||0,m/2,x/2),T=Math.min(O[1]||0,m/2,x/2),F=Math.min(O[2]||0,m/2,x/2),N=Math.min(O[3]||0,m/2,x/2)),g.moveTo(D,0),g.lineTo(m-T,0),g.arc(m-T,T,T,Math.PI*3/2,0,!1),g.lineTo(m,x-F),g.arc(m-F,x-F,F,0,Math.PI/2,!1),g.lineTo(N,x),g.arc(N,x-N,N,Math.PI/2,Math.PI,!1),g.lineTo(0,D),g.arc(D,D,D,Math.PI,Math.PI*3/2,!1)}}})(Ot);var kt={},pt={},at={};Object.defineProperty(at,"__esModule",{value:!0});at.getComponentValidator=at.getBooleanValidator=at.getNumberArrayValidator=at.getFunctionValidator=at.getStringOrGradientValidator=at.getStringValidator=at.getNumberOrAutoValidator=at.getNumberOrArrayOfNumbersValidator=at.getNumberValidator=at.alphaComponent=at.RGBComponent=void 0;const Ue=gt,Ft=Ot;function Be(e){return Ft.Util._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Ft.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}function X2(e){return e>255?255:e<0?0:Math.round(e)}at.RGBComponent=X2;function Q2(e){return e>1?1:e<1e-4?1e-4:e}at.alphaComponent=Q2;function J2(){if(Ue.Konva.isUnminified)return function(e,t){return Ft.Util._isNumber(e)||Ft.Util.warn(Be(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}at.getNumberValidator=J2;function Z2(e){if(Ue.Konva.isUnminified)return function(t,r){let i=Ft.Util._isNumber(t),n=Ft.Util._isArray(t)&&t.length==e;return!i&&!n&&Ft.Util.warn(Be(t)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+e+")"),t}}at.getNumberOrArrayOfNumbersValidator=Z2;function tp(){if(Ue.Konva.isUnminified)return function(e,t){var r=Ft.Util._isNumber(e),i=e==="auto";return r||i||Ft.Util.warn(Be(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}at.getNumberOrAutoValidator=tp;function ep(){if(Ue.Konva.isUnminified)return function(e,t){return Ft.Util._isString(e)||Ft.Util.warn(Be(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}at.getStringValidator=ep;function rp(){if(Ue.Konva.isUnminified)return function(e,t){const r=Ft.Util._isString(e),i=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return r||i||Ft.Util.warn(Be(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}at.getStringOrGradientValidator=rp;function ip(){if(Ue.Konva.isUnminified)return function(e,t){return Ft.Util._isFunction(e)||Ft.Util.warn(Be(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}}at.getFunctionValidator=ip;function np(){if(Ue.Konva.isUnminified)return function(e,t){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&e instanceof r||(Ft.Util._isArray(e)?e.forEach(function(i){Ft.Util._isNumber(i)||Ft.Util.warn('"'+t+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):Ft.Util.warn(Be(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}at.getNumberArrayValidator=np;function sp(){if(Ue.Konva.isUnminified)return function(e,t){var r=e===!0||e===!1;return r||Ft.Util.warn(Be(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}at.getBooleanValidator=sp;function ap(e){if(Ue.Konva.isUnminified)return function(t,r){return t==null||Ft.Util.isObject(t)||Ft.Util.warn(Be(t)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+e),t}}at.getComponentValidator=ap;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Ot,r=at;var i="get",n="set";e.Factory={addGetterSetter(s,a,o,l,h){e.Factory.addGetter(s,a,o),e.Factory.addSetter(s,a,l,h),e.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){var l=i+t.Util._capitalize(a);s.prototype[l]=s.prototype[l]||function(){var h=this.attrs[a];return h===void 0?o:h}},addSetter(s,a,o,l){var h=n+t.Util._capitalize(a);s.prototype[h]||e.Factory.overWriteSetter(s,a,o,l)},overWriteSetter(s,a,o,l){var h=n+t.Util._capitalize(a);s.prototype[h]=function(c){return o&&c!==void 0&&c!==null&&(c=o.call(this,c,a)),this._setAttr(a,c),l&&l.call(this),this}},addComponentsGetterSetter(s,a,o,l,h){var c=o.length,u=t.Util._capitalize,d=i+u(a),f=n+u(a),p,_;s.prototype[d]=function(){var S={};for(p=0;p<c;p++)_=o[p],S[_]=this.getAttr(a+u(_));return S};var b=(0,r.getComponentValidator)(o);s.prototype[f]=function(S){var C=this.attrs[a],g;l&&(S=l.call(this,S)),b&&b.call(this,S,a);for(g in S)S.hasOwnProperty(g)&&this._setAttr(a+u(g),S[g]);return S||o.forEach(m=>{this._setAttr(a+u(m),void 0)}),this._fireChangeEvent(a,C,S),h&&h.call(this),this},e.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){var o=t.Util._capitalize(a),l=n+o,h=i+o;s.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(s,a,o,l){t.Util.error("Adding deprecated "+a);var h=i+t.Util._capitalize(a),c=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[h]=function(){t.Util.error(c);var u=this.attrs[a];return u===void 0?o:u},e.Factory.addSetter(s,a,l,function(){t.Util.error(c)}),e.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){t.Util.each(a,function(o,l){var h=s.prototype[l],c=i+t.Util._capitalize(o),u=n+t.Util._capitalize(o);function d(){h.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[o]=d,s.prototype[c]=d,s.prototype[u]=d})},afterSetFilter(){this._filterUpToDate=!1}}})(pt);var pe={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.HitContext=Ie.SceneContext=Ie.Context=void 0;const Yf=Ot,op=gt;function lp(e){var t=[],r=e.length,i=Yf.Util,n,s;for(n=0;n<r;n++)s=e[n],i._isNumber(s)?s=Math.round(s*1e3)/1e3:i._isString(s)||(s=s+""),t.push(s);return t}var Sc=",",hp="(",cp=")",up="([",fp="])",dp=";",gp="()",pp="=",wc=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],vp=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const mp=100;class zn{constructor(t){this.canvas=t,op.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,r){var i=this.traceArr,n=i.length,s="",a,o,l,h;for(a=0;a<n;a++)o=i[a],l=o.method,l?(h=o.args,s+=l,t?s+=gp:Yf.Util._isArray(h[0])?s+=up+h.join(Sc)+fp:(r&&(h=h.map(c=>typeof c=="number"?Math.floor(c):c)),s+=hp+h.join(Sc)+cp)):(s+=o.property,t||(s+=pp+o.val)),s+=dp;return s}clearTrace(){this.traceArr=[]}_trace(t){var r=this.traceArr,i;r.push(t),i=r.length,i>=mp&&r.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var r=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(t){const r=t.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(t){var r=t.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(t){const r=t.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(t,r){this._context[t]=r}arc(t,r,i,n,s,a){this._context.arc(t,r,i,n,s,a)}arcTo(t,r,i,n,s){this._context.arcTo(t,r,i,n,s)}beginPath(){this._context.beginPath()}bezierCurveTo(t,r,i,n,s,a){this._context.bezierCurveTo(t,r,i,n,s,a)}clearRect(t,r,i,n){this._context.clearRect(t,r,i,n)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,r){var i=arguments;if(i.length===2)return this._context.createImageData(t,r);if(i.length===1)return this._context.createImageData(t)}createLinearGradient(t,r,i,n){return this._context.createLinearGradient(t,r,i,n)}createPattern(t,r){return this._context.createPattern(t,r)}createRadialGradient(t,r,i,n,s,a){return this._context.createRadialGradient(t,r,i,n,s,a)}drawImage(t,r,i,n,s,a,o,l,h){var c=arguments,u=this._context;c.length===3?u.drawImage(t,r,i):c.length===5?u.drawImage(t,r,i,n,s):c.length===9&&u.drawImage(t,r,i,n,s,a,o,l,h)}ellipse(t,r,i,n,s,a,o,l){this._context.ellipse(t,r,i,n,s,a,o,l)}isPointInPath(t,r,i,n){return i?this._context.isPointInPath(i,t,r,n):this._context.isPointInPath(t,r,n)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,r,i,n){this._context.fillRect(t,r,i,n)}strokeRect(t,r,i,n){this._context.strokeRect(t,r,i,n)}fillText(t,r,i,n){n?this._context.fillText(t,r,i,n):this._context.fillText(t,r,i)}measureText(t){return this._context.measureText(t)}getImageData(t,r,i,n){return this._context.getImageData(t,r,i,n)}lineTo(t,r){this._context.lineTo(t,r)}moveTo(t,r){this._context.moveTo(t,r)}rect(t,r,i,n){this._context.rect(t,r,i,n)}roundRect(t,r,i,n,s){this._context.roundRect(t,r,i,n,s)}putImageData(t,r,i){this._context.putImageData(t,r,i)}quadraticCurveTo(t,r,i,n){this._context.quadraticCurveTo(t,r,i,n)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,r){this._context.scale(t,r)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,r,i,n,s,a){this._context.setTransform(t,r,i,n,s,a)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,r,i,n){this._context.strokeText(t,r,i,n)}transform(t,r,i,n,s,a){this._context.transform(t,r,i,n,s,a)}translate(t,r){this._context.translate(t,r)}_enableTrace(){var t=this,r=wc.length,i=this.setAttr,n,s,a=function(o){var l=t[o],h;t[o]=function(){return s=lp(Array.prototype.slice.call(arguments,0)),h=l.apply(t,arguments),t._trace({method:o,args:s}),h}};for(n=0;n<r;n++)a(wc[n]);t.setAttr=function(){i.apply(t,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),t._trace({property:o,val:l})}}_applyGlobalCompositeOperation(t){const r=t.attrs.globalCompositeOperation;var i=!r||r==="source-over";i||this.setAttr("globalCompositeOperation",r)}}Ie.Context=zn;vp.forEach(function(e){Object.defineProperty(zn.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class _p extends zn{constructor(t,{willReadFrequently:r=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(t){var r=t.fill();this.setAttr("fillStyle",r),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var r=t._getLinearGradient();r&&(this.setAttr("fillStyle",r),t._fillFunc(this))}_fillRadialGradient(t){const r=t._getRadialGradient();r&&(this.setAttr("fillStyle",r),t._fillFunc(this))}_fill(t){const r=t.fill(),i=t.getFillPriority();if(r&&i==="color"){this._fillColor(t);return}const n=t.getFillPatternImage();if(n&&i==="pattern"){this._fillPattern(t);return}const s=t.getFillLinearGradientColorStops();if(s&&i==="linear-gradient"){this._fillLinearGradient(t);return}const a=t.getFillRadialGradientColorStops();if(a&&i==="radial-gradient"){this._fillRadialGradient(t);return}r?this._fillColor(t):n?this._fillPattern(t):s?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const r=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),n=t.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(r.x,r.y,i.x,i.y);if(n){for(var a=0;a<n.length;a+=2)s.addColorStop(n[a],n[a+1]);this.setAttr("strokeStyle",s)}}_stroke(t){var r=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t),r&&t.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var s=t.getStrokeLinearGradientColorStops();s?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var r,i,n,s=(r=t.getShadowRGBA())!==null&&r!==void 0?r:"black",a=(i=t.getShadowBlur())!==null&&i!==void 0?i:5,o=(n=t.getShadowOffset())!==null&&n!==void 0?n:{x:0,y:0},l=t.getAbsoluteScale(),h=this.canvas.getPixelRatio(),c=l.x*h,u=l.y*h;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*c),this.setAttr("shadowOffsetY",o.y*u)}}Ie.SceneContext=_p;class yp extends zn{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const s=t.getStrokeScaleEnabled();if(!s){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),n=i==="auto"?t.strokeWidth():i;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),s||this.restore()}}}Ie.HitContext=yp;Object.defineProperty(pe,"__esModule",{value:!0});pe.HitCanvas=pe.SceneCanvas=pe.Canvas=void 0;const Sn=Ot,Xf=Ie,Qf=gt,bp=pt,Sp=at;var Ji;function wp(){if(Ji)return Ji;var e=Sn.Util.createCanvasElement(),t=e.getContext("2d");return Ji=function(){var r=Qf.Konva._global.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return r/i}(),Sn.Util.releaseCanvas(e),Ji}class Wn{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=t||{},i=r.pixelRatio||Qf.Konva.pixelRatio||wp();this.pixelRatio=i,this._canvas=Sn.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var r=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var r=this.pixelRatio,i=this.getContext()._context;i.scale(r,r)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var r=this.pixelRatio,i=this.getContext()._context;i.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,r){this.setWidth(t||0),this.setHeight(r||0)}toDataURL(t,r){try{return this._canvas.toDataURL(t,r)}catch{try{return this._canvas.toDataURL()}catch(n){return Sn.Util.error("Unable to get data URL. "+n.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}pe.Canvas=Wn;bp.Factory.addGetterSetter(Wn,"pixelRatio",void 0,(0,Sp.getNumberValidator)());class xp extends Wn{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new Xf.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}pe.SceneCanvas=xp;class Cp extends Wn{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new Xf.HitContext(this),this.setSize(t.width,t.height)}}pe.HitCanvas=Cp;var qn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=gt,r=Ot;e.DD={get isDragging(){var i=!1;return e.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return e.DD._dragElements.forEach(n=>{i=n.node}),i},_dragElements:new Map,_drag(i){const n=[];e.DD._dragElements.forEach((s,a)=>{const{node:o}=s,l=o.getStage();l.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=r.Util._getFirstPointerId(i));const h=l._changedPointerPositions.find(d=>d.id===s.pointerId);if(h){if(s.dragStatus!=="dragging"){var c=o.dragDistance(),u=Math.max(Math.abs(h.x-s.startPointerPos.x),Math.abs(h.y-s.startPointerPos.y));if(u<c||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,s),n.push(o)}}),n.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const n=[];e.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(c=>c.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,s.dragStatus="stopped");const h=s.node.getLayer()||s.node instanceof t.Konva.Stage&&s.node;h&&n.indexOf(h)===-1&&n.push(h)}),n.forEach(s=>{s.draw()})},_endDragAfter(i){e.DD._dragElements.forEach((n,s)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:i},!0),n.dragStatus!=="dragging"&&e.DD._dragElements.delete(s)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))})(qn);Object.defineProperty(kt,"__esModule",{value:!0});kt.Node=void 0;const vt=Ot,Bi=pt,ui=pe,We=gt,ae=qn,Gt=at;var ln="absoluteOpacity",Zi="allEventListeners",Fe="absoluteTransform",xc="absoluteScale",fr="canvas",Tp="Change",Ep="children",Pp="konva",wo="listening",Cc="mouseenter",Tc="mouseleave",Ec="set",Pc="Shape",hn=" ",Rc="stage",Ke="transform",Rp="Stage",xo="visible",Ap=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(hn);let Mp=1;class ht{constructor(t){this._id=Mp++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Ke||t===Fe)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,r){var i=this._cache.get(t),n=t===Ke||t===Fe,s=i===void 0||n&&i.dirty===!0;return s&&(i=r.call(this),this._cache.set(t,i)),i}_calculate(t,r,i){if(!this._attachedDepsListeners.get(t)){const n=r.map(s=>s+"Change.konva").join(hn);this.on(n,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get(fr)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Fe&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(fr)){const{scene:t,filter:r,hit:i}=this._cache.get(fr);vt.Util.releaseCanvas(t,r,i),this._cache.delete(fr)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var r=t||{},i={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var n=Math.ceil(r.width||i.width),s=Math.ceil(r.height||i.height),a=r.pixelRatio,o=r.x===void 0?Math.floor(i.x):r.x,l=r.y===void 0?Math.floor(i.y):r.y,h=r.offset||0,c=r.drawBorder||!1,u=r.hitCanvasPixelRatio||1;if(!n||!s){vt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const d=Math.abs(Math.round(i.x)-o)>.5?1:0,f=Math.abs(Math.round(i.y)-l)>.5?1:0;n+=h*2+d,s+=h*2+f,o-=h,l-=h;var p=new ui.SceneCanvas({pixelRatio:a,width:n,height:s}),_=new ui.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),b=new ui.HitCanvas({pixelRatio:u,width:n,height:s}),S=p.getContext(),C=b.getContext();return b.isCache=!0,p.isCache=!0,this._cache.delete(fr),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),S.save(),C.save(),S.translate(-o,-l),C.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ln),this._clearSelfAndDescendantCache(xc),this.drawScene(p,this),this.drawHit(b,this),this._isUnderCache=!1,S.restore(),C.restore(),c&&(S.save(),S.beginPath(),S.rect(0,0,n,s),S.closePath(),S.setAttr("strokeStyle","red"),S.setAttr("lineWidth",5),S.stroke(),S.restore()),this._cache.set(fr,{scene:p,filter:_,hit:b,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(fr)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,r){var i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=1/0,s=1/0,a=-1/0,o=-1/0,l=this.getAbsoluteTransform(r);return i.forEach(function(h){var c=l.point(h);n===void 0&&(n=a=c.x,s=o=c.y),n=Math.min(n,c.x),s=Math.min(s,c.y),a=Math.max(a,c.x),o=Math.max(o,c.y)}),{x:n,y:s,width:a-n,height:o-s}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const r=this._getCanvasCache();t.translate(r.x,r.y);var i=this._getCachedSceneCanvas(),n=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/n,i.height/n),t.restore()}_drawCachedHitCanvas(t){var r=this._getCanvasCache(),i=r.hit;t.save(),t.translate(r.x,r.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t=this.filters(),r=this._getCanvasCache(),i=r.scene,n=r.filter,s=n.getContext(),a,o,l,h;if(t){if(!this._filterUpToDate){var c=i.pixelRatio;n.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(a=t.length,s.clear(),s.drawImage(i._canvas,0,0,i.getWidth()/c,i.getHeight()/c),o=s.getImageData(0,0,n.getWidth(),n.getHeight()),l=0;l<a;l++){if(h=t[l],typeof h!="function"){vt.Util.error("Filter should be type of function, but got "+typeof h+" instead. Please check correct filters");continue}h.call(this,o),s.putImageData(o,0,0)}}catch(u){vt.Util.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return n}return i}on(t,r){if(this._cache&&this._cache.delete(Zi),arguments.length===3)return this._delegate.apply(this,arguments);var i=t.split(hn),n=i.length,s,a,o,l,h;for(s=0;s<n;s++)a=i[s],o=a.split("."),l=o[0],h=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:h,handler:r});return this}off(t,r){var i=(t||"").split(hn),n=i.length,s,a,o,l,h,c;if(this._cache&&this._cache.delete(Zi),!t)for(a in this.eventListeners)this._off(a);for(s=0;s<n;s++)if(o=i[s],l=o.split("."),h=l[0],c=l[1],h)this.eventListeners[h]&&this._off(h,c,r);else for(a in this.eventListeners)this._off(a,c,r);return this}dispatchEvent(t){var r={target:this,type:t.type,evt:t};return this.fire(t.type,r),this}addEventListener(t,r){return this.on(t,function(i){r.call(this,i.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,r,i){var n=this;this.on(t,function(s){for(var a=s.target.findAncestors(r,!0,n),o=0;o<a.length;o++)s=vt.Util.cloneObject(s),s.currentTarget=a[o],i.call(a[o],s)})}remove(){return this.isDragging()&&this.stopDrag(),ae.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Fe),this._clearSelfAndDescendantCache(ln),this._clearSelfAndDescendantCache(xc),this._clearSelfAndDescendantCache(Rc),this._clearSelfAndDescendantCache(xo),this._clearSelfAndDescendantCache(wo)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var r="get"+vt.Util._capitalize(t);return vt.Util._isFunction(this[r])?this[r]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),r=[];t;)r.push(t),t=t.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var r,i;if(!t)return this;for(r in t)r!==Ep&&(i=Ec+vt.Util._capitalize(r),vt.Util._isFunction(this[i])?this[i](t[r]):this._setAttr(r,t[r]))}),this}isListening(){return this._getCache(wo,this._isListening)}_isListening(t){if(!this.listening())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isListening(t):!0}isVisible(){return this._getCache(xo,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isVisible(t):!0}shouldDrawHit(t,r=!1){if(t)return this._isVisible(t)&&this._isListening(t);var i=this.getLayer(),n=!1;ae.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===i)&&(n=!0)});var s=!r&&!We.Konva.hitOnDragEnabled&&(n||We.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t=this.getDepth(),r=this,i=0,n,s,a,o;function l(c){for(n=[],s=c.length,a=0;a<s;a++)o=c[a],i++,o.nodeType!==Pc&&(n=n.concat(o.getChildren().slice())),o._id===r._id&&(a=s);n.length>0&&n[0].getDepth()<=t&&l(n)}const h=this.getStage();return r.nodeType!==Rp&&h&&l(h.getChildren()),i}getDepth(){for(var t=0,r=this.parent;r;)t++,r=r.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Ke),this._clearSelfAndDescendantCache(Fe)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;var r=t.getPointerPosition();if(!r)return null;var i=this.getAbsoluteTransform().copy();return i.invert(),i.point(r)}getAbsolutePosition(t){let r=!1,i=this.parent;for(;i;){if(i.isCached()){r=!0;break}i=i.parent}r&&!t&&(t=!0);var n=this.getAbsoluteTransform(t).getMatrix(),s=new vt.Transform,a=this.offset();return s.m=n.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(t){const{x:r,y:i,...n}=this._clearTransform();this.attrs.x=r,this.attrs.y=i,this._clearCache(Ke);var s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(t.x,t.y),t={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(n),this.setPosition({x:t.x,y:t.y}),this._clearCache(Ke),this._clearSelfAndDescendantCache(Fe),this}_setTransform(t){var r;for(r in t)this.attrs[r]=t[r]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var r=t.x,i=t.y,n=this.x(),s=this.y();return r!==void 0&&(n+=r),i!==void 0&&(s+=i),this.setPosition({x:n,y:s}),this}_eachAncestorReverse(t,r){var i=[],n=this.getParent(),s,a;if(!(r&&r._id===this._id)){for(i.unshift(this);n&&(!r||n._id!==r._id);)i.unshift(n),n=n.parent;for(s=i.length,a=0;a<s;a++)t(i[a])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return vt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index,r=this.parent.getChildren().length;return t<r-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return vt.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,r=this.parent.getChildren().length;return t<r-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return vt.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return vt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return vt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&vt.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ln,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),r=this.getParent();return r&&!r._isUnderCache&&(t*=r.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t=this.getAttrs(),r,i,n,s,a;const o={attrs:{},className:this.getClassName()};for(r in t)i=t[r],a=vt.Util.isObject(i)&&!vt.Util._isPlainObject(i)&&!vt.Util._isArray(i),!a&&(n=typeof this[r]=="function"&&this[r],delete t[r],s=n?n.call(this):null,t[r]=i,s!==i&&(o.attrs[r]=i));return vt.Util._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,r,i){var n=[];r&&this._isMatch(t)&&n.push(this);for(var s=this.parent;s;){if(s===i)return n;s._isMatch(t)&&n.push(s),s=s.parent}return n}isAncestorOf(t){return!1}findAncestor(t,r,i){return this.findAncestors(t,r,i)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);var r=t.replace(/ /g,"").split(","),i=r.length,n,s;for(n=0;n<i;n++)if(s=r[n],vt.Util.isValidSelector(s)||(vt.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),vt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),vt.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(Rc,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():null}fire(t,r={},i){return r.target=r.target||this,i?this._fireAndBubble(t,r):this._fire(t,r),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Fe,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var r;if(t)return r=new vt.Transform,this._eachAncestorReverse(function(n){var s=n.transformsEnabled();s==="all"?r.multiply(n.getTransform()):s==="position"&&r.translate(n.x()-n.offsetX(),n.y()-n.offsetY())},t),r;r=this._cache.get(Fe)||new vt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();var i=this.transformsEnabled();if(i==="all")r.multiply(this.getTransform());else if(i==="position"){const n=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;r.translate(n-a,s-o)}return r.dirty=!1,r}getAbsoluteScale(t){for(var r=this;r;)r._isUnderCache&&(t=r),r=r.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Ke,this._getTransform)}_getTransform(){var t,r,i=this._cache.get(Ke)||new vt.Transform;i.reset();var n=this.x(),s=this.y(),a=We.Konva.getAngle(this.rotation()),o=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,l=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,h=this.attrs.skewX||0,c=this.attrs.skewY||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return(n!==0||s!==0)&&i.translate(n,s),a!==0&&i.rotate(a),(h!==0||c!==0)&&i.skew(h,c),(o!==1||l!==1)&&i.scale(o,l),(u!==0||d!==0)&&i.translate(-1*u,-1*d),i.dirty=!1,i}clone(t){var r=vt.Util.cloneObject(this.attrs),i,n,s,a,o;for(i in t)r[i]=t[i];var l=new this.constructor(r);for(i in this.eventListeners)for(n=this.eventListeners[i],s=n.length,a=0;a<s;a++)o=n[a],o.name.indexOf(Pp)<0&&(l.eventListeners[i]||(l.eventListeners[i]=[]),l.eventListeners[i].push(o));return l}_toKonvaCanvas(t){t=t||{};var r=this.getClientRect(),i=this.getStage(),n=t.x!==void 0?t.x:Math.floor(r.x),s=t.y!==void 0?t.y:Math.floor(r.y),a=t.pixelRatio||1,o=new ui.SceneCanvas({width:t.width||Math.ceil(r.width)||(i?i.width():0),height:t.height||Math.ceil(r.height)||(i?i.height():0),pixelRatio:a}),l=o.getContext();const h=new ui.SceneCanvas({width:o.width/o.pixelRatio+Math.abs(n),height:o.height/o.pixelRatio+Math.abs(s),pixelRatio:o.pixelRatio});return t.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(n||s)&&l.translate(-1*n,-1*s),this.drawScene(o,void 0,h),l.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};var r=t.mimeType||null,i=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(r,i);return t.callback&&t.callback(n),n}toImage(t){return new Promise((r,i)=>{try{const n=t==null?void 0:t.callback;n&&delete t.callback,vt.Util._urlToImage(this.toDataURL(t),function(s){r(s),n==null||n(s)})}catch(n){i(n)}})}toBlob(t){return new Promise((r,i)=>{try{const n=t==null?void 0:t.callback;n&&delete t.callback,this.toCanvas(t).toBlob(s=>{r(s),n==null||n(s)},t==null?void 0:t.mimeType,t==null?void 0:t.quality)}catch(n){i(n)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():We.Konva.dragDistance}_off(t,r,i){var n=this.eventListeners[t],s,a,o;for(s=0;s<n.length;s++)if(a=n[s].name,o=n[s].handler,(a!=="konva"||r==="konva")&&(!r||a===r)&&(!i||i===o)){if(n.splice(s,1),n.length===0){delete this.eventListeners[t];break}s--}}_fireChangeEvent(t,r,i){this._fire(t+Tp,{oldVal:r,newVal:i})}addName(t){if(!this.hasName(t)){var r=this.name(),i=r?r+" "+t:t;this.name(i)}return this}hasName(t){if(!t)return!1;const r=this.name();if(!r)return!1;var i=(r||"").split(/\s/g);return i.indexOf(t)!==-1}removeName(t){var r=(this.name()||"").split(/\s/g),i=r.indexOf(t);return i!==-1&&(r.splice(i,1),this.name(r.join(" "))),this}setAttr(t,r){var i=this[Ec+vt.Util._capitalize(t)];return vt.Util._isFunction(i)?i.call(this,r):this._setAttr(t,r),this}_requestDraw(){if(We.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,r){var i=this.attrs[t];i===r&&!vt.Util.isObject(r)||(r==null?delete this.attrs[t]:this.attrs[t]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,r),this._requestDraw())}_setComponentAttr(t,r,i){var n;i!==void 0&&(n=this.attrs[t],n||(this.attrs[t]=this.getAttr(t)),this.attrs[t][r]=i,this._fireChangeEvent(t,n,i))}_fireAndBubble(t,r,i){r&&this.nodeType===Pc&&(r.target=this);var n=(t===Cc||t===Tc)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i);if(!n){this._fire(t,r);var s=(t===Cc||t===Tc)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!s&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,r,i):this._fireAndBubble.call(this.parent,t,r))}}_getProtoListeners(t){var r,i,n;const s=(r=this._cache.get(Zi))!==null&&r!==void 0?r:{};let a=s==null?void 0:s[t];if(a===void 0){a=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(n=(i=o.eventListeners)===null||i===void 0?void 0:i[t])!==null&&n!==void 0?n:[];a.push(...l),o=Object.getPrototypeOf(o)}s[t]=a,this._cache.set(Zi,s)}return a}_fire(t,r){r=r||{},r.currentTarget=this,r.type=t;const i=this._getProtoListeners(t);if(i)for(var n=0;n<i.length;n++)i[n].handler.call(this,r);const s=this.eventListeners[t];if(s)for(var n=0;n<s.length;n++)s[n].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var r=t?t.pointerId:void 0,i=this.getStage(),n=this.getAbsolutePosition();if(i){var s=i._getPointerById(r)||i._changedPointerPositions[0]||n;ae.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-n.x,y:s.y-n.y},dragStatus:"ready",pointerId:r})}}startDrag(t,r=!0){ae.DD._dragElements.has(this._id)||this._createDragElement(t);const i=ae.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},r)}_setDragPosition(t,r){const i=this.getStage()._getPointerById(r.pointerId);if(i){var n={x:i.x-r.offset.x,y:i.y-r.offset.y},s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,n,t);a?n=a:vt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==n.x||this._lastPos.y!==n.y)&&(this.setAbsolutePosition(n),this._requestDraw()),this._lastPos=n}}stopDrag(t){const r=ae.DD._dragElements.get(this._id);r&&(r.dragStatus="stopped"),ae.DD._endDragBefore(t),ae.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=ae.DD._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var r=t.evt.button!==void 0,i=!r||We.Konva.dragButtons.indexOf(t.evt.button)>=0;if(i&&!this.isDragging()){var n=!1;ae.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(n=!0)}),n||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;const r=ae.DD._dragElements.get(this._id),i=r&&r.dragStatus==="dragging",n=r&&r.dragStatus==="ready";i?this.stopDrag():n&&ae.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const r=this.getStage();if(!r)return!1;const i={x:-t.x,y:-t.y,width:r.width()+2*t.x,height:r.height()+2*t.y};return vt.Util.haveIntersection(i,this.getClientRect())}static create(t,r){return vt.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,r)}static _createNode(t,r){var i=ht.prototype.getClassName.call(t),n=t.children,s,a,o;r&&(t.attrs.container=r),We.Konva[i]||(vt.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const l=We.Konva[i];if(s=new l(t.attrs),n)for(a=n.length,o=0;o<a;o++)s.add(ht._createNode(n[o]));return s}}kt.Node=ht;ht.prototype.nodeType="Node";ht.prototype._attrsAffectingSize=[];ht.prototype.eventListeners={};ht.prototype.on.call(ht.prototype,Ap,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Ke),this._clearSelfAndDescendantCache(Fe)});ht.prototype.on.call(ht.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(xo)});ht.prototype.on.call(ht.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(wo)});ht.prototype.on.call(ht.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ln)});const Et=Bi.Factory.addGetterSetter;Et(ht,"zIndex");Et(ht,"absolutePosition");Et(ht,"position");Et(ht,"x",0,(0,Gt.getNumberValidator)());Et(ht,"y",0,(0,Gt.getNumberValidator)());Et(ht,"globalCompositeOperation","source-over",(0,Gt.getStringValidator)());Et(ht,"opacity",1,(0,Gt.getNumberValidator)());Et(ht,"name","",(0,Gt.getStringValidator)());Et(ht,"id","",(0,Gt.getStringValidator)());Et(ht,"rotation",0,(0,Gt.getNumberValidator)());Bi.Factory.addComponentsGetterSetter(ht,"scale",["x","y"]);Et(ht,"scaleX",1,(0,Gt.getNumberValidator)());Et(ht,"scaleY",1,(0,Gt.getNumberValidator)());Bi.Factory.addComponentsGetterSetter(ht,"skew",["x","y"]);Et(ht,"skewX",0,(0,Gt.getNumberValidator)());Et(ht,"skewY",0,(0,Gt.getNumberValidator)());Bi.Factory.addComponentsGetterSetter(ht,"offset",["x","y"]);Et(ht,"offsetX",0,(0,Gt.getNumberValidator)());Et(ht,"offsetY",0,(0,Gt.getNumberValidator)());Et(ht,"dragDistance",null,(0,Gt.getNumberValidator)());Et(ht,"width",0,(0,Gt.getNumberValidator)());Et(ht,"height",0,(0,Gt.getNumberValidator)());Et(ht,"listening",!0,(0,Gt.getBooleanValidator)());Et(ht,"preventDefault",!0,(0,Gt.getBooleanValidator)());Et(ht,"filters",null,function(e){return this._filterUpToDate=!1,e});Et(ht,"visible",!0,(0,Gt.getBooleanValidator)());Et(ht,"transformsEnabled","all",(0,Gt.getStringValidator)());Et(ht,"size");Et(ht,"dragBoundFunc");Et(ht,"draggable",!1,(0,Gt.getBooleanValidator)());Bi.Factory.backCompat(ht,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Container=void 0;const Zr=pt,Ha=kt,Kn=at;class Er extends Ha.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const r=this.children||[];var i=[];return r.forEach(function(n){t(n)&&i.push(n)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(var r=0;r<t.length;r++)this.add(t[r]);return this}const i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var r=this._generalFind(t,!0);return r.length>0?r[0]:void 0}_generalFind(t,r){var i=[];return this._descendants(n=>{const s=n._isMatch(t);return s&&i.push(n),!!(s&&r)}),i}_descendants(t){let r=!1;const i=this.getChildren();for(const n of i){if(r=t(n),r)return!0;if(n.hasChildren()&&(r=n._descendants(t),r))return!0}return!1}toObject(){var t=Ha.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(r=>{t.children.push(r.toObject())}),t}isAncestorOf(t){for(var r=t.getParent();r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(t){var r=Ha.Node.prototype.clone.call(this,t);return this.getChildren().forEach(function(i){r.add(i.clone())}),r}getAllIntersections(t){var r=[];return this.find("Shape").forEach(i=>{i.isVisible()&&i.intersects(t)&&r.push(i)}),r}_clearSelfAndDescendantCache(t){var r;super._clearSelfAndDescendantCache(t),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(i){i._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(r,i){r.index=i}),this._requestDraw()}drawScene(t,r,i){var n=this.getLayer(),s=t||n&&n.getCanvas(),a=s&&s.getContext(),o=this._getCanvasCache(),l=o&&o.scene,h=s&&s.isCache;if(!this.isVisible()&&!h)return this;if(l){a.save();var c=this.getAbsoluteTransform(r).getMatrix();a.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",s,r,i);return this}drawHit(t,r){if(!this.shouldDrawHit(r))return this;var i=this.getLayer(),n=t||i&&i.hitCanvas,s=n&&n.getContext(),a=this._getCanvasCache(),o=a&&a.hit;if(o){s.save();var l=this.getAbsoluteTransform(r).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",n,r);return this}_drawChildren(t,r,i,n){var s,a=r&&r.getContext(),o=this.clipWidth(),l=this.clipHeight(),h=this.clipFunc(),c=typeof o=="number"&&typeof l=="number"||h;const u=i===this;if(c){a.save();var d=this.getAbsoluteTransform(i),f=d.getMatrix();a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),a.beginPath();let S;if(h)S=h.call(this,a,this);else{var p=this.clipX(),_=this.clipY();a.rect(p||0,_||0,o,l)}a.clip.apply(a,S),f=d.copy().invert().getMatrix(),a.transform(f[0],f[1],f[2],f[3],f[4],f[5])}var b=!u&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";b&&(a.save(),a._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(S){S[t](r,i,n)}),b&&a.restore(),c&&a.restore()}getClientRect(t={}){var r,i=t.skipTransform,n=t.relativeTo,s,a,o,l,h={x:1/0,y:1/0,width:0,height:0},c=this;(r=this.children)===null||r===void 0||r.forEach(function(_){if(_.visible()){var b=_.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});b.width===0&&b.height===0||(s===void 0?(s=b.x,a=b.y,o=b.x+b.width,l=b.y+b.height):(s=Math.min(s,b.x),a=Math.min(a,b.y),o=Math.max(o,b.x+b.width),l=Math.max(l,b.y+b.height)))}});for(var u=this.find("Shape"),d=!1,f=0;f<u.length;f++){var p=u[f];if(p._isVisible(this)){d=!0;break}}return d&&s!==void 0?h={x:s,y:a,width:o-s,height:l-a}:h={x:0,y:0,width:0,height:0},i?h:this._transformedRect(h,n)}}Tr.Container=Er;Zr.Factory.addComponentsGetterSetter(Er,"clip",["x","y","width","height"]);Zr.Factory.addGetterSetter(Er,"clipX",void 0,(0,Kn.getNumberValidator)());Zr.Factory.addGetterSetter(Er,"clipY",void 0,(0,Kn.getNumberValidator)());Zr.Factory.addGetterSetter(Er,"clipWidth",void 0,(0,Kn.getNumberValidator)());Zr.Factory.addGetterSetter(Er,"clipHeight",void 0,(0,Kn.getNumberValidator)());Zr.Factory.addGetterSetter(Er,"clipFunc");var Jf={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.releaseCapture=ie.setPointerCapture=ie.hasPointerCapture=ie.createEvent=ie.getCapturedShape=void 0;const kp=gt,ki=new Map,Zf=kp.Konva._global.PointerEvent!==void 0;function Op(e){return ki.get(e)}ie.getCapturedShape=Op;function fl(e){return{evt:e,pointerId:e.pointerId}}ie.createEvent=fl;function Fp(e,t){return ki.get(e)===t}ie.hasPointerCapture=Fp;function Lp(e,t){td(e),t.getStage()&&(ki.set(e,t),Zf&&t._fire("gotpointercapture",fl(new PointerEvent("gotpointercapture"))))}ie.setPointerCapture=Lp;function td(e,t){const r=ki.get(e);if(!r)return;const i=r.getStage();i&&i.content,ki.delete(e),Zf&&r._fire("lostpointercapture",fl(new PointerEvent("lostpointercapture")))}ie.releaseCapture=td;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Ot,r=pt,i=Tr,n=gt,s=pe,a=qn,o=gt,l=ie;var h="Stage",c="string",u="px",d="mouseout",f="mouseleave",p="mouseover",_="mouseenter",b="mousemove",S="mousedown",C="mouseup",g="pointermove",m="pointerdown",x="pointerup",O="pointercancel",D="lostpointercapture",T="pointerout",N="pointerleave",F="pointerover",A="pointerenter",j="contextmenu",B="touchstart",X="touchend",V="touchmove",Q="touchcancel",W="wheel",y=5,P=[[_,"_pointerenter"],[S,"_pointerdown"],[b,"_pointermove"],[C,"_pointerup"],[f,"_pointerleave"],[B,"_pointerdown"],[V,"_pointermove"],[X,"_pointerup"],[Q,"_pointercancel"],[p,"_pointerover"],[W,"_wheel"],[j,"_contextmenu"],[m,"_pointerdown"],[g,"_pointermove"],[x,"_pointerup"],[O,"_pointercancel"],[D,"_lostpointercapture"]];const R={mouse:{[T]:d,[N]:f,[F]:p,[A]:_,[g]:b,[m]:S,[x]:C,[O]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[T]:"touchout",[N]:"touchleave",[F]:"touchover",[A]:"touchenter",[g]:V,[m]:B,[x]:X,[O]:Q,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[T]:T,[N]:N,[F]:F,[A]:A,[g]:g,[m]:m,[x]:x,[O]:O,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},M=z=>z.indexOf("pointer")>=0?"pointer":z.indexOf("touch")>=0?"touch":"mouse",L=z=>{const v=M(z);if(v==="pointer")return n.Konva.pointerEventsEnabled&&R.pointer;if(v==="touch")return R.touch;if(v==="mouse")return R.mouse};function I(z={}){return(z.clipFunc||z.clipWidth||z.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),z}const H="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class J extends i.Container{constructor(v){super(I(v)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{I(this.attrs)}),this._checkVisibility()}_validateAdd(v){const k=v.getType()==="Layer",U=v.getType()==="FastLayer";k||U||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const v=this.visible()?"":"none";this.content.style.display=v}setContainer(v){if(typeof v===c){if(v.charAt(0)==="."){var k=v.slice(1);v=document.getElementsByClassName(k)[0]}else{var U;v.charAt(0)!=="#"?U=v:U=v.slice(1),v=document.getElementById(U)}if(!v)throw"Can not find container in document with id "+U}return this._setAttr("container",v),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),v.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var v=this.children,k=v.length,U;for(U=0;U<k;U++)v[U].clear();return this}clone(v){return v||(v={}),v.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,v)}destroy(){super.destroy();var v=this.content;v&&t.Util._isInDocument(v)&&this.container().removeChild(v);var k=e.stages.indexOf(this);return k>-1&&e.stages.splice(k,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const v=this._pointerPositions[0]||this._changedPointerPositions[0];return v?{x:v.x,y:v.y}:(t.Util.warn(H),null)}_getPointerById(v){return this._pointerPositions.find(k=>k.id===v)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(v){v=v||{},v.x=v.x||0,v.y=v.y||0,v.width=v.width||this.width(),v.height=v.height||this.height();var k=new s.SceneCanvas({width:v.width,height:v.height,pixelRatio:v.pixelRatio||1}),U=k.getContext()._context,q=this.children;return(v.x||v.y)&&U.translate(-1*v.x,-1*v.y),q.forEach(function(tt){if(tt.isVisible()){var st=tt._toKonvaCanvas(v);U.drawImage(st._canvas,v.x,v.y,st.getWidth()/st.getPixelRatio(),st.getHeight()/st.getPixelRatio())}}),k}getIntersection(v){if(!v)return null;var k=this.children,U=k.length,q=U-1,tt;for(tt=q;tt>=0;tt--){const st=k[tt].getIntersection(v);if(st)return st}return null}_resizeDOM(){var v=this.width(),k=this.height();this.content&&(this.content.style.width=v+u,this.content.style.height=k+u),this.bufferCanvas.setSize(v,k),this.bufferHitCanvas.setSize(v,k),this.children.forEach(U=>{U.setSize({width:v,height:k}),U.draw()})}add(v,...k){if(arguments.length>1){for(var U=0;U<arguments.length;U++)this.add(arguments[U]);return this}super.add(v);var q=this.children.length;return q>y&&t.Util.warn("The stage has "+q+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),v.setSize({width:this.width(),height:this.height()}),v.draw(),n.Konva.isBrowser&&this.content.appendChild(v.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(v){return l.hasPointerCapture(v,this)}setPointerCapture(v){l.setPointerCapture(v,this)}releaseCapture(v){l.releaseCapture(v,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&P.forEach(([v,k])=>{this.content.addEventListener(v,U=>{this[k](U)},{passive:!1})})}_pointerenter(v){this.setPointersPositions(v);const k=L(v.type);k&&this._fire(k.pointerenter,{evt:v,target:this,currentTarget:this})}_pointerover(v){this.setPointersPositions(v);const k=L(v.type);k&&this._fire(k.pointerover,{evt:v,target:this,currentTarget:this})}_getTargetShape(v){let k=this[v+"targetShape"];return k&&!k.getStage()&&(k=null),k}_pointerleave(v){const k=L(v.type),U=M(v.type);if(k){this.setPointersPositions(v);var q=this._getTargetShape(U),tt=!(n.Konva.isDragging()||n.Konva.isTransforming())||n.Konva.hitOnDragEnabled;q&&tt?(q._fireAndBubble(k.pointerout,{evt:v}),q._fireAndBubble(k.pointerleave,{evt:v}),this._fire(k.pointerleave,{evt:v,target:this,currentTarget:this}),this[U+"targetShape"]=null):tt&&(this._fire(k.pointerleave,{evt:v,target:this,currentTarget:this}),this._fire(k.pointerout,{evt:v,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(v){const k=L(v.type),U=M(v.type);if(k){this.setPointersPositions(v);var q=!1;this._changedPointerPositions.forEach(tt=>{var st=this.getIntersection(tt);if(a.DD.justDragged=!1,n.Konva["_"+U+"ListenClick"]=!0,!st||!st.isListening()){this[U+"ClickStartShape"]=void 0;return}n.Konva.capturePointerEventsEnabled&&st.setPointerCapture(tt.id),this[U+"ClickStartShape"]=st,st._fireAndBubble(k.pointerdown,{evt:v,pointerId:tt.id}),q=!0;const w=v.type.indexOf("touch")>=0;st.preventDefault()&&v.cancelable&&w&&v.preventDefault()}),q||this._fire(k.pointerdown,{evt:v,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(v){const k=L(v.type),U=M(v.type);if(!k)return;n.Konva.isDragging()&&a.DD.node.preventDefault()&&v.cancelable&&v.preventDefault(),this.setPointersPositions(v);var q=!(n.Konva.isDragging()||n.Konva.isTransforming())||n.Konva.hitOnDragEnabled;if(!q)return;var tt={};let st=!1;var w=this._getTargetShape(U);this._changedPointerPositions.forEach(E=>{const G=l.getCapturedShape(E.id)||this.getIntersection(E),K=E.id,$={evt:v,pointerId:K};var Y=w!==G;if(Y&&w&&(w._fireAndBubble(k.pointerout,{...$},G),w._fireAndBubble(k.pointerleave,{...$},G)),G){if(tt[G._id])return;tt[G._id]=!0}G&&G.isListening()?(st=!0,Y&&(G._fireAndBubble(k.pointerover,{...$},w),G._fireAndBubble(k.pointerenter,{...$},w),this[U+"targetShape"]=G),G._fireAndBubble(k.pointermove,{...$})):w&&(this._fire(k.pointerover,{evt:v,target:this,currentTarget:this,pointerId:K}),this[U+"targetShape"]=null)}),st||this._fire(k.pointermove,{evt:v,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(v){const k=L(v.type),U=M(v.type);if(!k)return;this.setPointersPositions(v);const q=this[U+"ClickStartShape"],tt=this[U+"ClickEndShape"];var st={};let w=!1;this._changedPointerPositions.forEach(E=>{const G=l.getCapturedShape(E.id)||this.getIntersection(E);if(G){if(G.releaseCapture(E.id),st[G._id])return;st[G._id]=!0}const K=E.id,$={evt:v,pointerId:K};let Y=!1;n.Konva["_"+U+"InDblClickWindow"]?(Y=!0,clearTimeout(this[U+"DblTimeout"])):a.DD.justDragged||(n.Konva["_"+U+"InDblClickWindow"]=!0,clearTimeout(this[U+"DblTimeout"])),this[U+"DblTimeout"]=setTimeout(function(){n.Konva["_"+U+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),G&&G.isListening()?(w=!0,this[U+"ClickEndShape"]=G,G._fireAndBubble(k.pointerup,{...$}),n.Konva["_"+U+"ListenClick"]&&q&&q===G&&(G._fireAndBubble(k.pointerclick,{...$}),Y&&tt&&tt===G&&G._fireAndBubble(k.pointerdblclick,{...$}))):(this[U+"ClickEndShape"]=null,n.Konva["_"+U+"ListenClick"]&&this._fire(k.pointerclick,{evt:v,target:this,currentTarget:this,pointerId:K}),Y&&this._fire(k.pointerdblclick,{evt:v,target:this,currentTarget:this,pointerId:K}))}),w||this._fire(k.pointerup,{evt:v,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+U+"ListenClick"]=!1,v.cancelable&&U!=="touch"&&v.preventDefault()}_contextmenu(v){this.setPointersPositions(v);var k=this.getIntersection(this.getPointerPosition());k&&k.isListening()?k._fireAndBubble(j,{evt:v}):this._fire(j,{evt:v,target:this,currentTarget:this})}_wheel(v){this.setPointersPositions(v);var k=this.getIntersection(this.getPointerPosition());k&&k.isListening()?k._fireAndBubble(W,{evt:v}):this._fire(W,{evt:v,target:this,currentTarget:this})}_pointercancel(v){this.setPointersPositions(v);const k=l.getCapturedShape(v.pointerId)||this.getIntersection(this.getPointerPosition());k&&k._fireAndBubble(x,l.createEvent(v)),l.releaseCapture(v.pointerId)}_lostpointercapture(v){l.releaseCapture(v.pointerId)}setPointersPositions(v){var k=this._getContentPosition(),U=null,q=null;v=v||window.event,v.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(v.touches,tt=>{this._pointerPositions.push({id:tt.identifier,x:(tt.clientX-k.left)/k.scaleX,y:(tt.clientY-k.top)/k.scaleY})}),Array.prototype.forEach.call(v.changedTouches||v.touches,tt=>{this._changedPointerPositions.push({id:tt.identifier,x:(tt.clientX-k.left)/k.scaleX,y:(tt.clientY-k.top)/k.scaleY})})):(U=(v.clientX-k.left)/k.scaleX,q=(v.clientY-k.top)/k.scaleY,this.pointerPos={x:U,y:q},this._pointerPositions=[{x:U,y:q,id:t.Util._getFirstPointerId(v)}],this._changedPointerPositions=[{x:U,y:q,id:t.Util._getFirstPointerId(v)}])}_setPointerPosition(v){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(v)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var v=this.content.getBoundingClientRect();return{top:v.top,left:v.left,scaleX:v.width/this.content.clientWidth||1,scaleY:v.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!n.Konva.isBrowser){var v=this.container();if(!v)throw"Stage has no container. A container is required.";v.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),v.appendChild(this.content),this._resizeDOM()}}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(v){v.batchDraw()}),this}}e.Stage=J,J.prototype.nodeType=h,(0,o._registerNode)(J),r.Factory.addGetterSetter(J,"container"),n.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(z=>{z.batchDraw()})})})(Jf);var Vi={},Bt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=gt,r=Ot,i=pt,n=kt,s=at,a=gt,o=ie;var l="hasShadow",h="shadowRGBA",c="patternImage",u="linearGradient",d="radialGradient";let f;function p(){return f||(f=r.Util.createCanvasElement().getContext("2d"),f)}e.shapes={};function _(N){const F=this.attrs.fillRule;F?N.fill(F):N.fill()}function b(N){N.stroke()}function S(N){const F=this.attrs.fillRule;F?N.fill(F):N.fill()}function C(N){N.stroke()}function g(){this._clearCache(l)}function m(){this._clearCache(h)}function x(){this._clearCache(c)}function O(){this._clearCache(u)}function D(){this._clearCache(d)}class T extends n.Node{constructor(F){super(F);let A;for(;A=r.Util.getRandomColor(),!(A&&!(A in e.shapes)););this.colorKey=A,e.shapes[A]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var F=p();const A=F.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(A&&A.setTransform){const j=new r.Transform;j.translate(this.fillPatternX(),this.fillPatternY()),j.rotate(t.Konva.getAngle(this.fillPatternRotation())),j.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),j.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const B=j.getMatrix(),X=typeof DOMMatrix>"u"?{a:B[0],b:B[1],c:B[2],d:B[3],e:B[4],f:B[5]}:new DOMMatrix(B);A.setTransform(X)}return A}}_getLinearGradient(){return this._getCache(u,this.__getLinearGradient)}__getLinearGradient(){var F=this.fillLinearGradientColorStops();if(F){for(var A=p(),j=this.fillLinearGradientStartPoint(),B=this.fillLinearGradientEndPoint(),X=A.createLinearGradient(j.x,j.y,B.x,B.y),V=0;V<F.length;V+=2)X.addColorStop(F[V],F[V+1]);return X}}_getRadialGradient(){return this._getCache(d,this.__getRadialGradient)}__getRadialGradient(){var F=this.fillRadialGradientColorStops();if(F){for(var A=p(),j=this.fillRadialGradientStartPoint(),B=this.fillRadialGradientEndPoint(),X=A.createRadialGradient(j.x,j.y,this.fillRadialGradientStartRadius(),B.x,B.y,this.fillRadialGradientEndRadius()),V=0;V<F.length;V+=2)X.addColorStop(F[V],F[V+1]);return X}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var F=r.Util.colorToRGBA(this.shadowColor());if(F)return"rgba("+F.r+","+F.g+","+F.b+","+F.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const F=this.hitStrokeWidth();return F==="auto"?this.hasStroke():this.strokeEnabled()&&!!F}intersects(F){var A=this.getStage();if(!A)return!1;const j=A.bufferHitCanvas;return j.getContext().clear(),this.drawHit(j,void 0,!0),j.context.getImageData(Math.round(F.x),Math.round(F.y),1,1).data[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(F){var A;if(!((A=this.attrs.perfectDrawEnabled)!==null&&A!==void 0?A:!0))return!1;const B=F||this.hasFill(),X=this.hasStroke(),V=this.getAbsoluteOpacity()!==1;if(B&&X&&V)return!0;const Q=this.hasShadow(),W=this.shadowForStrokeEnabled();return!!(B&&X&&Q&&W)}setStrokeHitEnabled(F){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),F?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var F=this.size();return{x:this._centroid?-F.width/2:0,y:this._centroid?-F.height/2:0,width:F.width,height:F.height}}getClientRect(F={}){let A=!1,j=this.getParent();for(;j;){if(j.isCached()){A=!0;break}j=j.getParent()}const B=F.skipTransform,X=F.relativeTo||A&&this.getStage()||void 0,V=this.getSelfRect(),W=!F.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,y=V.width+W,P=V.height+W,R=!F.skipShadow&&this.hasShadow(),M=R?this.shadowOffsetX():0,L=R?this.shadowOffsetY():0,I=y+Math.abs(M),H=P+Math.abs(L),J=R&&this.shadowBlur()||0,z=I+J*2,v=H+J*2,k={width:z,height:v,x:-(W/2+J)+Math.min(M,0)+V.x,y:-(W/2+J)+Math.min(L,0)+V.y};return B?k:this._transformedRect(k,X)}drawScene(F,A,j){var B=this.getLayer(),X=F||B.getCanvas(),V=X.getContext(),Q=this._getCanvasCache(),W=this.getSceneFunc(),y=this.hasShadow(),P,R,M=X.isCache,L=A===this;if(!this.isVisible()&&!L)return this;if(Q){V.save();var I=this.getAbsoluteTransform(A).getMatrix();return V.transform(I[0],I[1],I[2],I[3],I[4],I[5]),this._drawCachedSceneCanvas(V),V.restore(),this}if(!W)return this;if(V.save(),this._useBufferCanvas()&&!M){P=this.getStage();const z=j||P.bufferCanvas;R=z.getContext(),R.clear(),R.save(),R._applyLineJoin(this);var H=this.getAbsoluteTransform(A).getMatrix();R.transform(H[0],H[1],H[2],H[3],H[4],H[5]),W.call(this,R,this),R.restore();var J=z.pixelRatio;y&&V._applyShadow(this),V._applyOpacity(this),V._applyGlobalCompositeOperation(this),V.drawImage(z._canvas,0,0,z.width/J,z.height/J)}else{if(V._applyLineJoin(this),!L){var H=this.getAbsoluteTransform(A).getMatrix();V.transform(H[0],H[1],H[2],H[3],H[4],H[5]),V._applyOpacity(this),V._applyGlobalCompositeOperation(this)}y&&V._applyShadow(this),W.call(this,V,this)}return V.restore(),this}drawHit(F,A,j=!1){if(!this.shouldDrawHit(A,j))return this;var B=this.getLayer(),X=F||B.hitCanvas,V=X&&X.getContext(),Q=this.hitFunc()||this.sceneFunc(),W=this._getCanvasCache(),y=W&&W.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),y){V.save();var P=this.getAbsoluteTransform(A).getMatrix();return V.transform(P[0],P[1],P[2],P[3],P[4],P[5]),this._drawCachedHitCanvas(V),V.restore(),this}if(!Q)return this;if(V.save(),V._applyLineJoin(this),!(this===A)){var M=this.getAbsoluteTransform(A).getMatrix();V.transform(M[0],M[1],M[2],M[3],M[4],M[5])}return Q.call(this,V,this),V.restore(),this}drawHitFromCache(F=0){var A=this._getCanvasCache(),j=this._getCachedSceneCanvas(),B=A.hit,X=B.getContext(),V=B.getWidth(),Q=B.getHeight(),W,y,P,R,M,L;X.clear(),X.drawImage(j._canvas,0,0,V,Q);try{for(W=X.getImageData(0,0,V,Q),y=W.data,P=y.length,R=r.Util._hexToRgb(this.colorKey),M=0;M<P;M+=4)L=y[M+3],L>F?(y[M]=R.r,y[M+1]=R.g,y[M+2]=R.b,y[M+3]=255):y[M+3]=0;X.putImageData(W,0,0)}catch(I){r.Util.error("Unable to draw hit graph from cached scene canvas. "+I.message)}return this}hasPointerCapture(F){return o.hasPointerCapture(F,this)}setPointerCapture(F){o.setPointerCapture(F,this)}releaseCapture(F){o.releaseCapture(F,this)}}e.Shape=T,T.prototype._fillFunc=_,T.prototype._strokeFunc=b,T.prototype._fillFuncHit=S,T.prototype._strokeFuncHit=C,T.prototype._centroid=!1,T.prototype.nodeType="Shape",(0,a._registerNode)(T),T.prototype.eventListeners={},T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",g),T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",x),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",O),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",D),i.Factory.addGetterSetter(T,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(T,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(T,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(T,"lineJoin"),i.Factory.addGetterSetter(T,"lineCap"),i.Factory.addGetterSetter(T,"sceneFunc"),i.Factory.addGetterSetter(T,"hitFunc"),i.Factory.addGetterSetter(T,"dash"),i.Factory.addGetterSetter(T,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(T,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(T,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternImage"),i.Factory.addGetterSetter(T,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(T,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(T,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(T,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(T,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(T,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(T,"fillEnabled",!0),i.Factory.addGetterSetter(T,"strokeEnabled",!0),i.Factory.addGetterSetter(T,"shadowEnabled",!0),i.Factory.addGetterSetter(T,"dashEnabled",!0),i.Factory.addGetterSetter(T,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(T,"fillPriority","color"),i.Factory.addComponentsGetterSetter(T,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(T,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(T,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(T,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(T,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(T,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(T,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(T,"fillPatternRotation",0),i.Factory.addGetterSetter(T,"fillRule",void 0,(0,s.getStringValidator)()),i.Factory.backCompat(T,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Bt);Object.defineProperty(Vi,"__esModule",{value:!0});Vi.Layer=void 0;const Oe=Ot,$a=Tr,Nr=kt,dl=pt,Ac=pe,Np=at,Gp=Bt,Ip=gt;var Dp="#",Up="beforeDraw",Bp="draw",ed=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Vp=ed.length;class ti extends $a.Container{constructor(t){super(t),this.canvas=new Ac.SceneCanvas,this.hitCanvas=new Ac.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),t<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[t+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Nr.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var t=Nr.Node.prototype.moveUp.call(this);if(!t)return!1;var r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Nr.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var r=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Nr.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var r=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Nr.Node.prototype.remove.call(this),t&&t.parentNode&&Oe.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:r}){return this.canvas.setSize(t,r),this.hitCanvas.setSize(t,r),this._setSmoothEnabled(),this}_validateAdd(t){var r=t.getType();r!=="Group"&&r!=="Shape"&&Oe.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Nr.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Oe.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Oe.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Oe.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var r=1,i=!1;;){for(let n=0;n<Vp;n++){const s=ed[n],a=this._getIntersection({x:t.x+s.x*r,y:t.y+s.y*r}),o=a.shape;if(o)return o;if(i=!!a.antialiased,!a.antialiased)break}if(i)r+=1;else return null}}_getIntersection(t){const r=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*r),Math.round(t.y*r),1,1).data,n=i[3];if(n===255){const s=Oe.Util._rgbToHex(i[0],i[1],i[2]),a=Gp.shapes[Dp+s];return a?{shape:a}:{antialiased:!0}}else if(n>0)return{antialiased:!0};return{}}drawScene(t,r){var i=this.getLayer(),n=t||i&&i.getCanvas();return this._fire(Up,{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),$a.Container.prototype.drawScene.call(this,n,r),this._fire(Bp,{node:this}),this}drawHit(t,r){var i=this.getLayer(),n=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),$a.Container.prototype.drawHit.call(this,n,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){Oe.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return Oe.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var t=this.parent,r=!!this.hitCanvas._canvas.parentNode;r?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Oe.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Vi.Layer=ti;ti.prototype.nodeType="Layer";(0,Ip._registerNode)(ti);dl.Factory.addGetterSetter(ti,"imageSmoothingEnabled",!0);dl.Factory.addGetterSetter(ti,"clearBeforeDraw",!0);dl.Factory.addGetterSetter(ti,"hitGraphEnabled",!0,(0,Np.getBooleanValidator)());var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.FastLayer=void 0;const jp=Ot,Hp=Vi,$p=gt;class gl extends Hp.Layer{constructor(t){super(t),this.listening(!1),jp.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Yn.FastLayer=gl;gl.prototype.nodeType="FastLayer";(0,$p._registerNode)(gl);var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.Group=void 0;const zp=Ot,Wp=Tr,qp=gt;class pl extends Wp.Container{_validateAdd(t){var r=t.getType();r!=="Group"&&r!=="Shape"&&zp.Util.throw("You may only add groups and shapes to groups.")}}ei.Group=pl;pl.prototype.nodeType="Group";(0,qp._registerNode)(pl);var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.Animation=void 0;const za=gt,Mc=Ot,Wa=function(){return za.glob.performance&&za.glob.performance.now?function(){return za.glob.performance.now()}:function(){return new Date().getTime()}}();class Ce{constructor(t,r){this.id=Ce.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Wa(),frameRate:0},this.func=t,this.setLayers(r)}setLayers(t){let r=[];return t&&(r=Array.isArray(t)?t:[t]),this.layers=r,this}getLayers(){return this.layers}addLayer(t){const r=this.layers,i=r.length;for(let n=0;n<i;n++)if(r[n]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const r=Ce.animations,i=r.length;for(let n=0;n<i;n++)if(r[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Wa(),Ce._addAnimation(this),this}stop(){return Ce._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const r=t.id,i=this.animations,n=i.length;for(let s=0;s<n;s++)if(i[s].id===r){this.animations.splice(s,1);break}}static _runFrames(){const t={},r=this.animations;for(let i=0;i<r.length;i++){const n=r[i],s=n.layers,a=n.func;n._updateFrameObject(Wa());const o=s.length;let l;if(a?l=a.call(n,n.frame)!==!1:l=!0,!!l)for(let h=0;h<o;h++){const c=s[h];c._id!==void 0&&(t[c._id]=c)}}for(let i in t)t.hasOwnProperty(i)&&t[i].batchDraw()}static _animationLoop(){const t=Ce;t.animations.length?(t._runFrames(),Mc.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Mc.Util.requestAnimFrame(this._animationLoop))}}ri.Animation=Ce;Ce.animations=[];Ce.animIdCounter=0;Ce.animRunning=!1;var rd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Ot,r=ri,i=kt,n=gt;var s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,h=0,c=["fill","stroke","shadowColor"];class u{constructor(p,_,b,S,C,g,m){this.prop=p,this.propFunc=_,this.begin=S,this._pos=S,this.duration=g,this._change=0,this.prevPos=0,this.yoyo=m,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=C-this.begin,this.pause()}fire(p){var _=this[p];_&&_()}setTime(p){p>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():p<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=p,this.update())}getTime(){return this._time}setPosition(p){this.prevPos=this._pos,this.propFunc(p),this._pos=p}getPosition(p){return p===void 0&&(p=this._time),this.func(p,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(p){this.pause(),this._time=p,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var p=this.getTimer()-this._startTime;this.state===o?this.setTime(p):this.state===l&&this.setTime(this.duration-p)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class d{constructor(p){var _=this,b=p.node,S=b._id,C,g=p.easing||e.Easings.Linear,m=!!p.yoyo,x;typeof p.duration>"u"?C=.3:p.duration===0?C=.001:C=p.duration,this.node=b,this._id=h++;var O=b.getLayer()||(b instanceof n.Konva.Stage?b.getLayers():null);O||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){_.tween.onEnterFrame()},O),this.tween=new u(x,function(D){_._tweenFunc(D)},g,0,1,C*1e3,m),this._addListeners(),d.attrs[S]||(d.attrs[S]={}),d.attrs[S][this._id]||(d.attrs[S][this._id]={}),d.tweens[S]||(d.tweens[S]={});for(x in p)s[x]===void 0&&this._addAttr(x,p[x]);this.reset(),this.onFinish=p.onFinish,this.onReset=p.onReset,this.onUpdate=p.onUpdate}_addAttr(p,_){var b=this.node,S=b._id,C,g,m,x,O,D,T,N;if(m=d.tweens[S][p],m&&delete d.attrs[S][m][p],C=b.getAttr(p),t.Util._isArray(_))if(g=[],O=Math.max(_.length,C.length),p==="points"&&_.length!==C.length&&(_.length>C.length?(T=C,C=t.Util._prepareArrayForTween(C,_,b.closed())):(D=_,_=t.Util._prepareArrayForTween(_,C,b.closed()))),p.indexOf("fill")===0)for(x=0;x<O;x++)if(x%2===0)g.push(_[x]-C[x]);else{var F=t.Util.colorToRGBA(C[x]);N=t.Util.colorToRGBA(_[x]),C[x]=F,g.push({r:N.r-F.r,g:N.g-F.g,b:N.b-F.b,a:N.a-F.a})}else for(x=0;x<O;x++)g.push(_[x]-C[x]);else c.indexOf(p)!==-1?(C=t.Util.colorToRGBA(C),N=t.Util.colorToRGBA(_),g={r:N.r-C.r,g:N.g-C.g,b:N.b-C.b,a:N.a-C.a}):g=_-C;d.attrs[S][this._id][p]={start:C,diff:g,end:_,trueEnd:D,trueStart:T},d.tweens[S][p]=this._id}_tweenFunc(p){var _=this.node,b=d.attrs[_._id][this._id],S,C,g,m,x,O,D,T;for(S in b){if(C=b[S],g=C.start,m=C.diff,T=C.end,t.Util._isArray(g))if(x=[],D=Math.max(g.length,T.length),S.indexOf("fill")===0)for(O=0;O<D;O++)O%2===0?x.push((g[O]||0)+m[O]*p):x.push("rgba("+Math.round(g[O].r+m[O].r*p)+","+Math.round(g[O].g+m[O].g*p)+","+Math.round(g[O].b+m[O].b*p)+","+(g[O].a+m[O].a*p)+")");else for(O=0;O<D;O++)x.push((g[O]||0)+m[O]*p);else c.indexOf(S)!==-1?x="rgba("+Math.round(g.r+m.r*p)+","+Math.round(g.g+m.g*p)+","+Math.round(g.b+m.b*p)+","+(g.a+m.a*p)+")":x=g+m*p;_.setAttr(S,x)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var p=this.node,_=d.attrs[p._id][this._id];_.points&&_.points.trueEnd&&p.setAttr("points",_.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var p=this.node,_=d.attrs[p._id][this._id];_.points&&_.points.trueStart&&p.points(_.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(p){return this.tween.seek(p*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var p=this.node._id,_=this._id,b=d.tweens[p],S;this.pause();for(S in b)delete d.tweens[p][S];delete d.attrs[p][_]}}e.Tween=d,d.attrs={},d.tweens={},i.Node.prototype.to=function(f){var p=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),p&&p()};var _=new d(f);_.play()},e.Easings={BackEaseIn(f,p,_,b){var S=1.70158;return _*(f/=b)*f*((S+1)*f-S)+p},BackEaseOut(f,p,_,b){var S=1.70158;return _*((f=f/b-1)*f*((S+1)*f+S)+1)+p},BackEaseInOut(f,p,_,b){var S=1.70158;return(f/=b/2)<1?_/2*(f*f*(((S*=1.525)+1)*f-S))+p:_/2*((f-=2)*f*(((S*=1.525)+1)*f+S)+2)+p},ElasticEaseIn(f,p,_,b,S,C){var g=0;return f===0?p:(f/=b)===1?p+_:(C||(C=b*.3),!S||S<Math.abs(_)?(S=_,g=C/4):g=C/(2*Math.PI)*Math.asin(_/S),-(S*Math.pow(2,10*(f-=1))*Math.sin((f*b-g)*(2*Math.PI)/C))+p)},ElasticEaseOut(f,p,_,b,S,C){var g=0;return f===0?p:(f/=b)===1?p+_:(C||(C=b*.3),!S||S<Math.abs(_)?(S=_,g=C/4):g=C/(2*Math.PI)*Math.asin(_/S),S*Math.pow(2,-10*f)*Math.sin((f*b-g)*(2*Math.PI)/C)+_+p)},ElasticEaseInOut(f,p,_,b,S,C){var g=0;return f===0?p:(f/=b/2)===2?p+_:(C||(C=b*(.3*1.5)),!S||S<Math.abs(_)?(S=_,g=C/4):g=C/(2*Math.PI)*Math.asin(_/S),f<1?-.5*(S*Math.pow(2,10*(f-=1))*Math.sin((f*b-g)*(2*Math.PI)/C))+p:S*Math.pow(2,-10*(f-=1))*Math.sin((f*b-g)*(2*Math.PI)/C)*.5+_+p)},BounceEaseOut(f,p,_,b){return(f/=b)<1/2.75?_*(7.5625*f*f)+p:f<2/2.75?_*(7.5625*(f-=1.5/2.75)*f+.75)+p:f<2.5/2.75?_*(7.5625*(f-=2.25/2.75)*f+.9375)+p:_*(7.5625*(f-=2.625/2.75)*f+.984375)+p},BounceEaseIn(f,p,_,b){return _-e.Easings.BounceEaseOut(b-f,0,_,b)+p},BounceEaseInOut(f,p,_,b){return f<b/2?e.Easings.BounceEaseIn(f*2,0,_,b)*.5+p:e.Easings.BounceEaseOut(f*2-b,0,_,b)*.5+_*.5+p},EaseIn(f,p,_,b){return _*(f/=b)*f+p},EaseOut(f,p,_,b){return-_*(f/=b)*(f-2)+p},EaseInOut(f,p,_,b){return(f/=b/2)<1?_/2*f*f+p:-_/2*(--f*(f-2)-1)+p},StrongEaseIn(f,p,_,b){return _*(f/=b)*f*f*f*f+p},StrongEaseOut(f,p,_,b){return _*((f=f/b-1)*f*f*f*f+1)+p},StrongEaseInOut(f,p,_,b){return(f/=b/2)<1?_/2*f*f*f*f*f+p:_/2*((f-=2)*f*f*f*f+2)+p},Linear(f,p,_,b){return _*f/b+p}}})(rd);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=gt,r=Ot,i=kt,n=Tr,s=Jf,a=Vi,o=Yn,l=ei,h=qn,c=Bt,u=ri,d=rd,f=Ie,p=pe;e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:n.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:h.DD,Shape:c.Shape,shapes:c.shapes,Animation:u.Animation,Tween:d.Tween,Easings:d.Easings,Context:f.Context,Canvas:p.Canvas}),e.default=e.Konva})(Kf);var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.Arc=void 0;const Qn=pt,Kp=Bt,kc=gt,Jn=at,Yp=gt;class Ve extends Kp.Shape{_sceneFunc(t){var r=kc.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,r,i),t.arc(0,0,this.innerRadius(),r,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),r=this.outerRadius(),i=this.clockwise(),n=kc.Konva.getAngle(i?360-this.angle():this.angle()),s=Math.cos(Math.min(n,Math.PI)),a=1,o=Math.sin(Math.min(Math.max(Math.PI,n),3*Math.PI/2)),l=Math.sin(Math.min(n,Math.PI/2)),h=s*(s>0?t:r),c=a*r,u=o*(o>0?t:r),d=l*(l>0?r:t);return{x:h,y:i?-1*d:u,width:c-h,height:d-u}}}Xn.Arc=Ve;Ve.prototype._centroid=!0;Ve.prototype.className="Arc";Ve.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Yp._registerNode)(Ve);Qn.Factory.addGetterSetter(Ve,"innerRadius",0,(0,Jn.getNumberValidator)());Qn.Factory.addGetterSetter(Ve,"outerRadius",0,(0,Jn.getNumberValidator)());Qn.Factory.addGetterSetter(Ve,"angle",0,(0,Jn.getNumberValidator)());Qn.Factory.addGetterSetter(Ve,"clockwise",!1,(0,Jn.getBooleanValidator)());var Zn={},ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.Line=void 0;const ts=pt,Xp=Bt,id=at,Qp=gt;function Co(e,t,r,i,n,s,a){var o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-t,2)),l=Math.sqrt(Math.pow(n-r,2)+Math.pow(s-i,2)),h=a*o/(o+l),c=a*l/(o+l),u=r-h*(n-e),d=i-h*(s-t),f=r+c*(n-e),p=i+c*(s-t);return[u,d,f,p]}function Oc(e,t){var r=e.length,i=[],n,s;for(n=2;n<r-2;n+=2)s=Co(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t),!isNaN(s[0])&&(i.push(s[0]),i.push(s[1]),i.push(e[n]),i.push(e[n+1]),i.push(s[2]),i.push(s[3]));return i}class sr extends Xp.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var r=this.points(),i=r.length,n=this.tension(),s=this.closed(),a=this.bezier(),o,l,h;if(i){if(t.beginPath(),t.moveTo(r[0],r[1]),n!==0&&i>4){for(o=this.getTensionPoints(),l=o.length,h=s?0:4,s||t.quadraticCurveTo(o[0],o[1],o[2],o[3]);h<l-2;)t.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);s||t.quadraticCurveTo(o[l-2],o[l-1],r[i-2],r[i-1])}else if(a)for(h=2;h<i;)t.bezierCurveTo(r[h++],r[h++],r[h++],r[h++],r[h++],r[h++]);else for(h=2;h<i;h+=2)t.lineTo(r[h],r[h+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Oc(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),r=t.length,i=this.tension(),n=Co(t[r-2],t[r-1],t[0],t[1],t[2],t[3],i),s=Co(t[r-4],t[r-3],t[r-2],t[r-1],t[0],t[1],i),a=Oc(t,i),o=[n[2],n[3]].concat(a).concat([s[0],s[1],t[r-2],t[r-1],s[2],s[3],n[0],n[1],t[0],t[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();for(var r=t[0],i=t[0],n=t[1],s=t[1],a,o,l=0;l<t.length/2;l++)a=t[l*2],o=t[l*2+1],r=Math.min(r,a),i=Math.max(i,a),n=Math.min(n,o),s=Math.max(s,o);return{x:r,y:n,width:i-r,height:s-n}}}ji.Line=sr;sr.prototype.className="Line";sr.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Qp._registerNode)(sr);ts.Factory.addGetterSetter(sr,"closed",!1);ts.Factory.addGetterSetter(sr,"bezier",!1);ts.Factory.addGetterSetter(sr,"tension",0,(0,id.getNumberValidator)());ts.Factory.addGetterSetter(sr,"points",[],(0,id.getNumberArrayValidator)());var ii={},nd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(a,o,l)=>{let h,c,u;h=l/2,c=0;for(let f=0;f<20;f++)u=h*e.tValues[20][f]+h,c+=e.cValues[20][f]*i(a,o,u);return h*c};e.getCubicArcLength=t;const r=(a,o,l)=>{l===void 0&&(l=1);const h=a[0]-2*a[1]+a[2],c=o[0]-2*o[1]+o[2],u=2*a[1]-2*a[0],d=2*o[1]-2*o[0],f=4*(h*h+c*c),p=4*(h*u+c*d),_=u*u+d*d;if(f===0)return l*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const b=p/(2*f),S=_/f,C=l+b,g=S-b*b,m=C*C+g>0?Math.sqrt(C*C+g):0,x=b*b+g>0?Math.sqrt(b*b+g):0,O=b+Math.sqrt(b*b+g)!==0?g*Math.log(Math.abs((C+m)/(b+x))):0;return Math.sqrt(f)/2*(C*m-b*x+O)};e.getQuadraticArcLength=r;function i(a,o,l){const h=n(1,l,a),c=n(1,l,o),u=h*h+c*c;return Math.sqrt(u)}const n=(a,o,l)=>{const h=l.length-1;let c,u;if(h===0)return 0;if(a===0){u=0;for(let d=0;d<=h;d++)u+=e.binomialCoefficients[h][d]*Math.pow(1-o,h-d)*Math.pow(o,d)*l[d];return u}else{c=new Array(h);for(let d=0;d<h;d++)c[d]=h*(l[d+1]-l[d]);return n(a-1,o,c)}},s=(a,o,l)=>{let h=1,c=a/o,u=(a-l(c))/o,d=0;for(;h>.001;){const f=l(c+u),p=Math.abs(a-f)/o;if(p<h)h=p,c+=u;else{const _=l(c-u),b=Math.abs(a-_)/o;b<h?(h=b,c-=u):u/=2}if(d++,d>500)break}return c};e.t2length=s})(nd);Object.defineProperty(ii,"__esModule",{value:!0});ii.Path=void 0;const Jp=pt,Zp=Bt,tv=gt,Gr=nd;class Dt extends Zp.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Dt.parsePathData(this.data()),this.pathLength=Dt.getPathLength(this.dataArray)}_sceneFunc(t){var r=this.dataArray;t.beginPath();for(var i=!1,n=0;n<r.length;n++){var s=r[n].command,a=r[n].points;switch(s){case"L":t.lineTo(a[0],a[1]);break;case"M":t.moveTo(a[0],a[1]);break;case"C":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":var o=a[0],l=a[1],h=a[2],c=a[3],u=a[4],d=a[5],f=a[6],p=a[7],_=h>c?h:c,b=h>c?1:h/c,S=h>c?c/h:1;t.translate(o,l),t.rotate(f),t.scale(b,S),t.arc(0,0,_,u,u+d,1-p),t.scale(1/b,1/S),t.rotate(-f),t.translate(-o,-l);break;case"z":i=!0,t.closePath();break}}!i&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach(function(h){if(h.command==="A"){var c=h.points[4],u=h.points[5],d=h.points[4]+u,f=Math.PI/180;if(Math.abs(c-d)<f&&(f=Math.abs(c-d)),u<0)for(let p=c-f;p>d;p-=f){const _=Dt.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],p,0);t.push(_.x,_.y)}else for(let p=c+f;p<d;p+=f){const _=Dt.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],p,0);t.push(_.x,_.y)}}else if(h.command==="C")for(let p=0;p<=1;p+=.01){const _=Dt.getPointOnCubicBezier(p,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);t.push(_.x,_.y)}else t=t.concat(h.points)});for(var r=t[0],i=t[0],n=t[1],s=t[1],a,o,l=0;l<t.length/2;l++)a=t[l*2],o=t[l*2+1],isNaN(a)||(r=Math.min(r,a),i=Math.max(i,a)),isNaN(o)||(n=Math.min(n,o),s=Math.max(s,o));return{x:r,y:n,width:i-r,height:s-n}}getLength(){return this.pathLength}getPointAtLength(t){return Dt.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,r,i,n){return Math.sqrt((i-t)*(i-t)+(n-r)*(n-r))}static getPathLength(t){let r=0;for(var i=0;i<t.length;++i)r+=t[i].pathLength;return r}static getPointAtLengthOfDataArray(t,r){var i,n=0,s=r.length;if(!s)return null;for(;n<s&&t>r[n].pathLength;)t-=r[n].pathLength,++n;if(n===s)return i=r[n-1].points.slice(-2),{x:i[0],y:i[1]};if(t<.01)return i=r[n].points.slice(0,2),{x:i[0],y:i[1]};var a=r[n],o=a.points;switch(a.command){case"L":return Dt.getPointOnLine(t,a.start.x,a.start.y,o[0],o[1]);case"C":return Dt.getPointOnCubicBezier((0,Gr.t2length)(t,Dt.getPathLength(r),_=>(0,Gr.getCubicArcLength)([a.start.x,o[0],o[2],o[4]],[a.start.y,o[1],o[3],o[5]],_)),a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Dt.getPointOnQuadraticBezier((0,Gr.t2length)(t,Dt.getPathLength(r),_=>(0,Gr.getQuadraticArcLength)([a.start.x,o[0],o[2]],[a.start.y,o[1],o[3]],_)),a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":var l=o[0],h=o[1],c=o[2],u=o[3],d=o[4],f=o[5],p=o[6];return d+=f*t/a.pathLength,Dt.getPointOnEllipticalArc(l,h,c,u,d,p)}return null}static getPointOnLine(t,r,i,n,s,a,o){a=a??r,o=o??i;const l=this.getLineLength(r,i,n,s);if(l<1e-10)return{x:r,y:i};if(n===r)return{x:a,y:o+(s>i?t:-t)};const h=(s-i)/(n-r),c=Math.sqrt(t*t/(1+h*h))*(n<r?-1:1),u=h*c;if(Math.abs(o-i-h*(a-r))<1e-10)return{x:a+c,y:o+u};const d=((a-r)*(n-r)+(o-i)*(s-i))/(l*l),f=r+d*(n-r),p=i+d*(s-i),_=this.getLineLength(a,o,f,p),b=Math.sqrt(t*t-_*_),S=Math.sqrt(b*b/(1+h*h))*(n<r?-1:1),C=h*S;return{x:f+S,y:p+C}}static getPointOnCubicBezier(t,r,i,n,s,a,o,l,h){function c(b){return b*b*b}function u(b){return 3*b*b*(1-b)}function d(b){return 3*b*(1-b)*(1-b)}function f(b){return(1-b)*(1-b)*(1-b)}var p=l*c(t)+a*u(t)+n*d(t)+r*f(t),_=h*c(t)+o*u(t)+s*d(t)+i*f(t);return{x:p,y:_}}static getPointOnQuadraticBezier(t,r,i,n,s,a,o){function l(f){return f*f}function h(f){return 2*f*(1-f)}function c(f){return(1-f)*(1-f)}var u=a*l(t)+n*h(t)+r*c(t),d=o*l(t)+s*h(t)+i*c(t);return{x:u,y:d}}static getPointOnEllipticalArc(t,r,i,n,s,a){var o=Math.cos(a),l=Math.sin(a),h={x:i*Math.cos(s),y:n*Math.sin(s)};return{x:t+(h.x*o-h.y*l),y:r+(h.x*l+h.y*o)}}static parsePathData(t){if(!t)return[];var r=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var n=0;n<i.length;n++)r=r.replace(new RegExp(i[n],"g"),"|"+i[n]);var s=r.split("|"),a=[],o=[],l=0,h=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u;for(n=1;n<s.length;n++){var d=s[n],f=d.charAt(0);for(d=d.slice(1),o.length=0;u=c.exec(d);)o.push(u[0]);for(var p=[],_=0,b=o.length;_<b;_++){if(o[_]==="00"){p.push(0,0);continue}var S=parseFloat(o[_]);isNaN(S)?p.push(0):p.push(S)}for(;p.length>0&&!isNaN(p[0]);){var C="",g=[],m=l,x=h,O,D,T,N,F,A,j,B,X,V;switch(f){case"l":l+=p.shift(),h+=p.shift(),C="L",g.push(l,h);break;case"L":l=p.shift(),h=p.shift(),g.push(l,h);break;case"m":var Q=p.shift(),W=p.shift();if(l+=Q,h+=W,C="M",a.length>2&&a[a.length-1].command==="z"){for(var y=a.length-2;y>=0;y--)if(a[y].command==="M"){l=a[y].points[0]+Q,h=a[y].points[1]+W;break}}g.push(l,h),f="l";break;case"M":l=p.shift(),h=p.shift(),C="M",g.push(l,h),f="L";break;case"h":l+=p.shift(),C="L",g.push(l,h);break;case"H":l=p.shift(),C="L",g.push(l,h);break;case"v":h+=p.shift(),C="L",g.push(l,h);break;case"V":h=p.shift(),C="L",g.push(l,h);break;case"C":g.push(p.shift(),p.shift(),p.shift(),p.shift()),l=p.shift(),h=p.shift(),g.push(l,h);break;case"c":g.push(l+p.shift(),h+p.shift(),l+p.shift(),h+p.shift()),l+=p.shift(),h+=p.shift(),C="C",g.push(l,h);break;case"S":D=l,T=h,O=a[a.length-1],O.command==="C"&&(D=l+(l-O.points[2]),T=h+(h-O.points[3])),g.push(D,T,p.shift(),p.shift()),l=p.shift(),h=p.shift(),C="C",g.push(l,h);break;case"s":D=l,T=h,O=a[a.length-1],O.command==="C"&&(D=l+(l-O.points[2]),T=h+(h-O.points[3])),g.push(D,T,l+p.shift(),h+p.shift()),l+=p.shift(),h+=p.shift(),C="C",g.push(l,h);break;case"Q":g.push(p.shift(),p.shift()),l=p.shift(),h=p.shift(),g.push(l,h);break;case"q":g.push(l+p.shift(),h+p.shift()),l+=p.shift(),h+=p.shift(),C="Q",g.push(l,h);break;case"T":D=l,T=h,O=a[a.length-1],O.command==="Q"&&(D=l+(l-O.points[0]),T=h+(h-O.points[1])),l=p.shift(),h=p.shift(),C="Q",g.push(D,T,l,h);break;case"t":D=l,T=h,O=a[a.length-1],O.command==="Q"&&(D=l+(l-O.points[0]),T=h+(h-O.points[1])),l+=p.shift(),h+=p.shift(),C="Q",g.push(D,T,l,h);break;case"A":N=p.shift(),F=p.shift(),A=p.shift(),j=p.shift(),B=p.shift(),X=l,V=h,l=p.shift(),h=p.shift(),C="A",g=this.convertEndpointToCenterParameterization(X,V,l,h,j,B,N,F,A);break;case"a":N=p.shift(),F=p.shift(),A=p.shift(),j=p.shift(),B=p.shift(),X=l,V=h,l+=p.shift(),h+=p.shift(),C="A",g=this.convertEndpointToCenterParameterization(X,V,l,h,j,B,N,F,A);break}a.push({command:C||f,points:g,start:{x:m,y:x},pathLength:this.calcLength(m,x,C||f,g)})}(f==="z"||f==="Z")&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(t,r,i,n){var s,a,o,l,h=Dt;switch(i){case"L":return h.getLineLength(t,r,n[0],n[1]);case"C":return(0,Gr.getCubicArcLength)([t,n[0],n[2],n[4]],[r,n[1],n[3],n[5]],1);case"Q":return(0,Gr.getQuadraticArcLength)([t,n[0],n[2]],[r,n[1],n[3]],1);case"A":s=0;var c=n[4],u=n[5],d=n[4]+u,f=Math.PI/180;if(Math.abs(c-d)<f&&(f=Math.abs(c-d)),a=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),u<0)for(l=c-f;l>d;l-=f)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),s+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(l=c+f;l<d;l+=f)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),s+=h.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],d,0),s+=h.getLineLength(a.x,a.y,o.x,o.y),s}return 0}static convertEndpointToCenterParameterization(t,r,i,n,s,a,o,l,h){var c=h*(Math.PI/180),u=Math.cos(c)*(t-i)/2+Math.sin(c)*(r-n)/2,d=-1*Math.sin(c)*(t-i)/2+Math.cos(c)*(r-n)/2,f=u*u/(o*o)+d*d/(l*l);f>1&&(o*=Math.sqrt(f),l*=Math.sqrt(f));var p=Math.sqrt((o*o*(l*l)-o*o*(d*d)-l*l*(u*u))/(o*o*(d*d)+l*l*(u*u)));s===a&&(p*=-1),isNaN(p)&&(p=0);var _=p*o*d/l,b=p*-l*u/o,S=(t+i)/2+Math.cos(c)*_-Math.sin(c)*b,C=(r+n)/2+Math.sin(c)*_+Math.cos(c)*b,g=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},m=function(F,A){return(F[0]*A[0]+F[1]*A[1])/(g(F)*g(A))},x=function(F,A){return(F[0]*A[1]<F[1]*A[0]?-1:1)*Math.acos(m(F,A))},O=x([1,0],[(u-_)/o,(d-b)/l]),D=[(u-_)/o,(d-b)/l],T=[(-1*u-_)/o,(-1*d-b)/l],N=x(D,T);return m(D,T)<=-1&&(N=Math.PI),m(D,T)>=1&&(N=0),a===0&&N>0&&(N=N-2*Math.PI),a===1&&N<0&&(N=N+2*Math.PI),[S,C,o,l,O,N,c,a]}}ii.Path=Dt;Dt.prototype.className="Path";Dt.prototype._attrsAffectingSize=["data"];(0,tv._registerNode)(Dt);Jp.Factory.addGetterSetter(Dt,"data");Object.defineProperty(Zn,"__esModule",{value:!0});Zn.Arrow=void 0;const es=pt,ev=ji,sd=at,rv=gt,Fc=ii;class Pr extends ev.Line{_sceneFunc(t){super._sceneFunc(t);var r=Math.PI*2,i=this.points(),n=i,s=this.tension()!==0&&i.length>4;s&&(n=this.getTensionPoints());var a=this.pointerLength(),o=i.length,l,h;if(s){const d=[n[n.length-4],n[n.length-3],n[n.length-2],n[n.length-1],i[o-2],i[o-1]],f=Fc.Path.calcLength(n[n.length-4],n[n.length-3],"C",d),p=Fc.Path.getPointOnQuadraticBezier(Math.min(1,1-a/f),d[0],d[1],d[2],d[3],d[4],d[5]);l=i[o-2]-p.x,h=i[o-1]-p.y}else l=i[o-2]-i[o-4],h=i[o-1]-i[o-3];var c=(Math.atan2(h,l)+r)%r,u=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[o-2],i[o-1]),t.rotate(c),t.moveTo(0,0),t.lineTo(-a,u/2),t.lineTo(-a,-u/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),s?(l=(n[0]+n[2])/2-i[0],h=(n[1]+n[3])/2-i[1]):(l=i[2]-i[0],h=i[3]-i[1]),t.rotate((Math.atan2(-h,-l)+r)%r),t.moveTo(0,0),t.lineTo(-a,u/2),t.lineTo(-a,-u/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),r=this.pointerWidth()/2;return{x:t.x-r,y:t.y-r,width:t.width+r*2,height:t.height+r*2}}}Zn.Arrow=Pr;Pr.prototype.className="Arrow";(0,rv._registerNode)(Pr);es.Factory.addGetterSetter(Pr,"pointerLength",10,(0,sd.getNumberValidator)());es.Factory.addGetterSetter(Pr,"pointerWidth",10,(0,sd.getNumberValidator)());es.Factory.addGetterSetter(Pr,"pointerAtBeginning",!1);es.Factory.addGetterSetter(Pr,"pointerAtEnding",!0);var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.Circle=void 0;const iv=pt,nv=Bt,sv=at,av=gt;class ni extends nv.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}rs.Circle=ni;ni.prototype._centroid=!0;ni.prototype.className="Circle";ni.prototype._attrsAffectingSize=["radius"];(0,av._registerNode)(ni);iv.Factory.addGetterSetter(ni,"radius",0,(0,sv.getNumberValidator)());var is={};Object.defineProperty(is,"__esModule",{value:!0});is.Ellipse=void 0;const vl=pt,ov=Bt,ad=at,lv=gt;class ar extends ov.Shape{_sceneFunc(t){var r=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),r!==i&&t.scale(1,i/r),t.arc(0,0,r,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}is.Ellipse=ar;ar.prototype.className="Ellipse";ar.prototype._centroid=!0;ar.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,lv._registerNode)(ar);vl.Factory.addComponentsGetterSetter(ar,"radius",["x","y"]);vl.Factory.addGetterSetter(ar,"radiusX",0,(0,ad.getNumberValidator)());vl.Factory.addGetterSetter(ar,"radiusY",0,(0,ad.getNumberValidator)());var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.Image=void 0;const qa=Ot,Rr=pt,hv=Bt,cv=gt,Hi=at;class he extends hv.Shape{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const t=!!this.cornerRadius(),r=this.hasShadow();return t&&r?!0:super._useBufferCanvas(!0)}_sceneFunc(t){const r=this.getWidth(),i=this.getHeight(),n=this.cornerRadius(),s=this.attrs.image;let a;if(s){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?a=[s,this.cropX(),this.cropY(),o,l,0,0,r,i]:a=[s,0,0,r,i]}(this.hasFill()||this.hasStroke()||n)&&(t.beginPath(),n?qa.Util.drawRoundedRectPath(t,r,i,n):t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)),s&&(n&&t.clip(),t.drawImage.apply(t,a))}_hitFunc(t){var r=this.width(),i=this.height(),n=this.cornerRadius();t.beginPath(),n?qa.Util.drawRoundedRectPath(t,r,i,n):t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,r;return(t=this.attrs.width)!==null&&t!==void 0?t:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var t,r;return(t=this.attrs.height)!==null&&t!==void 0?t:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(t,r,i=null){var n=qa.Util.createImageElement();n.onload=function(){var s=new he({image:n});r(s)},n.onerror=i,n.crossOrigin="Anonymous",n.src=t}}ns.Image=he;he.prototype.className="Image";(0,cv._registerNode)(he);Rr.Factory.addGetterSetter(he,"cornerRadius",0,(0,Hi.getNumberOrArrayOfNumbersValidator)(4));Rr.Factory.addGetterSetter(he,"image");Rr.Factory.addComponentsGetterSetter(he,"crop",["x","y","width","height"]);Rr.Factory.addGetterSetter(he,"cropX",0,(0,Hi.getNumberValidator)());Rr.Factory.addGetterSetter(he,"cropY",0,(0,Hi.getNumberValidator)());Rr.Factory.addGetterSetter(he,"cropWidth",0,(0,Hi.getNumberValidator)());Rr.Factory.addGetterSetter(he,"cropHeight",0,(0,Hi.getNumberValidator)());var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Tag=Kr.Label=void 0;const ss=pt,uv=Bt,fv=ei,ml=at,od=gt;var ld=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],dv="Change.konva",gv="none",To="up",Eo="right",Po="down",Ro="left",pv=ld.length;class _l extends fv.Group{constructor(t){super(t),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var r=this,i,n=function(){r._sync()};for(i=0;i<pv;i++)t.on(ld[i]+dv,n)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t=this.getText(),r=this.getTag(),i,n,s,a,o,l,h;if(t&&r){switch(i=t.width(),n=t.height(),s=r.pointerDirection(),a=r.pointerWidth(),h=r.pointerHeight(),o=0,l=0,s){case To:o=i/2,l=-1*h;break;case Eo:o=i+a,l=n/2;break;case Po:o=i/2,l=n+h;break;case Ro:o=-1*a,l=n/2;break}r.setAttrs({x:-1*o,y:-1*l,width:i,height:n}),t.setAttrs({x:-1*o,y:-1*l})}}}Kr.Label=_l;_l.prototype.className="Label";(0,od._registerNode)(_l);class Ar extends uv.Shape{_sceneFunc(t){var r=this.width(),i=this.height(),n=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),o=this.cornerRadius();let l=0,h=0,c=0,u=0;typeof o=="number"?l=h=c=u=Math.min(o,r/2,i/2):(l=Math.min(o[0]||0,r/2,i/2),h=Math.min(o[1]||0,r/2,i/2),u=Math.min(o[2]||0,r/2,i/2),c=Math.min(o[3]||0,r/2,i/2)),t.beginPath(),t.moveTo(l,0),n===To&&(t.lineTo((r-s)/2,0),t.lineTo(r/2,-1*a),t.lineTo((r+s)/2,0)),t.lineTo(r-h,0),t.arc(r-h,h,h,Math.PI*3/2,0,!1),n===Eo&&(t.lineTo(r,(i-a)/2),t.lineTo(r+s,i/2),t.lineTo(r,(i+a)/2)),t.lineTo(r,i-u),t.arc(r-u,i-u,u,0,Math.PI/2,!1),n===Po&&(t.lineTo((r+s)/2,i),t.lineTo(r/2,i+a),t.lineTo((r-s)/2,i)),t.lineTo(c,i),t.arc(c,i-c,c,Math.PI/2,Math.PI,!1),n===Ro&&(t.lineTo(0,(i+a)/2),t.lineTo(-1*s,i/2),t.lineTo(0,(i-a)/2)),t.lineTo(0,l),t.arc(l,l,l,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,r=0,i=this.pointerWidth(),n=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),o=this.height();return s===To?(r-=n,o+=n):s===Po?o+=n:s===Ro?(t-=i*1.5,a+=i):s===Eo&&(a+=i*1.5),{x:t,y:r,width:a,height:o}}}Kr.Tag=Ar;Ar.prototype.className="Tag";(0,od._registerNode)(Ar);ss.Factory.addGetterSetter(Ar,"pointerDirection",gv);ss.Factory.addGetterSetter(Ar,"pointerWidth",0,(0,ml.getNumberValidator)());ss.Factory.addGetterSetter(Ar,"pointerHeight",0,(0,ml.getNumberValidator)());ss.Factory.addGetterSetter(Ar,"cornerRadius",0,(0,ml.getNumberOrArrayOfNumbersValidator)(4));var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.Rect=void 0;const vv=pt,mv=Bt,_v=gt,yv=Ot,bv=at;class as extends mv.Shape{_sceneFunc(t){var r=this.cornerRadius(),i=this.width(),n=this.height();t.beginPath(),r?yv.Util.drawRoundedRectPath(t,i,n,r):t.rect(0,0,i,n),t.closePath(),t.fillStrokeShape(this)}}$i.Rect=as;as.prototype.className="Rect";(0,_v._registerNode)(as);vv.Factory.addGetterSetter(as,"cornerRadius",0,(0,bv.getNumberOrArrayOfNumbersValidator)(4));var os={};Object.defineProperty(os,"__esModule",{value:!0});os.RegularPolygon=void 0;const hd=pt,Sv=Bt,cd=at,wv=gt;class Mr extends Sv.Shape{_sceneFunc(t){const r=this._getPoints();t.beginPath(),t.moveTo(r[0].x,r[0].y);for(var i=1;i<r.length;i++)t.lineTo(r[i].x,r[i].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,r=this.attrs.radius||0,i=[];for(var n=0;n<t;n++)i.push({x:r*Math.sin(n*2*Math.PI/t),y:-1*r*Math.cos(n*2*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();var r=t[0].x,i=t[0].y,n=t[0].x,s=t[0].y;return t.forEach(a=>{r=Math.min(r,a.x),i=Math.max(i,a.x),n=Math.min(n,a.y),s=Math.max(s,a.y)}),{x:r,y:n,width:i-r,height:s-n}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}os.RegularPolygon=Mr;Mr.prototype.className="RegularPolygon";Mr.prototype._centroid=!0;Mr.prototype._attrsAffectingSize=["radius"];(0,wv._registerNode)(Mr);hd.Factory.addGetterSetter(Mr,"radius",0,(0,cd.getNumberValidator)());hd.Factory.addGetterSetter(Mr,"sides",0,(0,cd.getNumberValidator)());var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.Ring=void 0;const ud=pt,xv=Bt,fd=at,Cv=gt;var Lc=Math.PI*2;class kr extends xv.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,Lc,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),Lc,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}ls.Ring=kr;kr.prototype.className="Ring";kr.prototype._centroid=!0;kr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Cv._registerNode)(kr);ud.Factory.addGetterSetter(kr,"innerRadius",0,(0,fd.getNumberValidator)());ud.Factory.addGetterSetter(kr,"outerRadius",0,(0,fd.getNumberValidator)());var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.Sprite=void 0;const Or=pt,Tv=Bt,Ev=ri,dd=at,Pv=gt;class Ae extends Tv.Shape{constructor(t){super(t),this._updated=!0,this.anim=new Ev.Animation(()=>{var r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){var r=this.animation(),i=this.frameIndex(),n=i*4,s=this.animations()[r],a=this.frameOffsets(),o=s[n+0],l=s[n+1],h=s[n+2],c=s[n+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,h,c),t.closePath(),t.fillStrokeShape(this)),u)if(a){var d=a[r],f=i*2;t.drawImage(u,o,l,h,c,d[f+0],d[f+1],h,c)}else t.drawImage(u,o,l,h,c,0,0,h,c)}_hitFunc(t){var r=this.animation(),i=this.frameIndex(),n=i*4,s=this.animations()[r],a=this.frameOffsets(),o=s[n+2],l=s[n+3];if(t.beginPath(),a){var h=a[r],c=i*2;t.rect(h[c+0],h[c+1],o,l)}else t.rect(0,0,o,l);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),r=this.animation(),i=this.animations(),n=i[r],s=n.length/4;t<s-1?this.frameIndex(t+1):this.frameIndex(0)}}hs.Sprite=Ae;Ae.prototype.className="Sprite";(0,Pv._registerNode)(Ae);Or.Factory.addGetterSetter(Ae,"animation");Or.Factory.addGetterSetter(Ae,"animations");Or.Factory.addGetterSetter(Ae,"frameOffsets");Or.Factory.addGetterSetter(Ae,"image");Or.Factory.addGetterSetter(Ae,"frameIndex",0,(0,dd.getNumberValidator)());Or.Factory.addGetterSetter(Ae,"frameRate",17,(0,dd.getNumberValidator)());Or.Factory.backCompat(Ae,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.Star=void 0;const yl=pt,Rv=Bt,bl=at,Av=gt;class or extends Rv.Shape{_sceneFunc(t){var r=this.innerRadius(),i=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var s=1;s<n*2;s++){var a=s%2===0?i:r,o=a*Math.sin(s*Math.PI/n),l=-1*a*Math.cos(s*Math.PI/n);t.lineTo(o,l)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}cs.Star=or;or.prototype.className="Star";or.prototype._centroid=!0;or.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Av._registerNode)(or);yl.Factory.addGetterSetter(or,"numPoints",5,(0,bl.getNumberValidator)());yl.Factory.addGetterSetter(or,"innerRadius",0,(0,bl.getNumberValidator)());yl.Factory.addGetterSetter(or,"outerRadius",0,(0,bl.getNumberValidator)());var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.Text=yr.stringToArray=void 0;const Ao=Ot,Kt=pt,Mv=Bt,Ka=gt,lr=at,kv=gt;function gd(e){return[...e].reduce((t,r,i,n)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test(r)?t.push(r):new RegExp("\\p{Regional_Indicator}{2}","u").test(r+(n[i+1]||""))?t.push(r+n[i+1]):i>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(r)?t[t.length-1]+=r:t.push(r),t),[])}yr.stringToArray=gd;var Ir="auto",Ov="center",pd="inherit",fi="justify",Fv="Change.konva",Lv="2d",Nc="-",vd="left",Nv="text",Gv="Text",Iv="top",Dv="bottom",Gc="middle",md="normal",Uv="px ",tn=" ",Bv="right",Ic="rtl",Vv="word",jv="char",Dc="none",Ya="…",_d=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Hv=_d.length;function $v(e){return e.split(",").map(t=>{t=t.trim();const r=t.indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return r&&!i&&(t=`"${t}"`),t}).join(", ")}var en;function Xa(){return en||(en=Ao.Util.createCanvasElement().getContext(Lv),en)}function zv(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Wv(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function qv(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}class Lt extends Mv.Shape{constructor(t){super(qv(t)),this._partialTextX=0,this._partialTextY=0;for(var r=0;r<Hv;r++)this.on(_d[r]+Fv,this._setTextData);this._setTextData()}_sceneFunc(t){var r=this.textArr,i=r.length;if(this.text()){var n=this.padding(),s=this.fontSize(),a=this.lineHeight()*s,o=this.verticalAlign(),l=this.direction(),h=0,c=this.align(),u=this.getWidth(),d=this.letterSpacing(),f=this.fill(),p=this.textDecoration(),_=p.indexOf("underline")!==-1,b=p.indexOf("line-through")!==-1,S;l=l===pd?t.direction:l;var C=a/2,g=Gc;if(Ka.Konva._fixTextRendering){var m=this.measureSize("M");g="alphabetic",C=(m.fontBoundingBoxAscent-m.fontBoundingBoxDescent)/2+a/2}var x=0,O=0;for(l===Ic&&t.setAttr("direction",l),t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",g),t.setAttr("textAlign",vd),o===Gc?h=(this.getHeight()-i*a-n*2)/2:o===Dv&&(h=this.getHeight()-i*a-n*2),t.translate(n,h+n),S=0;S<i;S++){var x=0,O=0,D=r[S],T=D.text,N=D.width,F=D.lastInParagraph,A,j,B;if(t.save(),c===Bv?x+=u-N-n*2:c===Ov&&(x+=(u-N-n*2)/2),_){t.save(),t.beginPath();let P=Ka.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2);const R=x,M=C+O+P;t.moveTo(R,M),A=T.split(" ").length-1,j=A===0,B=c===fi&&!F?u-n*2:N,t.lineTo(R+Math.round(B),M),t.lineWidth=s/15;const L=this._getLinearGradient();t.strokeStyle=L||f,t.stroke(),t.restore()}if(b){t.save(),t.beginPath();let P=Ka.Konva._fixTextRendering?-Math.round(s/4):0;t.moveTo(x,C+O+P),A=T.split(" ").length-1,j=A===0,B=c===fi&&F&&!j?u-n*2:N,t.lineTo(x+Math.round(B),C+O+P),t.lineWidth=s/15;const R=this._getLinearGradient();t.strokeStyle=R||f,t.stroke(),t.restore()}if(l!==Ic&&(d!==0||c===fi)){A=T.split(" ").length-1;for(var X=gd(T),V=0;V<X.length;V++){var Q=X[V];Q===" "&&!F&&c===fi&&(x+=(u-n*2-N)/A),this._partialTextX=x,this._partialTextY=C+O,this._partialText=Q,t.fillStrokeShape(this),x+=this.measureSize(Q).width+d}}else d!==0&&t.setAttr("letterSpacing",`${d}px`),this._partialTextX=x,this._partialTextY=C+O,this._partialText=T,t.fillStrokeShape(this);t.restore(),i>1&&(C+=a)}}}_hitFunc(t){var r=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)}setText(t){var r=Ao.Util._isString(t)?t:t==null?"":t+"";return this._setAttr(Nv,r),this}getWidth(){var t=this.attrs.width===Ir||this.attrs.width===void 0;return t?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var t=this.attrs.height===Ir||this.attrs.height===void 0;return t?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Ao.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var r,i,n,s,a,o,l,h,c,u,d,f=Xa(),p=this.fontSize(),_;f.save(),f.font=this._getContextFont(),_=f.measureText(t),f.restore();const b=p/100;return{actualBoundingBoxAscent:(r=_.actualBoundingBoxAscent)!==null&&r!==void 0?r:71.58203125*b,actualBoundingBoxDescent:(i=_.actualBoundingBoxDescent)!==null&&i!==void 0?i:0,actualBoundingBoxLeft:(n=_.actualBoundingBoxLeft)!==null&&n!==void 0?n:-7.421875*b,actualBoundingBoxRight:(s=_.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*b,alphabeticBaseline:(a=_.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(o=_.emHeightAscent)!==null&&o!==void 0?o:100*b,emHeightDescent:(l=_.emHeightDescent)!==null&&l!==void 0?l:-20*b,fontBoundingBoxAscent:(h=_.fontBoundingBoxAscent)!==null&&h!==void 0?h:91*b,fontBoundingBoxDescent:(c=_.fontBoundingBoxDescent)!==null&&c!==void 0?c:21*b,hangingBaseline:(u=_.hangingBaseline)!==null&&u!==void 0?u:72.80000305175781*b,ideographicBaseline:(d=_.ideographicBaseline)!==null&&d!==void 0?d:-21*b,width:_.width,height:p}}_getContextFont(){return this.fontStyle()+tn+this.fontVariant()+tn+(this.fontSize()+Uv)+$v(this.fontFamily())}_addTextLine(t){this.align()===fi&&(t=t.trim());var i=this._getTextWidth(t);return this.textArr.push({text:t,width:i,lastInParagraph:!1})}_getTextWidth(t){var r=this.letterSpacing(),i=t.length;return Xa().measureText(t).width+(i?r*(i-1):0)}_setTextData(){var t=this.text().split(`
`),r=+this.fontSize(),i=0,n=this.lineHeight()*r,s=this.attrs.width,a=this.attrs.height,o=s!==Ir&&s!==void 0,l=a!==Ir&&a!==void 0,h=this.padding(),c=s-h*2,u=a-h*2,d=0,f=this.wrap(),p=f!==Dc,_=f!==jv&&p,b=this.ellipsis();this.textArr=[],Xa().font=this._getContextFont();for(var S=b?this._getTextWidth(Ya):0,C=0,g=t.length;C<g;++C){var m=t[C],x=this._getTextWidth(m);if(o&&x>c)for(;m.length>0;){for(var O=0,D=m.length,T="",N=0;O<D;){var F=O+D>>>1,A=m.slice(0,F+1),j=this._getTextWidth(A)+S;j<=c?(O=F+1,T=A,N=j):D=F}if(T){if(_){var B,X=m[T.length],V=X===tn||X===Nc;V&&N<=c?B=T.length:B=Math.max(T.lastIndexOf(tn),T.lastIndexOf(Nc))+1,B>0&&(O=B,T=T.slice(0,O),N=this._getTextWidth(T))}T=T.trimRight(),this._addTextLine(T),i=Math.max(i,N),d+=n;var Q=this._shouldHandleEllipsis(d);if(Q){this._tryToAddEllipsisToLastLine();break}if(m=m.slice(O),m=m.trimLeft(),m.length>0&&(x=this._getTextWidth(m),x<=c)){this._addTextLine(m),d+=n,i=Math.max(i,x);break}}else break}else this._addTextLine(m),d+=n,i=Math.max(i,x),this._shouldHandleEllipsis(d)&&C<g-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&d+n>u)break}this.textHeight=r,this.textWidth=i}_shouldHandleEllipsis(t){var r=+this.fontSize(),i=this.lineHeight()*r,n=this.attrs.height,s=n!==Ir&&n!==void 0,a=this.padding(),o=n-a*2,l=this.wrap(),h=l!==Dc;return!h||s&&t+i>o}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,r=t!==Ir&&t!==void 0,i=this.padding(),n=t-i*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];if(!(!a||!s)){if(r){var o=this._getTextWidth(a.text+Ya)<n;o||(a.text=a.text.slice(0,a.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+Ya)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,r=this.hasShadow();return t&&r?!0:super._useBufferCanvas()}}yr.Text=Lt;Lt.prototype._fillFunc=zv;Lt.prototype._strokeFunc=Wv;Lt.prototype.className=Gv;Lt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,kv._registerNode)(Lt);Kt.Factory.overWriteSetter(Lt,"width",(0,lr.getNumberOrAutoValidator)());Kt.Factory.overWriteSetter(Lt,"height",(0,lr.getNumberOrAutoValidator)());Kt.Factory.addGetterSetter(Lt,"direction",pd);Kt.Factory.addGetterSetter(Lt,"fontFamily","Arial");Kt.Factory.addGetterSetter(Lt,"fontSize",12,(0,lr.getNumberValidator)());Kt.Factory.addGetterSetter(Lt,"fontStyle",md);Kt.Factory.addGetterSetter(Lt,"fontVariant",md);Kt.Factory.addGetterSetter(Lt,"padding",0,(0,lr.getNumberValidator)());Kt.Factory.addGetterSetter(Lt,"align",vd);Kt.Factory.addGetterSetter(Lt,"verticalAlign",Iv);Kt.Factory.addGetterSetter(Lt,"lineHeight",1,(0,lr.getNumberValidator)());Kt.Factory.addGetterSetter(Lt,"wrap",Vv);Kt.Factory.addGetterSetter(Lt,"ellipsis",!1,(0,lr.getBooleanValidator)());Kt.Factory.addGetterSetter(Lt,"letterSpacing",0,(0,lr.getNumberValidator)());Kt.Factory.addGetterSetter(Lt,"text","",(0,lr.getStringValidator)());Kt.Factory.addGetterSetter(Lt,"textDecoration","");var us={};Object.defineProperty(us,"__esModule",{value:!0});us.TextPath=void 0;const Qa=Ot,_e=pt,Kv=Bt,di=ii,Ja=yr,yd=at,Yv=gt;var Xv="",bd="normal";function Sd(e){e.fillText(this.partialText,0,0)}function wd(e){e.strokeText(this.partialText,0,0)}class Vt extends Kv.Shape{constructor(t){super(t),this.dummyCanvas=Qa.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return di.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;const r=this.pathLength;return t-1>r?null:di.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=di.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var r=this.textDecoration(),i=this.fill(),n=this.fontSize(),s=this.glyphInfo;r==="underline"&&t.beginPath();for(var a=0;a<s.length;a++){t.save();var o=s[a].p0;t.translate(o.x,o.y),t.rotate(s[a].rotation),this.partialText=s[a].text,t.fillStrokeShape(this),r==="underline"&&(a===0&&t.moveTo(0,n/2+1),t.lineTo(n,n/2+1)),t.restore()}r==="underline"&&(t.strokeStyle=i,t.lineWidth=n/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var r=this.glyphInfo;if(r.length>=1){var i=r[0].p0;t.moveTo(i.x,i.y)}for(var n=0;n<r.length;n++){var s=r[n].p1;t.lineTo(s.x,s.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Qa.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return Ja.Text.prototype.setText.call(this,t)}_getContextFont(){return Ja.Text.prototype._getContextFont.call(this)}_getTextSize(t){var r=this.dummyCanvas,i=r.getContext("2d");i.save(),i.font=this._getContextFont();var n=i.measureText(t);return i.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),n=this.align(),s=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let o=0;n==="center"&&(o=Math.max(0,this.pathLength/2-a/2)),n==="right"&&(o=Math.max(0,this.pathLength-a));const l=(0,Ja.stringToArray)(this.text());let h=o;for(var c=0;c<l.length;c++){const u=this._getPointAtLength(h);if(!u)return;let d=this._getTextSize(l[c]).width+i;if(l[c]===" "&&n==="justify"){const C=this.text().split(" ").length-1;d+=(this.pathLength-a)/C}const f=this._getPointAtLength(h+d);if(!f)return;const p=di.Path.getLineLength(u.x,u.y,f.x,f.y);let _=0;if(s)try{_=s(l[c-1],l[c])*this.fontSize()}catch{_=0}u.x+=_,f.x+=_,this.textWidth+=_;const b=di.Path.getPointOnLine(_+p/2,u.x,u.y,f.x,f.y),S=Math.atan2(f.y-u.y,f.x-u.x);this.glyphInfo.push({transposeX:b.x,transposeY:b.y,text:l[c],rotation:S,p0:u,p1:f}),h+=d}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach(function(c){t.push(c.p0.x),t.push(c.p0.y),t.push(c.p1.x),t.push(c.p1.y)});for(var r=t[0]||0,i=t[0]||0,n=t[1]||0,s=t[1]||0,a,o,l=0;l<t.length/2;l++)a=t[l*2],o=t[l*2+1],r=Math.min(r,a),i=Math.max(i,a),n=Math.min(n,o),s=Math.max(s,o);var h=this.fontSize();return{x:r-h/2,y:n-h/2,width:i-r+h,height:s-n+h}}destroy(){return Qa.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}us.TextPath=Vt;Vt.prototype._fillFunc=Sd;Vt.prototype._strokeFunc=wd;Vt.prototype._fillFuncHit=Sd;Vt.prototype._strokeFuncHit=wd;Vt.prototype.className="TextPath";Vt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,Yv._registerNode)(Vt);_e.Factory.addGetterSetter(Vt,"data");_e.Factory.addGetterSetter(Vt,"fontFamily","Arial");_e.Factory.addGetterSetter(Vt,"fontSize",12,(0,yd.getNumberValidator)());_e.Factory.addGetterSetter(Vt,"fontStyle",bd);_e.Factory.addGetterSetter(Vt,"align","left");_e.Factory.addGetterSetter(Vt,"letterSpacing",0,(0,yd.getNumberValidator)());_e.Factory.addGetterSetter(Vt,"textBaseline","middle");_e.Factory.addGetterSetter(Vt,"fontVariant",bd);_e.Factory.addGetterSetter(Vt,"text",Xv);_e.Factory.addGetterSetter(Vt,"textDecoration",null);_e.Factory.addGetterSetter(Vt,"kerningFunc",null);var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.Transformer=void 0;const Ct=Ot,bt=pt,Uc=kt,Qv=Bt,Jv=$i,Bc=ei,de=gt,hr=at,Zv=gt;var xd="tr-konva",t5=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(e=>e+`.${xd}`).join(" "),Vc="nodesRect",e5=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],r5={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const i5="ontouchstart"in de.Konva._global;function n5(e,t,r){if(e==="rotater")return r;t+=Ct.Util.degToRad(r5[e]||0);var i=(Ct.Util.radToDeg(t)%360+360)%360;return Ct.Util._inRange(i,315+22.5,360)||Ct.Util._inRange(i,0,22.5)?"ns-resize":Ct.Util._inRange(i,45-22.5,45+22.5)?"nesw-resize":Ct.Util._inRange(i,90-22.5,90+22.5)?"ew-resize":Ct.Util._inRange(i,135-22.5,135+22.5)?"nwse-resize":Ct.Util._inRange(i,180-22.5,180+22.5)?"ns-resize":Ct.Util._inRange(i,225-22.5,225+22.5)?"nesw-resize":Ct.Util._inRange(i,270-22.5,270+22.5)?"ew-resize":Ct.Util._inRange(i,315-22.5,315+22.5)?"nwse-resize":(Ct.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}var wn=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],jc=1e8;function s5(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function Cd(e,t,r){const i=r.x+(e.x-r.x)*Math.cos(t)-(e.y-r.y)*Math.sin(t),n=r.y+(e.x-r.x)*Math.sin(t)+(e.y-r.y)*Math.cos(t);return{...e,rotation:e.rotation+t,x:i,y:n}}function a5(e,t){const r=s5(e);return Cd(e,t,r)}function o5(e,t,r){let i=t;for(let n=0;n<e.length;n++){const s=de.Konva.getAngle(e[n]),a=Math.abs(s-t)%(Math.PI*2);Math.min(a,Math.PI*2-a)<r&&(i=s)}return i}let Mo=0;class mt extends Bc.Group{constructor(t){super(t),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(t5,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return Ct.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return xd+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const r=t.filter(n=>n.isAncestorOf(this)?(Ct.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=t=r,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(n=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},a=n._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");n.on(a,s),n.on(e5.map(o=>o+`.${this._getEventNamespace()}`).join(" "),s),n.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(n)}),this._resetTransformCache();var i=!!this.findOne(".top-left");return i&&this.update(),this}_proxyDrag(t){let r;t.on(`dragstart.${this._getEventNamespace()}`,i=>{r=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(i,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!r)return;const n=t.getAbsolutePosition(),s=n.x-r.x,a=n.y-r.y;this.nodes().forEach(o=>{if(o===t||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+s,y:l.y+a}),o.startDrag(i)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Vc),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Vc,this.__getNodeRect)}__getNodeShape(t,r=this.rotation(),i){var n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=t.getAbsoluteScale(i),a=t.getAbsolutePosition(i),o=n.x*s.x-t.offsetX()*s.x,l=n.y*s.y-t.offsetY()*s.y;const h=(de.Konva.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),c={x:a.x+o*Math.cos(h)+l*Math.sin(-h),y:a.y+l*Math.cos(h)+o*Math.sin(h),width:n.width*s.x,height:n.height*s.y,rotation:h};return Cd(c,-de.Konva.getAngle(r),{x:0,y:0})}__getNodeRect(){var t=this.getNode();if(!t)return{x:-jc,y:-jc,width:0,height:0,rotation:0};const r=[];this.nodes().map(h=>{const c=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var u=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],d=h.getAbsoluteTransform();u.forEach(function(f){var p=d.point(f);r.push(p)})});const i=new Ct.Transform;i.rotate(-de.Konva.getAngle(this.rotation()));var n=1/0,s=1/0,a=-1/0,o=-1/0;r.forEach(function(h){var c=i.point(h);n===void 0&&(n=a=c.x,s=o=c.y),n=Math.min(n,c.x),s=Math.min(s,c.y),a=Math.max(a,c.x),o=Math.max(o,c.y)}),i.invert();const l=i.point({x:n,y:s});return{x:l.x,y:l.y,width:a-n,height:o-s,rotation:de.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),wn.forEach(t=>{this._createAnchor(t)}),this._createAnchor("rotater")}_createAnchor(t){var r=new Jv.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:i5?10:"auto"}),i=this;r.on("mousedown touchstart",function(n){i._handleMouseDown(n)}),r.on("dragstart",n=>{r.stopDrag(),n.cancelBubble=!0}),r.on("dragend",n=>{n.cancelBubble=!0}),r.on("mouseenter",()=>{var n=de.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),a=n5(t,n,s);r.getStage().content&&(r.getStage().content.style.cursor=a),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){var t=new Qv.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(r,i){var n=i.getParent(),s=n.padding();r.beginPath(),r.rect(-s,-s,i.width()+s*2,i.height()+s*2),r.moveTo(i.width()/2,-s),n.rotateEnabled()&&n.rotateLineVisible()&&r.lineTo(i.width()/2,-n.rotateAnchorOffset()*Ct.Util._sign(i.height())-s),r.fillStrokeShape(i)},hitFunc:(r,i)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();r.beginPath(),r.rect(-n,-n,i.width()+n*2,i.height()+n*2),r.fillStrokeShape(i)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",r=>{r.cancelBubble=!0}),t.on("dragmove",r=>{r.cancelBubble=!0}),t.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(t){if(!this._transforming){this._movingAnchorName=t.target.name().split(" ")[0];var r=this._getNodeRect(),i=r.width,n=r.height,s=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));this.sin=Math.abs(n/s),this.cos=Math.abs(i/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var a=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-a.x,y:o.y-a.y},Mo++,this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:t.evt,target:l})})}}_handleMouseMove(t){var r,i,n,s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(t);const o=a.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const h=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(h,l,t)),s.setAbsolutePosition(l);const c=s.getAbsolutePosition();if(!(h.x===c.x&&h.y===c.y)){if(this._movingAnchorName==="rotater"){var u=this._getNodeRect();r=s.x()-u.width/2,i=-s.y()+u.height/2;let B=Math.atan2(-i,r)+Math.PI/2;u.height<0&&(B-=Math.PI);var d=de.Konva.getAngle(this.rotation());const X=d+B,V=de.Konva.getAngle(this.rotationSnapTolerance()),W=o5(this.rotationSnaps(),X,V)-u.rotation,y=a5(u,W);this._fitNodesInto(y,t);return}var f=this.shiftBehavior(),p;f==="inverted"?p=this.keepRatio()&&!t.shiftKey:f==="none"?p=this.keepRatio():p=this.keepRatio()||t.shiftKey;var g=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(p){var _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};n=Math.sqrt(Math.pow(_.x-s.x(),2)+Math.pow(_.y-s.y(),2));var b=this.findOne(".top-left").x()>_.x?-1:1,S=this.findOne(".top-left").y()>_.y?-1:1;r=n*this.cos*b,i=n*this.sin*S,this.findOne(".top-left").x(_.x-r),this.findOne(".top-left").y(_.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(p){var _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};n=Math.sqrt(Math.pow(s.x()-_.x,2)+Math.pow(_.y-s.y(),2));var b=this.findOne(".top-right").x()<_.x?-1:1,S=this.findOne(".top-right").y()>_.y?-1:1;r=n*this.cos*b,i=n*this.sin*S,this.findOne(".top-right").x(_.x+r),this.findOne(".top-right").y(_.y-i)}var C=s.position();this.findOne(".top-left").y(C.y),this.findOne(".bottom-right").x(C.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(p){var _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};n=Math.sqrt(Math.pow(_.x-s.x(),2)+Math.pow(s.y()-_.y,2));var b=_.x<s.x()?-1:1,S=s.y()<_.y?-1:1;r=n*this.cos*b,i=n*this.sin*S,s.x(_.x-r),s.y(_.y+i)}C=s.position(),this.findOne(".top-left").x(C.x),this.findOne(".bottom-right").y(C.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(p){var _=g?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};n=Math.sqrt(Math.pow(s.x()-_.x,2)+Math.pow(s.y()-_.y,2));var b=this.findOne(".bottom-right").x()<_.x?-1:1,S=this.findOne(".bottom-right").y()<_.y?-1:1;r=n*this.cos*b,i=n*this.sin*S,this.findOne(".bottom-right").x(_.x+r),this.findOne(".bottom-right").y(_.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var g=this.centeredScaling()||t.altKey;if(g){var m=this.findOne(".top-left"),x=this.findOne(".bottom-right"),O=m.x(),D=m.y(),T=this.getWidth()-x.x(),N=this.getHeight()-x.y();x.move({x:-O,y:-D}),m.move({x:T,y:N})}var F=this.findOne(".top-left").getAbsolutePosition();r=F.x,i=F.y;var A=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),j=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:i,width:A,height:j,rotation:de.Konva.getAngle(this.rotation())},t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){var r;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var i=this.getNode();Mo--,this._fire("transformend",{evt:t,target:i}),(r=this.getLayer())===null||r===void 0||r.batchDraw(),i&&this._nodes.forEach(n=>{var s;n._fire("transformend",{evt:t,target:n}),(s=n.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(t,r){var i=this._getNodeRect();const n=1;if(Ct.Util._inRange(t.width,-this.padding()*2-n,n)){this.update();return}if(Ct.Util._inRange(t.height,-this.padding()*2-n,n)){this.update();return}var s=new Ct.Transform;if(s.rotate(de.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const d=s.point({x:-this.padding()*2,y:0});t.x+=d.x,t.y+=d.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const d=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,t.width+=this.padding()*2}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const d=s.point({x:0,y:-this.padding()*2});t.x+=d.x,t.y+=d.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,t.height+=this.padding()*2}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const d=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,t.height+=this.padding()*2}if(this.boundBoxFunc()){const d=this.boundBoxFunc()(i,t);d?t=d:Ct.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,o=new Ct.Transform;o.translate(i.x,i.y),o.rotate(i.rotation),o.scale(i.width/a,i.height/a);const l=new Ct.Transform,h=t.width/a,c=t.height/a;this.flipEnabled()===!1?(l.translate(t.x,t.y),l.rotate(t.rotation),l.translate(t.width<0?t.width:0,t.height<0?t.height:0),l.scale(Math.abs(h),Math.abs(c))):(l.translate(t.x,t.y),l.rotate(t.rotation),l.scale(h,c));const u=l.multiply(o.invert());this._nodes.forEach(d=>{var f;const p=d.getParent().getAbsoluteTransform(),_=d.getTransform().copy();_.translate(d.offsetX(),d.offsetY());const b=new Ct.Transform;b.multiply(p.copy().invert()).multiply(u).multiply(p).multiply(_);const S=b.decompose();d.setAttrs(S),(f=d.getLayer())===null||f===void 0||f.batchDraw()}),this.rotation(Ct.Util._getRotation(t.rotation)),this._nodes.forEach(d=>{this._fire("transform",{evt:r,target:d}),d._fire("transform",{evt:r,target:d})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,r){this.findOne(t).setAttrs(r)}update(){var t,r=this._getNodeRect();this.rotation(Ct.Util._getRotation(r.rotation));var i=r.width,n=r.height,s=this.enabledAnchors(),a=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();const h=this.find("._anchor");h.forEach(u=>{u.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:l/2+o,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:n/2,offsetX:l/2+o,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:n/2,offsetX:l/2-o,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:n,offsetX:l/2+o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:n,offsetY:l/2-o,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:n,offsetX:l/2-o,offsetY:l/2-o,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*Ct.Util._sign(n)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const c=this.anchorStyleFunc();c&&h.forEach(u=>{c(u)}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Bc.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Uc.Node.prototype.toObject.call(this)}clone(t){var r=Uc.Node.prototype.clone.call(this,t);return r}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}fs.Transformer=mt;mt.isTransforming=()=>Mo>0;function l5(e){return e instanceof Array||Ct.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){wn.indexOf(t)===-1&&Ct.Util.warn("Unknown anchor name: "+t+". Available names are: "+wn.join(", "))}),e||[]}mt.prototype.className="Transformer";(0,Zv._registerNode)(mt);bt.Factory.addGetterSetter(mt,"enabledAnchors",wn,l5);bt.Factory.addGetterSetter(mt,"flipEnabled",!0,(0,hr.getBooleanValidator)());bt.Factory.addGetterSetter(mt,"resizeEnabled",!0);bt.Factory.addGetterSetter(mt,"anchorSize",10,(0,hr.getNumberValidator)());bt.Factory.addGetterSetter(mt,"rotateEnabled",!0);bt.Factory.addGetterSetter(mt,"rotateLineVisible",!0);bt.Factory.addGetterSetter(mt,"rotationSnaps",[]);bt.Factory.addGetterSetter(mt,"rotateAnchorOffset",50,(0,hr.getNumberValidator)());bt.Factory.addGetterSetter(mt,"rotateAnchorCursor","crosshair");bt.Factory.addGetterSetter(mt,"rotationSnapTolerance",5,(0,hr.getNumberValidator)());bt.Factory.addGetterSetter(mt,"borderEnabled",!0);bt.Factory.addGetterSetter(mt,"anchorStroke","rgb(0, 161, 255)");bt.Factory.addGetterSetter(mt,"anchorStrokeWidth",1,(0,hr.getNumberValidator)());bt.Factory.addGetterSetter(mt,"anchorFill","white");bt.Factory.addGetterSetter(mt,"anchorCornerRadius",0,(0,hr.getNumberValidator)());bt.Factory.addGetterSetter(mt,"borderStroke","rgb(0, 161, 255)");bt.Factory.addGetterSetter(mt,"borderStrokeWidth",1,(0,hr.getNumberValidator)());bt.Factory.addGetterSetter(mt,"borderDash");bt.Factory.addGetterSetter(mt,"keepRatio",!0);bt.Factory.addGetterSetter(mt,"shiftBehavior","default");bt.Factory.addGetterSetter(mt,"centeredScaling",!1);bt.Factory.addGetterSetter(mt,"ignoreStroke",!1);bt.Factory.addGetterSetter(mt,"padding",0,(0,hr.getNumberValidator)());bt.Factory.addGetterSetter(mt,"node");bt.Factory.addGetterSetter(mt,"nodes");bt.Factory.addGetterSetter(mt,"boundBoxFunc");bt.Factory.addGetterSetter(mt,"anchorDragBoundFunc");bt.Factory.addGetterSetter(mt,"anchorStyleFunc");bt.Factory.addGetterSetter(mt,"shouldOverdrawWholeArea",!1);bt.Factory.addGetterSetter(mt,"useSingleNodeRotation",!0);bt.Factory.backCompat(mt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.Wedge=void 0;const gs=pt,h5=Bt,c5=gt,Td=at,u5=gt;class je extends h5.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,c5.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}ds.Wedge=je;je.prototype.className="Wedge";je.prototype._centroid=!0;je.prototype._attrsAffectingSize=["radius"];(0,u5._registerNode)(je);gs.Factory.addGetterSetter(je,"radius",0,(0,Td.getNumberValidator)());gs.Factory.addGetterSetter(je,"angle",0,(0,Td.getNumberValidator)());gs.Factory.addGetterSetter(je,"clockwise",!1);gs.Factory.backCompat(je,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.Blur=void 0;const Hc=pt,f5=kt,d5=at;function $c(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var g5=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],p5=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function v5(e,t){var r=e.data,i=e.width,n=e.height,s,a,o,l,h,c,u,d,f,p,_,b,S,C,g,m,x,O,D,T,N,F,A,j,B=t+t+1,X=i-1,V=n-1,Q=t+1,W=Q*(Q+1)/2,y=new $c,P=null,R=y,M=null,L=null,I=g5[t],H=p5[t];for(o=1;o<B;o++)R=R.next=new $c,o===Q&&(P=R);for(R.next=y,u=c=0,a=0;a<n;a++){for(m=x=O=D=d=f=p=_=0,b=Q*(T=r[c]),S=Q*(N=r[c+1]),C=Q*(F=r[c+2]),g=Q*(A=r[c+3]),d+=W*T,f+=W*N,p+=W*F,_+=W*A,R=y,o=0;o<Q;o++)R.r=T,R.g=N,R.b=F,R.a=A,R=R.next;for(o=1;o<Q;o++)l=c+((X<o?X:o)<<2),d+=(R.r=T=r[l])*(j=Q-o),f+=(R.g=N=r[l+1])*j,p+=(R.b=F=r[l+2])*j,_+=(R.a=A=r[l+3])*j,m+=T,x+=N,O+=F,D+=A,R=R.next;for(M=y,L=P,s=0;s<i;s++)r[c+3]=A=_*I>>H,A!==0?(A=255/A,r[c]=(d*I>>H)*A,r[c+1]=(f*I>>H)*A,r[c+2]=(p*I>>H)*A):r[c]=r[c+1]=r[c+2]=0,d-=b,f-=S,p-=C,_-=g,b-=M.r,S-=M.g,C-=M.b,g-=M.a,l=u+((l=s+t+1)<X?l:X)<<2,m+=M.r=r[l],x+=M.g=r[l+1],O+=M.b=r[l+2],D+=M.a=r[l+3],d+=m,f+=x,p+=O,_+=D,M=M.next,b+=T=L.r,S+=N=L.g,C+=F=L.b,g+=A=L.a,m-=T,x-=N,O-=F,D-=A,L=L.next,c+=4;u+=i}for(s=0;s<i;s++){for(x=O=D=m=f=p=_=d=0,c=s<<2,b=Q*(T=r[c]),S=Q*(N=r[c+1]),C=Q*(F=r[c+2]),g=Q*(A=r[c+3]),d+=W*T,f+=W*N,p+=W*F,_+=W*A,R=y,o=0;o<Q;o++)R.r=T,R.g=N,R.b=F,R.a=A,R=R.next;for(h=i,o=1;o<=t;o++)c=h+s<<2,d+=(R.r=T=r[c])*(j=Q-o),f+=(R.g=N=r[c+1])*j,p+=(R.b=F=r[c+2])*j,_+=(R.a=A=r[c+3])*j,m+=T,x+=N,O+=F,D+=A,R=R.next,o<V&&(h+=i);for(c=s,M=y,L=P,a=0;a<n;a++)l=c<<2,r[l+3]=A=_*I>>H,A>0?(A=255/A,r[l]=(d*I>>H)*A,r[l+1]=(f*I>>H)*A,r[l+2]=(p*I>>H)*A):r[l]=r[l+1]=r[l+2]=0,d-=b,f-=S,p-=C,_-=g,b-=M.r,S-=M.g,C-=M.b,g-=M.a,l=s+((l=a+Q)<V?l:V)*i<<2,d+=m+=M.r=r[l],f+=x+=M.g=r[l+1],p+=O+=M.b=r[l+2],_+=D+=M.a=r[l+3],M=M.next,b+=T=L.r,S+=N=L.g,C+=F=L.b,g+=A=L.a,m-=T,x-=N,O-=F,D-=A,L=L.next,c+=i}}const m5=function(t){var r=Math.round(this.blurRadius());r>0&&v5(t,r)};ps.Blur=m5;Hc.Factory.addGetterSetter(f5.Node,"blurRadius",0,(0,d5.getNumberValidator)(),Hc.Factory.afterSetFilter);var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.Brighten=void 0;const zc=pt,_5=kt,y5=at,b5=function(e){var t=this.brightness()*255,r=e.data,i=r.length,n;for(n=0;n<i;n+=4)r[n]+=t,r[n+1]+=t,r[n+2]+=t};vs.Brighten=b5;zc.Factory.addGetterSetter(_5.Node,"brightness",0,(0,y5.getNumberValidator)(),zc.Factory.afterSetFilter);var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.Contrast=void 0;const Wc=pt,S5=kt,w5=at,x5=function(e){var t=Math.pow((this.contrast()+100)/100,2),r=e.data,i=r.length,n=150,s=150,a=150,o;for(o=0;o<i;o+=4)n=r[o],s=r[o+1],a=r[o+2],n/=255,n-=.5,n*=t,n+=.5,n*=255,s/=255,s-=.5,s*=t,s+=.5,s*=255,a/=255,a-=.5,a*=t,a+=.5,a*=255,n=n<0?0:n>255?255:n,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,r[o]=n,r[o+1]=s,r[o+2]=a};ms.Contrast=x5;Wc.Factory.addGetterSetter(S5.Node,"contrast",0,(0,w5.getNumberValidator)(),Wc.Factory.afterSetFilter);var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.Emboss=void 0;const er=pt,ys=kt,C5=Ot,Ed=at,T5=function(e){var t=this.embossStrength()*10,r=this.embossWhiteLevel()*255,i=this.embossDirection(),n=this.embossBlend(),s=0,a=0,o=e.data,l=e.width,h=e.height,c=l*4,u=h;switch(i){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:C5.Util.error("Unknown emboss direction: "+i)}do{var d=(u-1)*c,f=s;u+f<1&&(f=0),u+f>h&&(f=0);var p=(u-1+f)*l*4,_=l;do{var b=d+(_-1)*4,S=a;_+S<1&&(S=0),_+S>l&&(S=0);var C=p+(_-1+S)*4,g=o[b]-o[C],m=o[b+1]-o[C+1],x=o[b+2]-o[C+2],O=g,D=O>0?O:-O,T=m>0?m:-m,N=x>0?x:-x;if(T>D&&(O=m),N>D&&(O=x),O*=t,n){var F=o[b]+O,A=o[b+1]+O,j=o[b+2]+O;o[b]=F>255?255:F<0?0:F,o[b+1]=A>255?255:A<0?0:A,o[b+2]=j>255?255:j<0?0:j}else{var B=r-O;B<0?B=0:B>255&&(B=255),o[b]=o[b+1]=o[b+2]=B}}while(--_)}while(--u)};_s.Emboss=T5;er.Factory.addGetterSetter(ys.Node,"embossStrength",.5,(0,Ed.getNumberValidator)(),er.Factory.afterSetFilter);er.Factory.addGetterSetter(ys.Node,"embossWhiteLevel",.5,(0,Ed.getNumberValidator)(),er.Factory.afterSetFilter);er.Factory.addGetterSetter(ys.Node,"embossDirection","top-left",null,er.Factory.afterSetFilter);er.Factory.addGetterSetter(ys.Node,"embossBlend",!1,null,er.Factory.afterSetFilter);var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.Enhance=void 0;const qc=pt,E5=kt,P5=at;function Za(e,t,r,i,n){var s=r-t,a=n-i,o;return s===0?i+a/2:a===0?i:(o=(e-t)/s,o=a*o+i,o)}const R5=function(e){var t=e.data,r=t.length,i=t[0],n=i,s,a=t[1],o=a,l,h=t[2],c=h,u,d,f=this.enhance();if(f!==0){for(d=0;d<r;d+=4)s=t[d+0],s<i?i=s:s>n&&(n=s),l=t[d+1],l<a?a=l:l>o&&(o=l),u=t[d+2],u<h?h=u:u>c&&(c=u);n===i&&(n=255,i=0),o===a&&(o=255,a=0),c===h&&(c=255,h=0);var p,_,b,S,C,g,m,x,O;for(f>0?(_=n+f*(255-n),b=i-f*(i-0),C=o+f*(255-o),g=a-f*(a-0),x=c+f*(255-c),O=h-f*(h-0)):(p=(n+i)*.5,_=n+f*(n-p),b=i+f*(i-p),S=(o+a)*.5,C=o+f*(o-S),g=a+f*(a-S),m=(c+h)*.5,x=c+f*(c-m),O=h+f*(h-m)),d=0;d<r;d+=4)t[d+0]=Za(t[d+0],i,n,b,_),t[d+1]=Za(t[d+1],a,o,g,C),t[d+2]=Za(t[d+2],h,c,O,x)}};bs.Enhance=R5;qc.Factory.addGetterSetter(E5.Node,"enhance",0,(0,P5.getNumberValidator)(),qc.Factory.afterSetFilter);var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.Grayscale=void 0;const A5=function(e){var t=e.data,r=t.length,i,n;for(i=0;i<r;i+=4)n=.34*t[i]+.5*t[i+1]+.16*t[i+2],t[i]=n,t[i+1]=n,t[i+2]=n};Ss.Grayscale=A5;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.HSL=void 0;const Yr=pt,Sl=kt,wl=at;Yr.Factory.addGetterSetter(Sl.Node,"hue",0,(0,wl.getNumberValidator)(),Yr.Factory.afterSetFilter);Yr.Factory.addGetterSetter(Sl.Node,"saturation",0,(0,wl.getNumberValidator)(),Yr.Factory.afterSetFilter);Yr.Factory.addGetterSetter(Sl.Node,"luminance",0,(0,wl.getNumberValidator)(),Yr.Factory.afterSetFilter);const M5=function(e){var t=e.data,r=t.length,i=1,n=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,o,l=i*n*Math.cos(s*Math.PI/180),h=i*n*Math.sin(s*Math.PI/180),c=.299*i+.701*l+.167*h,u=.587*i-.587*l+.33*h,d=.114*i-.114*l-.497*h,f=.299*i-.299*l-.328*h,p=.587*i+.413*l+.035*h,_=.114*i-.114*l+.293*h,b=.299*i-.3*l+1.25*h,S=.587*i-.586*l-1.05*h,C=.114*i+.886*l-.2*h,g,m,x,O;for(o=0;o<r;o+=4)g=t[o+0],m=t[o+1],x=t[o+2],O=t[o+3],t[o+0]=c*g+u*m+d*x+a,t[o+1]=f*g+p*m+_*x+a,t[o+2]=b*g+S*m+C*x+a,t[o+3]=O};ws.HSL=M5;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.HSV=void 0;const Xr=pt,xl=kt,Cl=at,k5=function(e){var t=e.data,r=t.length,i=Math.pow(2,this.value()),n=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a,o=i*n*Math.cos(s*Math.PI/180),l=i*n*Math.sin(s*Math.PI/180),h=.299*i+.701*o+.167*l,c=.587*i-.587*o+.33*l,u=.114*i-.114*o-.497*l,d=.299*i-.299*o-.328*l,f=.587*i+.413*o+.035*l,p=.114*i-.114*o+.293*l,_=.299*i-.3*o+1.25*l,b=.587*i-.586*o-1.05*l,S=.114*i+.886*o-.2*l,C,g,m,x;for(a=0;a<r;a+=4)C=t[a+0],g=t[a+1],m=t[a+2],x=t[a+3],t[a+0]=h*C+c*g+u*m,t[a+1]=d*C+f*g+p*m,t[a+2]=_*C+b*g+S*m,t[a+3]=x};xs.HSV=k5;Xr.Factory.addGetterSetter(xl.Node,"hue",0,(0,Cl.getNumberValidator)(),Xr.Factory.afterSetFilter);Xr.Factory.addGetterSetter(xl.Node,"saturation",0,(0,Cl.getNumberValidator)(),Xr.Factory.afterSetFilter);Xr.Factory.addGetterSetter(xl.Node,"value",0,(0,Cl.getNumberValidator)(),Xr.Factory.afterSetFilter);var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.Invert=void 0;const O5=function(e){var t=e.data,r=t.length,i;for(i=0;i<r;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]};Cs.Invert=O5;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Kaleidoscope=void 0;const xn=pt,Pd=kt,Kc=Ot,Rd=at;var F5=function(e,t,r){var i=e.data,n=t.data,s=e.width,a=e.height,o=r.polarCenterX||s/2,l=r.polarCenterY||a/2,h,c,u,d=0,f=0,p=0,_=0,b,S=Math.sqrt(o*o+l*l);c=s-o,u=a-l,b=Math.sqrt(c*c+u*u),S=b>S?b:S;var C=a,g=s,m,x,O=360/g*Math.PI/180,D,T;for(x=0;x<g;x+=1)for(D=Math.sin(x*O),T=Math.cos(x*O),m=0;m<C;m+=1)c=Math.floor(o+S*m/C*T),u=Math.floor(l+S*m/C*D),h=(u*s+c)*4,d=i[h+0],f=i[h+1],p=i[h+2],_=i[h+3],h=(x+m*s)*4,n[h+0]=d,n[h+1]=f,n[h+2]=p,n[h+3]=_},L5=function(e,t,r){var i=e.data,n=t.data,s=e.width,a=e.height,o=r.polarCenterX||s/2,l=r.polarCenterY||a/2,h,c,u,d,f,p=0,_=0,b=0,S=0,C,g=Math.sqrt(o*o+l*l);c=s-o,u=a-l,C=Math.sqrt(c*c+u*u),g=C>g?C:g;var m=a,x=s,O,D,T=0,N,F;for(c=0;c<s;c+=1)for(u=0;u<a;u+=1)d=c-o,f=u-l,O=Math.sqrt(d*d+f*f)*m/g,D=(Math.atan2(f,d)*180/Math.PI+360+T)%360,D=D*x/360,N=Math.floor(D),F=Math.floor(O),h=(F*s+N)*4,p=i[h+0],_=i[h+1],b=i[h+2],S=i[h+3],h=(u*s+c)*4,n[h+0]=p,n[h+1]=_,n[h+2]=b,n[h+3]=S};const N5=function(e){var t=e.width,r=e.height,i,n,s,a,o,l,h,c,u,d,f=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),_=Math.floor(t*(p%360)/360);if(!(f<1)){var b=Kc.Util.createCanvasElement();b.width=t,b.height=r;var S=b.getContext("2d").getImageData(0,0,t,r);Kc.Util.releaseCanvas(b),F5(e,S,{polarCenterX:t/2,polarCenterY:r/2});for(var C=t/Math.pow(2,f);C<=8;)C=C*2,f-=1;C=Math.ceil(C);var g=C,m=0,x=g,O=1;for(_+C>t&&(m=g,x=0,O=-1),n=0;n<r;n+=1)for(i=m;i!==x;i+=O)s=Math.round(i+_)%t,u=(t*n+s)*4,o=S.data[u+0],l=S.data[u+1],h=S.data[u+2],c=S.data[u+3],d=(t*n+i)*4,S.data[d+0]=o,S.data[d+1]=l,S.data[d+2]=h,S.data[d+3]=c;for(n=0;n<r;n+=1)for(g=Math.floor(C),a=0;a<f;a+=1){for(i=0;i<g+1;i+=1)u=(t*n+i)*4,o=S.data[u+0],l=S.data[u+1],h=S.data[u+2],c=S.data[u+3],d=(t*n+g*2-i-1)*4,S.data[d+0]=o,S.data[d+1]=l,S.data[d+2]=h,S.data[d+3]=c;g*=2}L5(S,e,{polarRotation:0})}};Ts.Kaleidoscope=N5;xn.Factory.addGetterSetter(Pd.Node,"kaleidoscopePower",2,(0,Rd.getNumberValidator)(),xn.Factory.afterSetFilter);xn.Factory.addGetterSetter(Pd.Node,"kaleidoscopeAngle",0,(0,Rd.getNumberValidator)(),xn.Factory.afterSetFilter);var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.Mask=void 0;const Yc=pt,G5=kt,I5=at;function rn(e,t,r){var i=(r*e.width+t)*4,n=[];return n.push(e.data[i++],e.data[i++],e.data[i++],e.data[i++]),n}function gi(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function D5(e){for(var t=[0,0,0],r=0;r<e.length;r++)t[0]+=e[r][0],t[1]+=e[r][1],t[2]+=e[r][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function U5(e,t){var r=rn(e,0,0),i=rn(e,e.width-1,0),n=rn(e,0,e.height-1),s=rn(e,e.width-1,e.height-1),a=t||10;if(gi(r,i)<a&&gi(i,s)<a&&gi(s,n)<a&&gi(n,r)<a){for(var o=D5([i,r,s,n]),l=[],h=0;h<e.width*e.height;h++){var c=gi(o,[e.data[h*4],e.data[h*4+1],e.data[h*4+2]]);l[h]=c<a?0:255}return l}}function B5(e,t){for(var r=0;r<e.width*e.height;r++)e.data[4*r+3]=t[r]}function V5(e,t,r){for(var i=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(i.length)),s=Math.floor(n/2),a=[],o=0;o<r;o++)for(var l=0;l<t;l++){for(var h=o*t+l,c=0,u=0;u<n;u++)for(var d=0;d<n;d++){var f=o+u-s,p=l+d-s;if(f>=0&&f<r&&p>=0&&p<t){var _=f*t+p,b=i[u*n+d];c+=e[_]*b}}a[h]=c===255*8?255:0}return a}function j5(e,t,r){for(var i=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(i.length)),s=Math.floor(n/2),a=[],o=0;o<r;o++)for(var l=0;l<t;l++){for(var h=o*t+l,c=0,u=0;u<n;u++)for(var d=0;d<n;d++){var f=o+u-s,p=l+d-s;if(f>=0&&f<r&&p>=0&&p<t){var _=f*t+p,b=i[u*n+d];c+=e[_]*b}}a[h]=c>=255*4?255:0}return a}function H5(e,t,r){for(var i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],n=Math.round(Math.sqrt(i.length)),s=Math.floor(n/2),a=[],o=0;o<r;o++)for(var l=0;l<t;l++){for(var h=o*t+l,c=0,u=0;u<n;u++)for(var d=0;d<n;d++){var f=o+u-s,p=l+d-s;if(f>=0&&f<r&&p>=0&&p<t){var _=f*t+p,b=i[u*n+d];c+=e[_]*b}}a[h]=c}return a}const $5=function(e){var t=this.threshold(),r=U5(e,t);return r&&(r=V5(r,e.width,e.height),r=j5(r,e.width,e.height),r=H5(r,e.width,e.height),B5(e,r)),e};Es.Mask=$5;Yc.Factory.addGetterSetter(G5.Node,"threshold",0,(0,I5.getNumberValidator)(),Yc.Factory.afterSetFilter);var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.Noise=void 0;const Xc=pt,z5=kt,W5=at,q5=function(e){var t=this.noise()*255,r=e.data,i=r.length,n=t/2,s;for(s=0;s<i;s+=4)r[s+0]+=n-2*n*Math.random(),r[s+1]+=n-2*n*Math.random(),r[s+2]+=n-2*n*Math.random()};Ps.Noise=q5;Xc.Factory.addGetterSetter(z5.Node,"noise",.2,(0,W5.getNumberValidator)(),Xc.Factory.afterSetFilter);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.Pixelate=void 0;const Qc=pt,K5=Ot,Y5=kt,X5=at,Q5=function(e){var t=Math.ceil(this.pixelSize()),r=e.width,i=e.height,n,s,a,o,l,h,c,u=Math.ceil(r/t),d=Math.ceil(i/t),f,p,_,b,S,C,g,m=e.data;if(t<=0){K5.Util.error("pixelSize value can not be <= 0");return}for(S=0;S<u;S+=1)for(C=0;C<d;C+=1){for(o=0,l=0,h=0,c=0,f=S*t,p=f+t,_=C*t,b=_+t,g=0,n=f;n<p;n+=1)if(!(n>=r))for(s=_;s<b;s+=1)s>=i||(a=(r*s+n)*4,o+=m[a+0],l+=m[a+1],h+=m[a+2],c+=m[a+3],g+=1);for(o=o/g,l=l/g,h=h/g,c=c/g,n=f;n<p;n+=1)if(!(n>=r))for(s=_;s<b;s+=1)s>=i||(a=(r*s+n)*4,m[a+0]=o,m[a+1]=l,m[a+2]=h,m[a+3]=c)}};Rs.Pixelate=Q5;Qc.Factory.addGetterSetter(Y5.Node,"pixelSize",8,(0,X5.getNumberValidator)(),Qc.Factory.afterSetFilter);var As={};Object.defineProperty(As,"__esModule",{value:!0});As.Posterize=void 0;const Jc=pt,J5=kt,Z5=at,t3=function(e){var t=Math.round(this.levels()*254)+1,r=e.data,i=r.length,n=255/t,s;for(s=0;s<i;s+=1)r[s]=Math.floor(r[s]/n)*n};As.Posterize=t3;Jc.Factory.addGetterSetter(J5.Node,"levels",.5,(0,Z5.getNumberValidator)(),Jc.Factory.afterSetFilter);var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.RGB=void 0;const Cn=pt,Tl=kt,e3=at,r3=function(e){var t=e.data,r=t.length,i=this.red(),n=this.green(),s=this.blue(),a,o;for(a=0;a<r;a+=4)o=(.34*t[a]+.5*t[a+1]+.16*t[a+2])/255,t[a]=o*i,t[a+1]=o*n,t[a+2]=o*s,t[a+3]=t[a+3]};Ms.RGB=r3;Cn.Factory.addGetterSetter(Tl.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Cn.Factory.addGetterSetter(Tl.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Cn.Factory.addGetterSetter(Tl.Node,"blue",0,e3.RGBComponent,Cn.Factory.afterSetFilter);var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.RGBA=void 0;const Oi=pt,Os=kt,i3=at,n3=function(e){var t=e.data,r=t.length,i=this.red(),n=this.green(),s=this.blue(),a=this.alpha(),o,l;for(o=0;o<r;o+=4)l=1-a,t[o]=i*a+t[o]*l,t[o+1]=n*a+t[o+1]*l,t[o+2]=s*a+t[o+2]*l};ks.RGBA=n3;Oi.Factory.addGetterSetter(Os.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Oi.Factory.addGetterSetter(Os.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Oi.Factory.addGetterSetter(Os.Node,"blue",0,i3.RGBComponent,Oi.Factory.afterSetFilter);Oi.Factory.addGetterSetter(Os.Node,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.Sepia=void 0;const s3=function(e){var t=e.data,r=t.length,i,n,s,a;for(i=0;i<r;i+=4)n=t[i+0],s=t[i+1],a=t[i+2],t[i+0]=Math.min(255,n*.393+s*.769+a*.189),t[i+1]=Math.min(255,n*.349+s*.686+a*.168),t[i+2]=Math.min(255,n*.272+s*.534+a*.131)};Fs.Sepia=s3;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Solarize=void 0;const a3=function(e){var t=e.data,r=e.width,i=e.height,n=r*4,s=i;do{var a=(s-1)*n,o=r;do{var l=a+(o-1)*4,h=t[l],c=t[l+1],u=t[l+2];h>127&&(h=255-h),c>127&&(c=255-c),u>127&&(u=255-u),t[l]=h,t[l+1]=c,t[l+2]=u}while(--o)}while(--s)};Ls.Solarize=a3;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.Threshold=void 0;const Zc=pt,o3=kt,l3=at,h3=function(e){var t=this.threshold()*255,r=e.data,i=r.length,n;for(n=0;n<i;n+=1)r[n]=r[n]<t?0:255};Ns.Threshold=h3;Zc.Factory.addGetterSetter(o3.Node,"threshold",.5,(0,l3.getNumberValidator)(),Zc.Factory.afterSetFilter);Object.defineProperty($n,"__esModule",{value:!0});$n.Konva=void 0;const tu=Kf,c3=Xn,u3=Zn,f3=rs,d3=is,g3=ns,eu=Kr,p3=ji,v3=ii,m3=$i,_3=os,y3=ls,b3=hs,S3=cs,w3=yr,x3=us,C3=fs,T3=ds,E3=ps,P3=vs,R3=ms,A3=_s,M3=bs,k3=Ss,O3=ws,F3=xs,L3=Cs,N3=Ts,G3=Es,I3=Ps,D3=Rs,U3=As,B3=Ms,V3=ks,j3=Fs,H3=Ls,$3=Ns;$n.Konva=tu.Konva.Util._assign(tu.Konva,{Arc:c3.Arc,Arrow:u3.Arrow,Circle:f3.Circle,Ellipse:d3.Ellipse,Image:g3.Image,Label:eu.Label,Tag:eu.Tag,Line:p3.Line,Path:v3.Path,Rect:m3.Rect,RegularPolygon:_3.RegularPolygon,Ring:y3.Ring,Sprite:b3.Sprite,Star:S3.Star,Text:w3.Text,TextPath:x3.TextPath,Transformer:C3.Transformer,Wedge:T3.Wedge,Filters:{Blur:E3.Blur,Brighten:P3.Brighten,Contrast:R3.Contrast,Emboss:A3.Emboss,Enhance:M3.Enhance,Grayscale:k3.Grayscale,HSL:O3.HSL,HSV:F3.HSV,Invert:L3.Invert,Kaleidoscope:N3.Kaleidoscope,Mask:G3.Mask,Noise:I3.Noise,Pixelate:D3.Pixelate,Posterize:U3.Posterize,RGB:B3.RGB,RGBA:V3.RGBA,Sepia:j3.Sepia,Solarize:H3.Solarize,Threshold:$3.Threshold}});var z3=ul.exports;Object.defineProperty(z3,"__esModule",{value:!0});const W3=$n;ul.exports=W3.Konva;var Ad=ul.exports;const At=wf(Ad);let q3=1016,K3=716;const Y3={setup(){return{robotStore:ol()}},data(){return{LAPANGAN:_c,ROBOT:K2,TARGET:yc,BALL:bc,BALLROBOT:Y2,stageSize:{width:q3,height:K3},image:null,arah:null,RobotConfig:{image:null,x:58,y:58,rotation:0,offset:{x:40,y:40}},TargetConfig:{image:null,x:58,y:58,width:50,height:50,offset:{x:25,y:25}},BallConfig:{image:null,x:100,y:100,width:25,height:25,offset:{x:12.5,y:12.5}}}},computed:{ballVisible(){return[1,2,4].includes(this.robotStore.message)},targetVisible(){return this.robotStore.message===3},robotImage(){return this.ballAndRobotOverlap?this.BALLROBOT:this.ROBOT},ballAndRobotOverlap(){return this.RobotConfig.x===this.BallConfig.x&&this.RobotConfig.y===this.BallConfig.y}},watch:{robotImage(e){const t=new window.Image;t.src=e,t.onload=()=>{this.RobotConfig.image=t}}},created(){const e=new window.Image;e.src=_c,e.onload=()=>{this.image=e};const t=new window.Image;t.src=this.robotImage,t.onload=()=>{this.RobotConfig.image=t};const r=new window.Image;r.src=yc,this.TargetConfig.image=r;const i=new window.Image;i.src=bc,i.onload=()=>{this.BallConfig.image=i}},methods:{gerak(e){switch(e.key.toLowerCase()){case"w":this.arah="up";break;case"a":this.arah="left";break;case"s":this.arah="down";break;case"d":this.arah="right";break;case"q":this.arah="rotateLeft";break;case"e":this.arah="rotateRight";break;case" ":this.arah=null;break}},moveTarget(e){this.robotStore.message===3&&(this.TargetConfig.x=e.evt.layerX,this.TargetConfig.y=e.evt.layerY,this.robotStore.updateKoordinat(this.TargetConfig.x-58,this.TargetConfig.y-58))}},mounted(){window.addEventListener("keydown",this.gerak),new Ad.Animation(()=>{if(this.robotStore.message!==0)this.RobotConfig.x=this.robotStore.robot.pos_x+58,this.RobotConfig.y=this.robotStore.robot.pos_y+58,this.RobotConfig.rotation=this.robotStore.robot.pos_theta*-1,this.BallConfig.x=this.robotStore.pc2bs.bola_x+58,this.BallConfig.y=this.robotStore.pc2bs.bola_y+58;else switch(this.arah){case"up":this.RobotConfig.y-=1;break;case"left":this.RobotConfig.x-=1;break;case"down":this.RobotConfig.y+=1;break;case"right":this.RobotConfig.x+=1;break;case"rotateLeft":this.RobotConfig.rotation-=1;break;case"rotateRight":this.RobotConfig.rotation+=1;break}}).start()},beforeDestroy(){window.removeEventListener("keydown",this.gerak)}},X3={class:"flex basis-2/3 border items-center justify-center"};function Q3(e,t,r,i,n,s){const a=nn("v-image"),o=nn("v-layer"),l=nn("v-stage");return Te(),Br("div",X3,[Ut(l,{ref:"stage",config:n.stageSize,onClick:s.moveTarget},{default:so(()=>[Ut(o,{ref:"layer"},{default:so(()=>[Ut(a,{config:{image:n.image}},null,8,["config"]),Ut(a,{config:n.RobotConfig},null,8,["config"]),s.targetVisible?(Te(),gn(a,{key:0,config:n.TargetConfig},null,8,["config"])):zl("",!0),s.ballVisible&&!s.ballAndRobotOverlap?(Te(),gn(a,{key:1,config:n.BallConfig},null,8,["config"])):zl("",!0)]),_:1},512)]),_:1},8,["config","onClick"])])}const J3=ll(Y3,[["render",Q3]]),Z3={setup(){return{robotStore:ol()}},data(){return{selectedMessage:null}},computed:{receivedMessage(){return this.robotStore.receivedMessage},connected(){return this.robotStore.connected}},methods:{selectMessage(e){this.selectedMessage=e,[1,2,4].includes(e)&&this.robotStore.updateKoordinat(0,0)},sendMessage(){this.selectedMessage!==null&&(this.robotStore.updateMessage(this.selectedMessage),this.robotStore.sendMessage())},refreshPage(){location.reload()}}},t4={class:"flex flex-col items-center space-y-10 p-6 bg-gray-50 rounded-lg shadow-lg"},e4={class:"flex space-x-6 items-center"},r4={key:0,class:"w-40 h-12 bg-green-600 rounded-lg shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out"},i4={key:1,class:"w-40 h-12 bg-red-600 rounded-lg shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out"},n4={class:"w-40 h-12 bg-gray-200 rounded-lg shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out"},s4={class:"text-2xl font-bold"},a4={class:"w-40 h-12 bg-orange-600 hover:scale-105 hover:bg-orange-700 active:bg-orange-800 rounded-lg shadow-lg flex items-center justify-center transition-all duration-300 ease-in-out"},o4={class:"bg-white p-8 rounded-lg shadow-lg w-full max-w-lg"},l4={class:"space-y-6 text-gray-600"},h4={class:"flex flex-col"},c4={class:"text-lg"},u4={class:"font-medium"},f4={class:"text-lg"},d4={class:"font-medium"},g4={class:"text-lg"},p4={class:"font-medium"},v4={class:"flex flex-col"},m4={class:"text-lg"},_4={class:"font-medium"},y4={class:"text-lg"},b4={class:"font-medium"},S4={class:"flex flex-col"},w4={class:"text-lg"},x4={class:"font-medium"},C4={class:"text-lg"},T4={class:"font-medium"},E4={class:"text-lg"},P4={class:"font-medium"},R4={class:"flex flex-col"},A4={class:"text-lg"},M4={class:"font-medium"},k4={class:"text-lg"},O4={class:"font-medium"},F4={class:"grid grid-cols-4 gap-6"},L4=["onClick"],N4={class:"text-xl"};function G4(e,t,r,i,n,s){return Te(),Br("div",t4,[ut("div",e4,[i.robotStore.connected?(Te(),Br("div",r4,t[2]||(t[2]=[ut("span",{class:"text-white text-2xl font-bold"},"Online",-1)]))):(Te(),Br("div",i4,t[3]||(t[3]=[ut("span",{class:"text-white text-2xl font-bold"},"Offline",-1)]))),ut("div",n4,[ut("span",s4,ee(i.robotStore.message),1)]),ut("div",a4,[ut("span",{class:"text-white text-2xl font-bold",onClick:t[0]||(t[0]=(...a)=>s.refreshPage&&s.refreshPage(...a))}," Refresh ")])]),ut("div",o4,[t[18]||(t[18]=ut("h2",{class:"text-2xl font-semibold mb-6 text-center text-gray-700"}," Robot Data ",-1)),ut("div",l4,[ut("div",h4,[t[7]||(t[7]=ut("h3",{class:"font-bold text-xl text-gray-700"},"Posisi:",-1)),ut("p",c4,[t[4]||(t[4]=fe(" X: ")),ut("span",u4,ee(i.robotStore.robot.pos_x),1)]),ut("p",f4,[t[5]||(t[5]=fe(" Y: ")),ut("span",d4,ee(i.robotStore.robot.pos_y),1)]),ut("p",g4,[t[6]||(t[6]=fe(" Θ (Theta): ")),ut("span",p4,ee(i.robotStore.robot.pos_theta),1)])]),ut("div",v4,[t[10]||(t[10]=ut("h3",{class:"font-bold text-xl text-gray-700"},"Posisi Bola:",-1)),ut("p",m4,[t[8]||(t[8]=fe(" X: ")),ut("span",_4,ee(i.robotStore.pc2bs.bola_x),1)]),ut("p",y4,[t[9]||(t[9]=fe(" Y: ")),ut("span",b4,ee(i.robotStore.pc2bs.bola_y),1)])]),ut("div",S4,[t[14]||(t[14]=ut("h3",{class:"font-bold text-xl text-gray-700"},"Kecepatan:",-1)),ut("p",w4,[t[11]||(t[11]=fe(" X: ")),ut("span",x4,ee(i.robotStore.robot.vx),1)]),ut("p",C4,[t[12]||(t[12]=fe(" Y: ")),ut("span",T4,ee(i.robotStore.robot.vy),1)]),ut("p",E4,[t[13]||(t[13]=fe(" Θ (Theta): ")),ut("span",P4,ee(i.robotStore.robot.vth),1)])]),ut("div",R4,[t[17]||(t[17]=ut("h3",{class:"font-bold text-xl text-gray-700"},"Posisi Tujuan:",-1)),ut("p",A4,[t[15]||(t[15]=fe(" X: ")),ut("span",M4,ee(i.robotStore.bs2pc.tujuan_x),1)]),ut("p",k4,[t[16]||(t[16]=fe(" Y: ")),ut("span",O4,ee(i.robotStore.bs2pc.tujuan_y),1)])])])]),ut("div",F4,[(Te(),Br(we,null,H0([1,2,3,4],a=>ut("button",{key:a,onClick:o=>s.selectMessage(a),class:Mn({"w-24 h-14 text-white rounded-lg shadow-lg transition-transform duration-300 focus:outline-none":!0,"bg-blue-600 hover:scale-105 hover:bg-blue-700 active:bg-blue-800":n.selectedMessage!==a,"bg-yellow-500":n.selectedMessage===a})},[ut("span",N4,ee(a),1)],10,L4)),64))]),ut("button",{onClick:t[1]||(t[1]=(...a)=>s.sendMessage&&s.sendMessage(...a)),class:"w-40 h-14 bg-emerald-600 text-white font-bold text-xl rounded-lg shadow-lg transition-transform duration-300 hover:scale-105 hover:bg-emerald-700 focus:outline-none active:bg-emerald-800"}," Send Message ")])}const I4=ll(Z3,[["render",G4]]),D4={class:"flex flex-col md:flex-row"},U4={__name:"HomeView",setup(e){return(t,r)=>(Te(),Br("main",null,[ut("div",D4,[Ut(J3,{class:"py-5"}),Ut(I4)])]))}},B4=W2({history:w2("/"),routes:[{path:"/",name:"home",component:U4},{path:"/about",name:"about",component:()=>zg(()=>import("./AboutView-BgNNIbv1.js"),__vite__mapDeps([0,1]))}]});function Tn(e){if(!At.autoDrawEnabled){const t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const ru={key:!0,style:!0,elm:!0,isRootInsert:!0},to=".vue-konva-event";function Md(e,t,r,i){const n=e.__konvaNode,s={};let a=!1;for(let o in r){if(ru.hasOwnProperty(o))continue;const l=o.slice(0,2)==="on",h=r[o]!==t[o];if(l&&h){let c=o.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),n==null||n.off(c+to,r[o])}!t.hasOwnProperty(o)&&(n==null||n.setAttr(o,void 0))}for(let o in t){if(ru.hasOwnProperty(o))continue;let l=o.slice(0,2)==="on";const h=r[o]!==t[o];if(l&&h){let c=o.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),t[o]&&(n==null||n.off(c+to),n==null||n.on(c+to,t[o]))}!l&&(t[o]!==r[o]||i&&t[o]!==(n==null?void 0:n.getAttr(o)))&&(a=!0,s[o]=t[o])}a&&n&&(n.setAttrs(s),Tn(n))}const V4="v";function j4(e){function t(r){return r!=null&&r.__konvaNode?r:r!=null&&r.parent?t(r.parent):(console.error("vue-konva error: Can not find parent node"),null)}return t(e.parent)}function kd(e){return e.component?e.component.__konvaNode||kd(e.component.subTree):null}function H4(e){const{el:t,component:r}=e,i=kd(e);if(t!=null&&t.tagName&&r&&!i){const n=t.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${n}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return i}function $4(e){const t=n=>!!(n!=null&&n.hasOwnProperty("component")),r=n=>Array.isArray(n),i=n=>t(n)?[n,...i(n.children)]:r(n)?n.flatMap(i):[];return i(e.children)}function Od(e,t){const r=$4(e),i=[];r.forEach(s=>{const a=H4(s);a&&i.push(a)});let n=!1;i.forEach((s,a)=>{s.getZIndex()!==a&&(s.setZIndex(a),n=!0)}),n&&Tn(t)}const z4=Nn({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(e,{attrs:t,slots:r,expose:i}){const n=gf();if(!n)return;const s=Sr({}),a=Fn(null),o=new At.Stage({width:e.config.width,height:e.config.height,container:document.createElement("div")});n.__konvaNode=o,c();function l(){return n==null?void 0:n.__konvaNode}function h(){return n==null?void 0:n.__konvaNode}function c(){if(!n)return;const u=s||{},d={...t,...e.config};Md(n,d,u,e.__useStrictMode),Object.assign(s,d)}return Xo(()=>{a.value&&(a.value.innerHTML="",o.container(a.value)),c()}),Qo(()=>{c(),Od(n.subTree,o)}),qu(()=>{o.destroy()}),vr(()=>e.config,c,{deep:!0}),i({getStage:h,getNode:l}),()=>{var u;return Bn("div",{ref:a},(u=r.default)==null?void 0:u.call(r))}}}),W4=".vue-konva-event",q4={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function K4(e,t){return Nn({name:e,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(r,{attrs:i,slots:n,expose:s}){const a=gf();if(!a)return;const o=Sr({}),l=new t;a.__konvaNode=l,a.vnode.__konvaNode=l,u();function h(){return a==null?void 0:a.__konvaNode}function c(){return a==null?void 0:a.__konvaNode}function u(){if(!a)return;const f={};for(const b in a==null?void 0:a.vnode.props)b.slice(0,2)==="on"&&(f[b]=a.vnode.props[b]);const p=o||{},_={...i,...r.config,...f};Md(a,_,p,r.__useStrictMode),Object.assign(o,_)}Xo(()=>{var f;const p=(f=j4(a))==null?void 0:f.__konvaNode;p&&"add"in p&&p.add(l),Tn(l)}),Jo(()=>{Tn(l),l.destroy(),l.off(W4)}),Qo(()=>{u(),Od(a.subTree,l)}),vr(()=>r.config,u,{deep:!0}),s({getStage:c,getNode:h});const d=q4.hasOwnProperty(e);return()=>{var f;return d?Bn("template",{},(f=n.default)==null?void 0:f.call(n)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const Y4={install:(e,t)=>{const r=(t==null?void 0:t.prefix)||V4,i={Arc:At.Arc,Arrow:At.Arrow,Circle:At.Circle,Ellipse:At.Ellipse,FastLayer:At.FastLayer,Group:At.Group,Image:At.Image,Label:At.Label,Layer:At.Layer,Line:At.Line,Path:At.Path,Rect:At.Rect,RegularPolygon:At.RegularPolygon,Ring:At.Ring,Shape:At.Shape,Sprite:At.Sprite,Star:At.Star,Tag:At.Tag,Text:At.Text,TextPath:At.TextPath,Transformer:At.Transformer,Wedge:At.Wedge,...t==null?void 0:t.customNodes};[z4,...Object.entries(i).map(([n,s])=>K4(n,s))].forEach(n=>{e.component(`${r}${n.name}`,n)})}},Gs=rg(jg);Gs.use(ag());Gs.use(B4);Gs.use(Y4);Gs.mount("#app");export{ll as _,ut as a,Br as c,Te as o};
