{
  "version": 3,
  "sources": ["../../vue-konva/dist/vue-konva.mjs"],
  "sourcesContent": ["import { defineComponent as k, getCurrentInstance as w, reactive as S, ref as O, onMounted as P, onUpdated as C, onBeforeUnmount as x, watch as A, h as E, onUnmounted as K } from \"vue\";\nimport u from \"konva\";\nfunction _(a) {\n  if (!u.autoDrawEnabled) {\n    const o = a.getLayer() || a.getStage();\n    o && o.batchDraw();\n  }\n}\nconst m = { key: !0, style: !0, elm: !0, isRootInsert: !0 }, N = \".vue-konva-event\";\nfunction T(a, o, n, c) {\n  const e = a.__konvaNode, i = {};\n  let t = !1;\n  for (let r in n) {\n    if (m.hasOwnProperty(r))\n      continue;\n    const d = r.slice(0, 2) === \"on\", v = n[r] !== o[r];\n    if (d && v) {\n      let s = r.slice(2).toLowerCase();\n      s.slice(0, 7) === \"content\" && (s = \"content\" + s.slice(7, 1).toUpperCase() + s.slice(8)), e == null || e.off(s + N, n[r]);\n    }\n    !o.hasOwnProperty(r) && (e == null || e.setAttr(r, void 0));\n  }\n  for (let r in o) {\n    if (m.hasOwnProperty(r))\n      continue;\n    let d = r.slice(0, 2) === \"on\";\n    const v = n[r] !== o[r];\n    if (d && v) {\n      let f = r.slice(2).toLowerCase();\n      f.slice(0, 7) === \"content\" && (f = \"content\" + f.slice(7, 1).toUpperCase() + f.slice(8)), o[r] && (e == null || e.off(f + N), e == null || e.on(f + N, o[r]));\n    }\n    !d && (o[r] !== n[r] || c && o[r] !== (e == null ? void 0 : e.getAttr(r))) && (t = !0, i[r] = o[r]);\n  }\n  t && e && (e.setAttrs(i), _(e));\n}\nconst R = \"v\";\nfunction M(a) {\n  function o(n) {\n    return n != null && n.__konvaNode ? n : n != null && n.parent ? o(n.parent) : (console.error(\"vue-konva error: Can not find parent node\"), null);\n  }\n  return o(a.parent);\n}\nfunction L(a) {\n  return a.component ? a.component.__konvaNode || L(a.component.subTree) : null;\n}\nfunction I(a) {\n  const { el: o, component: n } = a, c = L(a);\n  if (o != null && o.tagName && n && !c) {\n    const e = o.tagName.toLowerCase();\n    return console.error(\n      `vue-konva error: You are trying to render \"${e}\" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`\n    ), null;\n  }\n  return c;\n}\nfunction U(a) {\n  const o = (e) => !!(e != null && e.hasOwnProperty(\"component\")), n = (e) => Array.isArray(e), c = (e) => o(e) ? [e, ...c(e.children)] : n(e) ? e.flatMap(c) : [];\n  return c(a.children);\n}\nfunction b(a, o) {\n  const n = U(a), c = [];\n  n.forEach((i) => {\n    const t = I(i);\n    t && c.push(t);\n  });\n  let e = !1;\n  c.forEach((i, t) => {\n    i.getZIndex() !== t && (i.setZIndex(t), e = !0);\n  }), e && _(o);\n}\nconst j = k({\n  name: \"Stage\",\n  props: {\n    config: {\n      type: Object,\n      default: function() {\n        return {};\n      }\n    },\n    __useStrictMode: {\n      type: Boolean\n    }\n  },\n  inheritAttrs: !1,\n  setup(a, { attrs: o, slots: n, expose: c }) {\n    const e = w();\n    if (!e) return;\n    const i = S({}), t = O(null), r = new u.Stage({\n      width: a.config.width,\n      height: a.config.height,\n      container: document.createElement(\"div\")\n      // Fake container. Will be replaced\n    });\n    e.__konvaNode = r, f();\n    function d() {\n      return e == null ? void 0 : e.__konvaNode;\n    }\n    function v() {\n      return e == null ? void 0 : e.__konvaNode;\n    }\n    function f() {\n      if (!e) return;\n      const s = i || {}, g = {\n        ...o,\n        ...a.config\n      };\n      T(e, g, s, a.__useStrictMode), Object.assign(i, g);\n    }\n    return P(() => {\n      t.value && (t.value.innerHTML = \"\", r.container(t.value)), f();\n    }), C(() => {\n      f(), b(e.subTree, r);\n    }), x(() => {\n      r.destroy();\n    }), A(() => a.config, f, { deep: !0 }), c({\n      getStage: v,\n      getNode: d\n    }), () => {\n      var s;\n      return E(\"div\", { ref: t }, (s = n.default) == null ? void 0 : s.call(n));\n    };\n  }\n}), V = \".vue-konva-event\", F = {\n  Group: !0,\n  Layer: !0,\n  FastLayer: !0,\n  Label: !0\n};\nfunction G(a, o) {\n  return k({\n    name: a,\n    props: {\n      config: {\n        type: Object,\n        default: function() {\n          return {};\n        }\n      },\n      __useStrictMode: {\n        type: Boolean\n      }\n    },\n    setup(n, { attrs: c, slots: e, expose: i }) {\n      const t = w();\n      if (!t) return;\n      const r = S({}), d = new o();\n      t.__konvaNode = d, t.vnode.__konvaNode = d, s();\n      function v() {\n        return t == null ? void 0 : t.__konvaNode;\n      }\n      function f() {\n        return t == null ? void 0 : t.__konvaNode;\n      }\n      function s() {\n        if (!t) return;\n        const l = {};\n        for (const h in t == null ? void 0 : t.vnode.props)\n          h.slice(0, 2) === \"on\" && (l[h] = t.vnode.props[h]);\n        const p = r || {}, y = {\n          ...c,\n          ...n.config,\n          ...l\n        };\n        T(t, y, p, n.__useStrictMode), Object.assign(r, y);\n      }\n      P(() => {\n        var p;\n        const l = (p = M(t)) == null ? void 0 : p.__konvaNode;\n        l && \"add\" in l && l.add(d), _(d);\n      }), K(() => {\n        _(d), d.destroy(), d.off(V);\n      }), C(() => {\n        s(), b(t.subTree, d);\n      }), A(() => n.config, s, { deep: !0 }), i({\n        getStage: f,\n        getNode: v\n      });\n      const g = F.hasOwnProperty(a);\n      return () => {\n        var l;\n        return g ? E(\"template\", {}, (l = e.default) == null ? void 0 : l.call(e)) : null;\n      };\n    }\n  });\n}\ntypeof window < \"u\" && !window.Konva && require(\"konva\");\nconst D = {\n  install: (a, o) => {\n    const n = (o == null ? void 0 : o.prefix) || R, c = {\n      Arc: u.Arc,\n      Arrow: u.Arrow,\n      Circle: u.Circle,\n      Ellipse: u.Ellipse,\n      FastLayer: u.FastLayer,\n      Group: u.Group,\n      Image: u.Image,\n      Label: u.Label,\n      Layer: u.Layer,\n      Line: u.Line,\n      Path: u.Path,\n      Rect: u.Rect,\n      RegularPolygon: u.RegularPolygon,\n      Ring: u.Ring,\n      Shape: u.Shape,\n      Sprite: u.Sprite,\n      Star: u.Star,\n      Tag: u.Tag,\n      Text: u.Text,\n      TextPath: u.TextPath,\n      Transformer: u.Transformer,\n      Wedge: u.Wedge,\n      ...o == null ? void 0 : o.customNodes\n    };\n    [\n      j,\n      ...Object.entries(c).map(\n        ([i, t]) => G(i, t)\n      )\n    ].forEach((i) => {\n      a.component(`${n}${i.name}`, i);\n    });\n  }\n};\nexport {\n  D as default\n};\n"],
  "mappings": "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",
  "names": ["u", "h"]
}
